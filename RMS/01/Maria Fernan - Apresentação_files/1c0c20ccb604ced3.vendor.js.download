/*! For license information please see 1c0c20ccb604ced3.vendor.js.LICENSE.txt */
(self.webpackChunk_canva_web=self.webpackChunk_canva_web||[]).push([[25436],{107495:e=>{var t;window,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=85)}([function(e,t,n){"use strict";n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return T})),n.d(t,"d",(function(){return I})),n.d(t,"a",(function(){return O}));var r=n(1),i=n.n(r),o=n(10),s=n.n(o),a=n(17),c=n.n(a),u=n(2),l=n(5),f=n(3),h=n(9),d=n(6),p=n(25),g=n(11),y=n(20);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(c){a=!0,i=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=Object(g.a)("quill"),S=new u.Registry;u.ParentBlot.uiClass="ql-ui";var O=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=T(t,r),this.container=this.options.container,null==this.container)return w.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",p.a.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new f.a;var o=this.options.registry.query(u.ScrollBlot.blotName);this.scroll=new o(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new l.a(this.scroll),this.selection=new d.b(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.init(),this.emitter.on(f.a.events.EDITOR_CHANGE,(function(e){e===f.a.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(f.a.events.SCROLL_UPDATE,(function(e,t,r){var i=n.selection.lastRange,o=v(n.selection.getRange(),1)[0],s=i&&o?{oldRange:i,newRange:o}:void 0;A.call(n,(function(){return n.editor.update(null,t,s)}),e),null!=r&&Object.entries(r).forEach((function(e){var t=v(e,2),r=t[0],i=t[1];return n.selection.format(r,i)}))}));var s=this.clipboard.convert({html:"".concat(i,"<p><br></p>"),text:"\n"});this.setContents(s),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}var t,n,r;return t=e,n=[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var r=this,i=v(I(e,t,n),4);return e=i[0],t=i[1],n=i[3],A.call(this,(function(){return r.editor.deleteText(e,t)}),n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"editReadOnly",value:function(e){this.allowReadOnlyEdits=!0;var t=e();return this.allowReadOnlyEdits=!1,t}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.a.sources.API;return A.call(this,(function(){var r=n.getSelection(!0),o=new i.a;if(null==r)return o;if(n.scroll.query(e,u.Scope.BLOCK))o=n.editor.formatLine(r.index,r.length,b({},e,t));else{if(0===r.length)return n.selection.format(e,t),o;o=n.editor.formatText(r.index,r.length,b({},e,t))}return n.setSelection(r,f.a.sources.SILENT),o}),r)}},{key:"formatLine",value:function(e,t,n,r,i){var o,s=this,a=v(I(e,t,n,r,i),4);return e=a[0],t=a[1],o=a[2],i=a[3],A.call(this,(function(){return s.editor.formatLine(e,t,o)}),i,e,0)}},{key:"formatText",value:function(e,t,n,r,i){var o,s=this,a=v(I(e,t,n,r,i),4);return e=a[0],t=a[1],o=a[2],i=a[3],A.call(this,(function(){return s.editor.formatText(e,t,o)}),i,e,0)}},{key:"getBounds",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!(t="number"==typeof e?this.selection.getBounds(e,n):this.selection.getBounds(e.index,e.length)))return null;var r=this.container.getBoundingClientRect();return{bottom:t.bottom-r.top,height:t.height,left:t.left-r.left,right:t.right-r.left,top:t.top-r.top,width:t.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=v(I(e,t),2);return e=n[0],t=n[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getSemanticHTML",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=v(I(e,t),2);return e=n[0],t=n[1],this.editor.getHTML(e,t)}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=v(I(e,t),2);return e=n[0],t=n[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return A.call(this,(function(){return i.editor.insertEmbed(t,n,r)}),o,t)}},{key:"insertText",value:function(e,t,n,r,i){var o,s=this,a=v(I(e,0,n,r,i),4);return e=a[0],o=a[2],i=a[3],A.call(this,(function(){return s.editor.insertText(e,t,o)}),i,e,t.length)}},{key:"isEnabled",value:function(){return this.scroll.isEnabled()}},{key:"off",value:function(){var e;return(e=this.emitter).off.apply(e,arguments)}},{key:"on",value:function(){var e;return(e=this.emitter).on.apply(e,arguments)}},{key:"once",value:function(){var e;return(e=this.emitter).once.apply(e,arguments)}},{key:"removeFormat",value:function(e,t,n){var r=this,i=v(I(e,t,n),4);return e=i[0],t=i[1],n=i[3],A.call(this,(function(){return r.editor.removeFormat(e,t)}),n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a.sources.API;return A.call(this,(function(){e=new i.a(e);var n=t.getLength(),r=t.editor.deleteText(0,n),o=t.editor.applyDelta(e),s=t.editor.deleteText(t.getLength()-1,1);return r.compose(o).compose(s)}),n)}},{key:"setSelection",value:function(t,n,r){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var i=v(I(t,n,r),4);t=i[0],n=i[1],r=i[3],this.selection.setRange(new d.a(Math.max(0,t),n),r),r!==f.a.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a.sources.API,n=(new i.a).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.a.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a.sources.API;return A.call(this,(function(){return e=new i.a(e),t.editor.applyDelta(e,n)}),n,!0)}}],r=[{key:"debug",value:function(e){!0===e&&(e="log"),g.a.level(e)}},{key:"find",value:function(e){return p.a.get(e)||S.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&w.error("Cannot import ".concat(e,". Are you sure it was registered?")),this.imports[e]}},{key:"register",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var i=e.attrName||e.blotName;"string"==typeof i?this.register("formats/".concat(i),e,t):Object.keys(e).forEach((function(r){n.register(r,e[r],t)}))}else null==this.imports[e]||r||w.warn("Overwriting ".concat(e," with"),t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName&&S.register(t),"function"==typeof t.register&&t.register(S)}}],n&&_(t.prototype,n),r&&_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function T(e,t){if((t=c()({container:e,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0}},t)).theme&&t.theme!==O.DEFAULTS.theme){if(t.theme=O.import("themes/".concat(t.theme)),null==t.theme)throw new Error("Invalid theme ".concat(t.theme,". Did you register it?"))}else t.theme=y.a;var n=s()(t.theme.DEFAULTS);[n,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var r=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var n=O.import("modules/".concat(t));return null==n?w.error("Cannot load ".concat(t," module. Are you sure you registered it?")):e[t]=n.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=c()({},O.DEFAULTS,{modules:r},n,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e}),{}),t}function A(e,t,n,r){if(!this.isEnabled()&&t===f.a.sources.USER&&!this.allowReadOnlyEdits)return new i.a;var o=null==n?null:this.getSelection(),s=this.editor.delta,a=e();if(null!=o&&(!0===n&&(n=o.index),null==r?o=C(o,a,t):0!==r&&(o=C(o,n,r,t)),this.setSelection(o,f.a.sources.SILENT)),a.length()>0){var c,u,l=[f.a.events.TEXT_CHANGE,a,s,t];(c=this.emitter).emit.apply(c,[f.a.events.EDITOR_CHANGE].concat(l)),t!==f.a.sources.SILENT&&(u=this.emitter).emit.apply(u,l)}return a}function I(e,t,n,r,i){var o={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(i=r,r=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(i=r,r=n,n=t,t=0),"object"===m(n)?(o=n,i=r):"string"==typeof n&&(null!=r?o[n]=r:i=n),[e,t,o,i=i||f.a.sources.API]}function C(e,t,n,r){if(null==e)return null;var o,s;if(t instanceof i.a){var a=v([e.index,e.index+e.length].map((function(e){return t.transformPosition(e,r!==f.a.sources.USER)})),2);o=a[0],s=a[1]}else{var c=v([e.index,e.index+e.length].map((function(e){return e<t||e===t&&r===f.a.sources.USER?e:n>=0?e+n:Math.max(t,e+n)})),2);o=c[0],s=c[1]}return new d.a(o,s-o)}O.DEFAULTS={bounds:null,modules:{},placeholder:"",readOnly:!1,registry:S,scrollingContainer:null,theme:"default"},O.events=f.a.events,O.sources=f.a.sources,O.version="2.0.0-dev.46",O.imports={delta:i.a,parchment:u,"core/module":h.a,"core/theme":y.a}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=r(n(50)),o=r(n(10)),s=r(n(18)),a=r(n(51)),c=r(n(42)),u=String.fromCharCode(0),l=function(){function e(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return e.prototype.insert=function(e,t){var n={};return"string"==typeof e&&0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},e.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},e.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},e.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=o.default(e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(s.default(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},e.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},e.prototype.filter=function(e){return this.ops.filter(e)},e.prototype.forEach=function(e){this.ops.forEach(e)},e.prototype.map=function(e){return this.ops.map(e)},e.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(r){(e(r)?t:n).push(r)})),[t,n]},e.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},e.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+c.default.length(t):t.delete?e-t.delete:e}),0)},e.prototype.length=function(){return this.reduce((function(e,t){return e+c.default.length(t)}),0)},e.prototype.slice=function(t,n){void 0===t&&(t=0),void 0===n&&(n=1/0);for(var r=[],i=c.default.iterator(this.ops),o=0;o<n&&i.hasNext();){var s=void 0;o<t?s=i.next(t-o):(s=i.next(n-o),r.push(s)),o+=c.default.length(s)}return new e(r)},e.prototype.compose=function(t){var n=c.default.iterator(this.ops),r=c.default.iterator(t.ops),i=[],o=r.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var u=o.retain;"insert"===n.peekType()&&n.peekLength()<=u;)u-=n.peekLength(),i.push(n.next());o.retain-u>0&&r.next(o.retain-u)}for(var l=new e(i);n.hasNext()||r.hasNext();)if("insert"===r.peekType())l.push(r.next());else if("delete"===n.peekType())l.push(n.next());else{var f=Math.min(n.peekLength(),r.peekLength()),h=n.next(f),d=r.next(f);if("number"==typeof d.retain){var p={};"number"==typeof h.retain?p.retain=f:p.insert=h.insert;var g=a.default.compose(h.attributes,d.attributes,"number"==typeof h.retain);if(g&&(p.attributes=g),l.push(p),!r.hasNext()&&s.default(l.ops[l.ops.length-1],p)){var y=new e(n.rest());return l.concat(y).chop()}}else"number"==typeof d.delete&&"number"==typeof h.retain&&l.push(d)}return l.chop()},e.prototype.concat=function(t){var n=new e(this.ops.slice());return t.ops.length>0&&(n.push(t.ops[0]),n.ops=n.ops.concat(t.ops.slice(1))),n},e.prototype.diff=function(t,n){if(this.ops===t.ops)return new e;var r=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:u;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),o=new e,l=i.default(r[0],r[1],n),f=c.default.iterator(this.ops),h=c.default.iterator(t.ops);return l.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case i.default.INSERT:n=Math.min(h.peekLength(),t),o.push(h.next(n));break;case i.default.DELETE:n=Math.min(t,f.peekLength()),f.next(n),o.delete(n);break;case i.default.EQUAL:n=Math.min(f.peekLength(),h.peekLength(),t);var r=f.next(n),c=h.next(n);s.default(r.insert,c.insert)?o.retain(n,a.default.diff(r.attributes,c.attributes)):o.push(c).delete(n)}t-=n}})),o.chop()},e.prototype.eachLine=function(t,n){void 0===n&&(n="\n");for(var r=c.default.iterator(this.ops),i=new e,o=0;r.hasNext();){if("insert"!==r.peekType())return;var s=r.peek(),a=c.default.length(s)-r.peekLength(),u="string"==typeof s.insert?s.insert.indexOf(n,a)-a:-1;if(u<0)i.push(r.next());else if(u>0)i.push(r.next(u));else{if(!1===t(i,r.next(1).attributes||{},o))return;o+=1,i=new e}}i.length()>0&&t(i,{},o)},e.prototype.invert=function(t){var n=new e;return this.reduce((function(e,r){if(r.insert)n.delete(c.default.length(r));else{if(r.retain&&null==r.attributes)return n.retain(r.retain),e+r.retain;if(r.delete||r.retain&&r.attributes){var i=r.delete||r.retain;return t.slice(e,e+i).forEach((function(e){r.delete?n.push(e):r.retain&&r.attributes&&n.retain(c.default.length(e),a.default.invert(r.attributes,e.attributes))})),e+i}}return e}),0),n.chop()},e.prototype.transform=function(t,n){if(void 0===n&&(n=!1),n=!!n,"number"==typeof t)return this.transformPosition(t,n);for(var r=t,i=c.default.iterator(this.ops),o=c.default.iterator(r.ops),s=new e;i.hasNext()||o.hasNext();)if("insert"!==i.peekType()||!n&&"insert"===o.peekType())if("insert"===o.peekType())s.push(o.next());else{var u=Math.min(i.peekLength(),o.peekLength()),l=i.next(u),f=o.next(u);if(l.delete)continue;f.delete?s.push(f):s.retain(u,a.default.transform(l.attributes,f.attributes,n))}else s.retain(c.default.length(i.next()));return s.chop()},e.prototype.transformPosition=function(e,t){void 0===t&&(t=!1),t=!!t;for(var n=c.default.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var i=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<e||!t)&&(e+=i),r+=i):e-=Math.min(i,e-r)}return e},e.Op=c.default,e.AttributeMap=a.default,e}();e.exports=l},function(e,t,n){"use strict";n.r(t),n.d(t,"Blot",(function(){return i.Blot})),n.d(t,"ParentBlot",(function(){return y})),n.d(t,"ContainerBlot",(function(){return v})),n.d(t,"LeafBlot",(function(){return w})),n.d(t,"EmbedBlot",(function(){return U})),n.d(t,"ScrollBlot",(function(){return q})),n.d(t,"BlockBlot",(function(){return D})),n.d(t,"InlineBlot",(function(){return L})),n.d(t,"TextBlot",(function(){return z})),n.d(t,"Formattable",(function(){return i.Formattable})),n.d(t,"Attributor",(function(){return S})),n.d(t,"ClassAttributor",(function(){return I})),n.d(t,"StyleAttributor",(function(){return R})),n.d(t,"AttributorStore",(function(){return P})),n.d(t,"Registry",(function(){return h})),n.d(t,"Scope",(function(){return s}));var r,i=n(41);!function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(r||(r={}));var o,s=r,a=function(){function e(){this.head=null,this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.insertBefore(e[0],null),e.length>1){var n=e.slice(1);this.append.apply(this,n)}},e.prototype.at=function(e){for(var t=this.iterator(),n=t();n&&e>0;)e-=1,n=t();return n},e.prototype.contains=function(e){for(var t=this.iterator(),n=t();n;){if(n===e)return!0;n=t()}return!1},e.prototype.indexOf=function(e){for(var t=this.iterator(),n=t(),r=0;n;){if(n===e)return r;r+=1,n=t()}return-1},e.prototype.insertBefore=function(e,t){null!=e&&e!==t&&(this.remove(e),e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n=this.iterator(),r=n();r;){var i=r.length();if(e<i||t&&e===i&&(null==r.next||0!==r.next.length()))return[r,e];e-=i,r=n()}return[null,0]},e.prototype.forEach=function(e){for(var t=this.iterator(),n=t();n;)e(n),n=t()},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var r=this.find(e),i=r[0],o=e-r[1],s=this.iterator(i),a=s();a&&o<e+t;){var c=a.length();e>o?n(a,e-o,Math.min(t,o+c-e)):n(a,0,Math.min(c,e+t-o)),o+=c,a=s()}},e.prototype.map=function(e){return this.reduce((function(t,n){return t.push(e(n)),t}),[])},e.prototype.reduce=function(e,t){for(var n=this.iterator(),r=n();r;)t=e(t,r),r=n();return t},e}(),c=a,u=(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return u(t,e),t}(Error),f=function(){function e(){this.attributes={},this.classes={},this.tags={},this.types={}}return e.find=function(e,t){return void 0===t&&(t=!1),null==e?null:this.blots.has(e)?this.blots.get(e)||null:t?this.find(e.parentNode,t):null},e.prototype.create=function(t,n,r){var i=this.query(n);if(null==i)throw new l("Unable to create "+n+" blot");var o=i,s=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:o.create(r),a=new o(t,s,r);return e.blots.set(a.domNode,a),a},e.prototype.find=function(t,n){return void 0===n&&(n=!1),e.find(t,n)},e.prototype.query=function(e,t){var n,r=this;return void 0===t&&(t=s.ANY),"string"==typeof e?n=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?n=this.types.text:"number"==typeof e?e&s.LEVEL&s.BLOCK?n=this.types.block:e&s.LEVEL&s.INLINE&&(n=this.types.inline):e instanceof HTMLElement&&((e.getAttribute("class")||"").split(/\s+/).some((function(e){return!!(n=r.classes[e])})),n=n||this.tags[e.tagName]),null==n?null:t&s.LEVEL&n.scope&&t&s.TYPE&n.scope?n:null},e.prototype.register=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map((function(t){return e.register(t)}));var r=t[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new l("Invalid definition");if("abstract"===r.blotName)throw new l("Cannot register abstract class");return this.types[r.blotName||r.attrName]=r,"string"==typeof r.keyName?this.attributes[r.keyName]=r:(null!=r.className&&(this.classes[r.className]=r),null!=r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map((function(e){return e.toUpperCase()})):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach((function(t){null!=e.tags[t]&&null!=r.className||(e.tags[t]=r)})))),r},e.blots=new WeakMap,e}(),h=f,d=function(){function e(e,t){this.scroll=e,this.domNode=t,h.blots.set(t,this),this.prev=null,this.next=null}return e.create=function(e){if(null==this.tagName)throw new l("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e,10).toString()===e&&(e=parseInt(e,10))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!1,configurable:!0}),e.prototype.attach=function(){},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return this.scroll.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),h.blots.delete(this.domNode)},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,r){var i=this.isolate(e,t);if(null!=this.scroll.query(n,s.BLOT)&&r)i.wrap(n,r);else if(null!=this.scroll.query(n,s.ATTRIBUTE)){var o=this.scroll.create(this.statics.scope);i.wrap(o),o.format(n,r)}},e.prototype.insertAt=function(e,t,n){var r=null==n?this.scroll.create("text",t):this.scroll.create(t,n),i=this.split(e);this.parent.insertBefore(r,i||void 0)},e.prototype.isolate=function(e,t){var n=this.split(e);if(null==n)throw new Error("Attempt to isolate at end");return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName)},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replaceWith=function(e,t){var n="string"==typeof e?this.scroll.create(e,t):e;return null!=this.parent&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"==typeof e?this.scroll.create(e,t):e;if(null!=this.parent&&this.parent.insertBefore(n,this.next||void 0),"function"!=typeof n.appendChild)throw new l("Cannot wrap "+e);return n.appendChild(this),n},e.blotName="abstract",e}(),p=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function g(e,t){var n=t.find(e);if(null==n)try{n=t.create(e)}catch(r){n=t.create(s.INLINE),Array.from(e.childNodes).forEach((function(e){n.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(n.domNode,e),n.attach()}return n}var y=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.uiNode=null,r.build(),r}return p(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.attachUI=function(e){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=e,t.uiClass&&this.uiNode.classList.add(t.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)},t.prototype.build=function(){var e=this;this.children=new c,Array.from(this.domNode.childNodes).filter((function(t){return t!==e.uiNode})).reverse().forEach((function(t){try{var n=g(t,e.scroll);e.insertBefore(n,e.children.head||void 0)}catch(r){if(r instanceof l)return;throw r}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,n){e.deleteAt(t,n)}))},t.prototype.descendant=function(e,n){void 0===n&&(n=0);var r=this.children.find(n),i=r[0],o=r[1];return null==e.blotName&&e(i)||null!=e.blotName&&i instanceof e?[i,o]:i instanceof t?i.descendant(e,o):[null,-1]},t.prototype.descendants=function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var i=[],o=r;return this.children.forEachAt(n,r,(function(n,r,s){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&i.push(n),n instanceof t&&(i=i.concat(n.descendants(e,r,o))),o-=s})),i},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.enforceAllowedChildren=function(){var e=this,n=!1;this.children.forEach((function(r){n||e.statics.allowedChildren.some((function(e){return r instanceof e}))||(r.statics.scope===s.BLOCK_BLOT?(null!=r.next&&e.splitAfter(r),null!=r.prev&&e.splitAfter(r.prev),r.parent.unwrap(),n=!0):r instanceof t?r.unwrap():r.remove())}))},t.prototype.formatAt=function(e,t,n,r){this.children.forEachAt(e,t,(function(e,t,i){e.formatAt(t,i,n,r)}))},t.prototype.insertAt=function(e,t,n){var r=this.children.find(e),i=r[0],o=r[1];if(i)i.insertAt(o,t,n);else{var s=null==n?this.scroll.create("text",t):this.scroll.create(t,n);this.appendChild(s)}},t.prototype.insertBefore=function(e,t){if(e!==t){null!=e.parent&&e.parent.children.remove(e);var n=null;this.children.insertBefore(e,t||null),e.parent=this,null!=t&&(n=t.domNode),e.domNode.parentNode===this.domNode&&e.domNode.nextSibling===n||this.domNode.insertBefore(e.domNode,n),e.attach()}},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){var n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var r=this.children.find(e,n),i=r[0],o=r[1],s=[[this,e]];return i instanceof t?s.concat(i.path(o,n)):(null!=i&&s.push([i,o]),s)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replaceWith=function(n,r){var i="string"==typeof n?this.scroll.create(n,r):n;return i instanceof t&&this.moveChildren(i),e.prototype.replaceWith.call(this,i)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(e,this.length(),(function(e,r,i){var o=e.split(r,t);null!=o&&n.appendChild(o)})),n},t.prototype.splitAfter=function(e){for(var t=this.clone();null!=e.next;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t},t.prototype.unwrap=function(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()},t.prototype.update=function(e,t){var n=this,r=[],i=[];e.forEach((function(e){e.target===n.domNode&&"childList"===e.type&&(r.push.apply(r,e.addedNodes),i.push.apply(i,e.removedNodes))})),i.forEach((function(e){if(null==e.parentNode||e instanceof Element&&("IFRAME"===e.tagName||null!=e.querySelector("iframe"))||!(document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=n.scroll.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}})),r.filter((function(e){return e.parentNode===n.domNode||e===n.uiNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=n.scroll.find(e.nextSibling));var r=g(e,n.scroll);r.next===t&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,t||void 0))})),this.enforceAllowedChildren()},t.uiClass="",t}(d),m=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),t.prototype.checkMerge=function(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName},t.prototype.deleteAt=function(t,n){e.prototype.deleteAt.call(this,t,n),this.enforceAllowedChildren()},t.prototype.formatAt=function(t,n,r,i){e.prototype.formatAt.call(this,t,n,r,i),this.enforceAllowedChildren()},t.prototype.insertAt=function(t,n,r){e.prototype.insertAt.call(this,t,n,r),this.enforceAllowedChildren()},t.prototype.optimize=function(t){e.prototype.optimize.call(this,t),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())},t.blotName="container",t.scope=s.BLOCK_BLOT,t}(y),v=b,E=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return E(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=s.INLINE_BLOT,t}(d),w=_,S=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var r=s.TYPE&s.ATTRIBUTE;this.scope=null!=n.scope?n.scope&s.LEVEL|r:s.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return Array.from(e.attributes).map((function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1)},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}(),O=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function T(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}var A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){T(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(T(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(S),I=A,C=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return C(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style.setProperty(this.keyName,t),!0)},t.prototype.remove=function(e){e.style.removeProperty(this.keyName),e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style.getPropertyValue(this.keyName).trim();return this.canAdd(e,t)?t:""},t}(S),R=N,P=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=h.find(this.domNode);if(null!=t){var n=S.keys(this.domNode),r=I.keys(this.domNode),i=R.keys(this.domNode);n.concat(r).concat(i).forEach((function(n){var r=t.scroll.query(n,s.ATTRIBUTE);r instanceof S&&(e.attributes[r.attrName]=r)}))}},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(n){var r=t.attributes[n].value(t.domNode);e.format(n,r)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,n){return t[n]=e.attributes[n].value(e.domNode),t}),{})},e}(),x=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),L=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.attributes=new P(r.domNode),r}return x(t,e),t.formats=function(e,n){var r=n.query(t.blotName);if(null==r||e.tagName!==r.tagName)return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,n){var r=this;if(e!==this.statics.blotName||n){var i=this.scroll.query(e,s.INLINE);if(null==i)return;i instanceof S?this.attributes.attribute(i,n):!n||e===this.statics.blotName&&this.formats()[e]===n||this.replaceWith(e,n)}else this.children.forEach((function(e){e instanceof t||(e=e.wrap(t.blotName,!0)),r.attributes.copy(e)})),this.unwrap()},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.formatAt=function(t,n,r,i){null!=this.formats()[r]||this.scroll.query(r,s.ATTRIBUTE)?this.isolate(t,n).format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var i=this.next;i instanceof t&&i.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(r,i.formats())&&(i.moveChildren(this),i.remove())},t.prototype.replaceWith=function(t,n){var r=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(r),r},t.prototype.update=function(t,n){var r=this;e.prototype.update.call(this,t,n),t.some((function(e){return e.target===r.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(n,r){var i=e.prototype.wrap.call(this,n,r);return i instanceof t&&this.attributes.move(i),i},t.allowedChildren=[t,w],t.blotName="inline",t.scope=s.INLINE_BLOT,t.tagName="SPAN",t}(y),M=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.attributes=new P(r.domNode),r}return M(t,e),t.formats=function(e,n){var r=n.query(t.blotName);if(null==r||e.tagName!==r.tagName)return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,n){var r=this.scroll.query(e,s.BLOCK);null!=r&&(r instanceof S?this.attributes.attribute(r,n):e!==this.statics.blotName||n?!n||e===this.statics.blotName&&this.formats()[e]===n||this.replaceWith(e,n):this.replaceWith(t.blotName))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.formatAt=function(t,n,r,i){null!=this.scroll.query(r,s.BLOCK)?this.format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.insertAt=function(t,n,r){if(null==r||null!=this.scroll.query(n,s.INLINE))e.prototype.insertAt.call(this,t,n,r);else{var i=this.split(t);if(null==i)throw new Error("Attempt to insertAt after block boundaries");var o=this.scroll.create(n,r);i.parent.insertBefore(o,i)}},t.prototype.replaceWith=function(t,n){var r=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(r),r},t.prototype.update=function(t,n){var r=this;e.prototype.update.call(this,t,n),t.some((function(e){return e.target===r.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.blotName="block",t.scope=s.BLOCK_BLOT,t.tagName="P",t.allowedChildren=[L,t,w],t}(y),k=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t.formats=function(e,t){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,r,i){0===t&&n===this.length()?this.format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.formats=function(){return this.statics.formats(this.domNode,this.scroll)},t}(w),U=j,F=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},V=function(e){function t(t,n){var r=e.call(this,null,n)||this;return r.registry=t,r.scroll=r,r.build(),r.observer=new MutationObserver((function(e){r.update(e)})),r.observer.observe(r.domNode,B),r.attach(),r}return F(t,e),t.prototype.create=function(e,t){return this.registry.create(this,e,t)},t.prototype.find=function(e,t){void 0===t&&(t=!1);var n=this.registry.find(e,t);return n?n.scroll===this?n:t?this.find(n.scroll.domNode.parentNode,!0):null:null},t.prototype.query=function(e,t){return void 0===t&&(t=s.ANY),this.registry.query(e,t)},t.prototype.register=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.registry).register.apply(e,t)},t.prototype.build=function(){null!=this.scroll&&e.prototype.build.call(this)},t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,r,i){this.update(),e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.insertAt=function(t,n,r){this.update(),e.prototype.insertAt.call(this,t,n,r)},t.prototype.optimize=function(t,n){var r=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var i=n.mutationsMap||new WeakMap,o=Array.from(this.observer.takeRecords());o.length>0;)t.push(o.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==r&&null!=e.domNode.parentNode&&(i.has(e.domNode)||i.set(e.domNode,[]),t&&s(e.parent))},a=function(e){i.has(e.domNode)&&(e instanceof y&&e.children.forEach(a),i.delete(e.domNode),e.optimize(n))},c=t,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach((function(e){var t=r.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(r.find(e.previousSibling,!1)),Array.from(e.addedNodes).forEach((function(e){var t=r.find(e,!1);s(t,!1),t instanceof y&&t.children.forEach((function(e){s(e,!1)}))}))):"attributes"===e.type&&s(t.prev)),s(t))})),this.children.forEach(a),o=(c=Array.from(this.observer.takeRecords())).slice();o.length>0;)t.push(o.pop())}},t.prototype.update=function(t,n){var r=this;void 0===n&&(n={}),t=t||this.observer.takeRecords();var i=new WeakMap;t.map((function(e){var t=r.find(e.target,!0);return null==t?null:i.has(t.domNode)?(i.get(t.domNode).push(e),null):(i.set(t.domNode,[e]),t)})).forEach((function(e){null!=e&&e!==r&&i.has(e.domNode)&&e.update(i.get(e.domNode)||[],n)})),n.mutationsMap=i,i.has(this.domNode)&&e.prototype.update.call(this,i.get(this.domNode),n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild=D,t.allowedChildren=[D,v],t.scope=s.BLOCK_BLOT,t.tagName="DIV",t}(y),q=V,G=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),z=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.text=r.statics.value(r.domNode),r}return G(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){return e.data},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,r){null==r?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,r)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some((function(e){return"characterData"===e.type&&e.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=s.INLINE_BLOT,t}(w)},function(e,t,n){"use strict";var r=n(43),i=n.n(r),o=n(25),s=n(11);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},u.apply(this,arguments)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var d=Object(s.a)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach((function(e){var n,r=o.a.get(e);r&&r.emitter&&(n=r.emitter).handleDOM.apply(n,t)}))}))}));var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(o,e);var t,n,r,i=f(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this)).listeners={},e.on("error",d.error),e}return t=o,n=[{key:"emit",value:function(){for(var e,t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(e=d.log).call.apply(e,[d].concat(r)),(t=u(h(o.prototype),"emit",this)).call.apply(t,[this].concat(r))}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.listeners[e.type]||[]).forEach((function(t){var r=t.node,i=t.handler;(e.target===r||r.contains(e.target))&&i.apply(void 0,[e].concat(n))}))}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}],n&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.a);p.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},p.sources={API:"api",SILENT:"silent",USER:"user"},t.a=p},function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return _}));var r=n(1),i=n.n(r),o=n(2),s=n(8),a=n(12),c=n(7);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},y.apply(this,arguments)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var _=function(e){m(n,e);var t=v(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).cache={},i}return g(n,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=S(this)),this.cache.delta}},{key:"deleteAt",value:function(e,t){y(E(n.prototype),"deleteAt",this).call(this,e,t),this.cache={}}},{key:"formatAt",value:function(e,t,r,i){t<=0||(this.scroll.query(r,o.Scope.BLOCK)?e+t===this.length()&&this.format(r,i):y(E(n.prototype),"formatAt",this).call(this,e,Math.min(t,this.length()-e-1),r,i),this.cache={})}},{key:"insertAt",value:function(e,t,r){if(null!=r)return y(E(n.prototype),"insertAt",this).call(this,e,t,r),void(this.cache={});if(0!==t.length){var i=t.split("\n"),o=i.shift();o.length>0&&(e<this.length()-1||null==this.children.tail?y(E(n.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var s=this;i.reduce((function(e,t){return(s=s.split(e,!0)).insertAt(0,t),t.length}),e+o.length)}}},{key:"insertBefore",value:function(e,t){var r=this.children.head;y(E(n.prototype),"insertBefore",this).call(this,e,t),r instanceof s.a&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=y(E(n.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,t){y(E(n.prototype),"moveChildren",this).call(this,e,t),this.cache={}}},{key:"optimize",value:function(e){y(E(n.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return y(E(n.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){y(E(n.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&(0===e||e>=this.length()-1)){var r=this.clone();return 0===e?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var i=y(E(n.prototype),"split",this).call(this,e,t);return this.cache={},i}}]),n}(o.BlockBlot);_.blotName="block",_.tagName="P",_.defaultChild=s.a,_.allowedChildren=[s.a,a.a,o.EmbedBlot,c.a];var w=function(e){m(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"attach",value:function(){y(E(n.prototype),"attach",this).call(this),this.attributes=new o.AttributorStore(this.domNode)}},{key:"delta",value:function(){return(new i.a).insert(this.value(),f(f({},this.formats()),this.attributes.values()))}},{key:"format",value:function(e,t){var n=this.scroll.query(e,o.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,r){this.format(n,r)}},{key:"insertAt",value:function(e,t,r){if("string"==typeof t&&t.endsWith("\n")){var i=this.scroll.create(_.blotName);this.parent.insertBefore(i,0===e?this:this.next),i.insertAt(0,t.slice(0,-1))}else y(E(n.prototype),"insertAt",this).call(this,e,t,r)}}]),n}(o.EmbedBlot);function S(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.descendants(o.LeafBlot).reduce((function(e,n){return 0===n.length()?e:e.insert(n.value(),O(n,{},t))}),new i.a).insert("\n",O(e))}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==e?t:("function"==typeof e.formats&&(t=f(f({},t),e.formats()),n&&delete t["code-token"]),null==e.parent||"scroll"===e.parent.statics.blotName||e.parent.statics.scope!==e.statics.scope?t:O(e.parent,t,n))}w.scope=o.Scope.BLOCK_BLOT},function(e,t,n){"use strict";var r=n(10),i=n.n(r),o=n(18),s=n.n(o),a=n(17),c=n.n(a),u=n(1),l=n.n(u),f=n(2),h=n(6),d=n(16),p=n(4),g=n(8),y=n(7);function m(e){return A(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||S()}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function w(e,t){return A(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(c){a=!0,i=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||O(e,t)||S()}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){if(Array.isArray(e))return e}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=/^[ -~]*$/,N=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}var t,n,r;return t=e,n=[{key:"applyDelta",value:function(e){var t=this;this.scroll.update();var n=this.scroll.length();this.scroll.batchStart();var r=function(e){return e.reduce((function(e,t){if("string"==typeof t.insert){var n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)}),new l.a)}(e),i=new l.a;return r.reduce((function(e,r){var o=u.Op.length(r),s=r.attributes||{},a=!1;if(null!=r.insert){if(i.retain(o),"string"==typeof r.insert){var l=r.insert;a=!l.endsWith("\n")&&(n<=e||t.scroll.descendant(p.a,e)[0]),t.scroll.insertAt(e,l);var h=w(t.scroll.line(e),2),d=h[0],g=h[1],y=c()({},Object(p.c)(d));if(d instanceof p.d){var m=w(d.descendant(f.LeafBlot,g),1)[0];y=c()(y,Object(p.c)(m))}s=u.AttributeMap.diff(y,s)||{}}else if("object"===_(r.insert)){var b=Object.keys(r.insert)[0];if(null==b)return e;a=null!=t.scroll.query(b,f.Scope.INLINE)&&(n<=e||t.scroll.descendant(p.a,e)[0]),t.scroll.insertAt(e,b,r.insert[b])}n+=o}else i.push(r);Object.keys(s).forEach((function(n){t.scroll.formatAt(e,o,n,s[n])}));var v=a?1:0;return n+=v,i.delete(v),e+o+v}),0),i.reduce((function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+u.Op.length(n)}),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new l.a).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach((function(i){n.scroll.lines(e,Math.max(t,1)).forEach((function(e){e.format(i,r[i])}))})),this.scroll.optimize();var o=(new l.a).retain(e).retain(t,i()(r));return this.update(o)}},{key:"formatText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(r).forEach((function(i){n.scroll.formatAt(e,t,i,r[i])}));var o=(new l.a).retain(e).retain(t,i()(r));return this.update(o)}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new l.a)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===t?this.scroll.path(e).forEach((function(e){var t=w(e,1)[0];t instanceof p.d?n.push(t):t instanceof f.LeafBlot&&r.push(t)})):(n=this.scroll.lines(e,t),r=this.scroll.descendants(f.LeafBlot,e,t));var i=w([n,r].map((function(e){if(0===e.length)return{};for(var t=Object(p.c)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=x(Object(p.c)(n),t)}return t})),2);return n=i[0],r=i[1],v(v({},n),r)}},{key:"getHTML",value:function(e,t){var n=w(this.scroll.line(e),2),r=n[0],i=n[1];return r.length()>=i+t?P(r,i,t,!0):P(this.scroll,e,t,!0)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new l.a).retain(e).insert(E({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(r).forEach((function(i){n.scroll.formatAt(e,t.length,i,r[i])})),this.update((new l.a).retain(e).insert(t,i()(r)))}},{key:"isBlank",value:function(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===p.d.blotName&&!(e.children.length>1)&&e.children.head instanceof g.a}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),r=w(this.scroll.line(e+t),2),i=r[0],o=r[1],s=0,a=new l.a;null!=i&&(s=i.length()-o,a=i.delta().slice(o,o+s-1).insert("\n"));var c=this.getContents(e,t+s).diff((new l.a).insert(n).concat(a)),u=(new l.a).retain(e).concat(c);return this.applyDelta(u)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(C)&&this.scroll.find(t[0].target)){var i=this.scroll.find(t[0].target),o=Object(p.c)(i),a=i.offset(this.scroll),c=t[0].oldValue.replace(d.a.CONTENTS,""),u=(new l.a).insert(c),f=(new l.a).insert(i.value()),h=n&&{oldRange:M(n.oldRange,-a),newRange:M(n.newRange,-a)};e=(new l.a).retain(a).concat(u.diff(f,h)).reduce((function(e,t){return t.insert?e.insert(t.insert,o):e.push(t)}),new l.a),this.delta=r.compose(e)}else this.delta=this.getDelta(),e&&s()(r.compose(e),this.delta)||(e=r.diff(this.delta,n));return e}}],n&&I(t.prototype,n),r&&I(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e,t,n){if(0===e.length){var r=w(L(n.pop()),1)[0];return t<=0?"</li></".concat(r,">"):"</li></".concat(r,">").concat(R([],t-1,n))}var i=m(e),o=i[0],s=o.child,a=o.offset,c=o.length,u=o.indent,l=o.type,f=i.slice(1),h=w(L(l),2),d=h[0],p=h[1];if(u>t)return n.push(l),u===t+1?"<".concat(d,"><li").concat(p,">").concat(P(s,a,c)).concat(R(f,u,n)):"<".concat(d,"><li>").concat(R(e,t+1,n));var g=n[n.length-1];if(u===t&&l===g)return"</li><li".concat(p,">").concat(P(s,a,c)).concat(R(f,u,n));var y=w(L(n.pop()),1)[0];return"</li></".concat(y,">").concat(R(e,t-1,n))}function P(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"==typeof e.html)return e.html(t,n);if(e instanceof y.a)return Object(y.b)(e.value().slice(t,t+n));if(e.children){if("list-container"===e.statics.blotName){var i=[];return e.children.forEachAt(t,n,(function(e,t,n){var r=e.formats();i.push({child:e,offset:t,length:n,indent:r.indent||(r["list-level"]?r["list-level"]-1:0),type:r.list})})),R(i,-1,[])}var o=[];if(e.children.forEachAt(t,n,(function(e,t,n){o.push(P(e,t,n))})),r||"list"===e.statics.blotName)return o.join("");var s=e.domNode,a=s.outerHTML,c=s.innerHTML,u=w(a.split(">".concat(c,"<")),2),l=u[0],f=u[1];return"<table"===l?'<table style="border: 1px solid #000;">'.concat(o.join(""),"<").concat(f):"".concat(l,">").concat(o.join(""),"<").concat(f)}return e.domNode.outerHTML}function x(e,t){return Object.keys(t).reduce((function(n,r){return null==e[r]||(t[r]===e[r]?n[r]=t[r]:Array.isArray(t[r])?t[r].indexOf(e[r])<0&&(n[r]=t[r].concat([e[r]])):n[r]=[t[r],e[r]]),n}),{})}function L(e){var t="ordered"===e?"ol":"ul";switch(e){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function M(e,t){var n=e.index,r=e.length;return new h.a(n+t,r)}t.a=N},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v}));var r=n(2),i=n(10),o=n.n(i),s=n(18),a=n.n(s),c=n(3),u=n(11);function l(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(c){a=!0,i=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var m=Object(u.a)("quill:selection"),b=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;y(this,e),this.index=t,this.length=n})),v=function(){function e(t,n){var r=this;y(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new b(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){r.mouseDown||setTimeout(r.update.bind(r,c.a.sources.USER),1)})),this.emitter.on(c.a.events.SCROLL_BEFORE_UPDATE,(function(){if(r.hasFocus()){var e=r.getNativeRange();null!=e&&e.start.node!==r.cursor.textNode&&r.emitter.once(c.a.events.SCROLL_UPDATE,(function(){try{r.root.contains(e.start.node)&&r.root.contains(e.end.node)&&r.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset),r.update(c.a.sources.SILENT)}catch(t){}}))}})),this.emitter.on(c.a.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var n=t.range,i=n.startNode,o=n.startOffset,s=n.endNode,a=n.endOffset;r.setNativeRange(i,o,s,a),r.update(c.a.sources.SILENT)}})),this.update(c.a.sources.SILENT)}return g(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(c.a.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!this.scroll.query(e,r.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var i=this.scroll.find(n.start.node,!1);if(null==i)return;if(i instanceof r.LeafBlot){var o=i.split(n.start.offset);i.parent.insertBefore(this.cursor,o)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}},{key:"getBounds",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();e=Math.min(e,r-1),n=Math.min(e+n,r-1)-e;var i=f(this.scroll.leaf(e),2),o=i[0],s=i[1];if(null==o)return null;var a=f(o.position(s,!0),2);t=a[0],s=a[1];var c=document.createRange();if(n>0){c.setStart(t,s);var u=f(this.scroll.leaf(e+n),2);if(o=u[0],s=u[1],null==o)return null;var l=f(o.position(s,!0),2);return t=l[0],s=l[1],c.setEnd(t,s),c.getBoundingClientRect()}var h,d="left";if(t instanceof Text){if(!t.data.length)return null;s<t.data.length?(c.setStart(t,s),c.setEnd(t,s+1)):(c.setStart(t,s-1),c.setEnd(t,s),d="right"),h=c.getBoundingClientRect()}else h=o.domNode.getBoundingClientRect(),s>0&&(d="right");return{bottom:h.top+h.height,height:h.height,left:h[d],right:h[d],top:h.top,width:0}}},{key:"getNativeRange",value:function(){var e,t=document.getSelection();if(null==t||t.rangeCount<=0)return null;try{e=t.getRangeAt(0)}catch(r){return null}if(null==e)return null;var n=this.normalizeNative(e);return m.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root||E(this.scroll,document.activeElement)}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var i=n.map((function(e){var n=f(e,2),i=n[0],o=n[1],s=t.scroll.find(i,!0),a=s.offset(t.scroll);return 0===o?a:s instanceof r.ContainerBlot?a+s.length():a+s.index(i,o)})),o=Math.min(Math.max.apply(Math,l(i)),this.scroll.length()-1),s=Math.min.apply(Math,[o].concat(l(i)));return new b(s,o-s)}},{key:"normalizeNative",value:function(e){if(!E(this.scroll,e.startContainer)||!e.collapsed&&!E(this.scroll,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length>0?t.childNodes.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],r=[],i=this.scroll.length();return n.forEach((function(e,n){e=Math.min(i-1,e);var o=f(t.scroll.leaf(e),2),s=o[0],a=o[1],c=f(s.position(a,0!==n),2),u=c[0],l=c[1];r.push(u,l)})),r.length<2?r.concat(r):r}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var r=this.scroll.length()-1,i=f(this.scroll.line(Math.min(t.index,r)),1)[0],o=i;if(t.length>0&&(o=f(this.scroll.line(Math.min(t.index+t.length,r)),1)[0]),null!=i&&null!=o){var s=e.getBoundingClientRect();n.top<s.top?e.scrollTop-=s.top-n.top:n.bottom>s.bottom&&(e.scrollTop+=n.bottom-s.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(m.info("setNativeRange",e,t,n,r),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=e){this.hasFocus()||this.root.focus();var s=(this.getNativeRange()||{}).native;if(null==s||i||e!==s.startContainer||t!==s.startOffset||n!==s.endContainer||r!==s.endOffset){"BR"===e.tagName&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),"BR"===n.tagName&&(r=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);var a=document.createRange();a.setStart(e,t),a.setEnd(n,r),o.removeAllRanges(),o.addRange(a)}}else o.removeAllRanges(),this.root.blur()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.a.sources.API;if("string"==typeof t&&(n=t,t=!1),m.info("setRange",e),null!=e){var r=this.rangeToNative(e);this.setNativeRange.apply(this,l(r).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.a.sources.USER,t=this.lastRange,n=f(this.getRange(),2),r=n[0],i=n[1];if(this.lastRange=r,this.lastNative=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!a()(t,this.lastRange)){var s;if(!this.composing&&null!=i&&i.native.collapsed&&i.start.node!==this.cursor.textNode){var u=this.cursor.restore();u&&this.setNativeRange(u.startNode,u.startOffset,u.endNode,u.endOffset)}var l,h=[c.a.events.SELECTION_CHANGE,o()(this.lastRange),o()(t),e];(s=this.emitter).emit.apply(s,[c.a.events.EDITOR_CHANGE].concat(h)),e!==c.a.sources.SILENT&&(l=this.emitter).emit.apply(l,h)}}}]),e}();function E(e,t){try{t.parentNode}catch(r){return!1}if(!e.domNode.contains(t))return!1;var n=e.registry.find(t,!0);return n&&n.scroll===e}},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(c,e);var t,n,r,a=s(c);function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.apply(this,arguments)}return t=c,n&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(n(2).TextBlot);function u(e){return e.replace(/[&<>"']/g,(function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[e]}))}},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(c,e);var t,n,r,a=s(c);function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.apply(this,arguments)}return t=c,r=[{key:"value",value:function(){}}],(n=[{key:"optimize",value:function(){(this.prev||this.next)&&this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(n(2).EmbedBlot);c.blotName="break",c.tagName="BR",t.a=c},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var o=i((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n}));o.DEFAULTS={},t.a=o},function(e,t,n){(function(e,n){var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Boolean]",a="[object Date]",c="[object Function]",u="[object GeneratorFunction]",l="[object Map]",f="[object Number]",h="[object Object]",d="[object Promise]",p="[object RegExp]",g="[object Set]",y="[object String]",m="[object Symbol]",b="[object WeakMap]",v="[object ArrayBuffer]",E="[object DataView]",_="[object Float32Array]",w="[object Float64Array]",S="[object Int8Array]",O="[object Int16Array]",T="[object Int32Array]",A="[object Uint8Array]",I="[object Uint8ClampedArray]",C="[object Uint16Array]",N="[object Uint32Array]",R=/\w*$/,P=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,L={};L[o]=L["[object Array]"]=L[v]=L[E]=L[s]=L[a]=L[_]=L[w]=L[S]=L[O]=L[T]=L[l]=L[f]=L[h]=L[p]=L[g]=L[y]=L[m]=L[A]=L[I]=L[C]=L[N]=!0,L["[object Error]"]=L[c]=L[b]=!1;var M="object"==typeof e&&e&&e.Object===Object&&e,D="object"==typeof self&&self&&self.Object===Object&&self,k=M||D||Function("return this")(),j=t&&!t.nodeType&&t,U=j&&"object"==typeof n&&n&&!n.nodeType&&n,F=U&&U.exports===j;function B(e,t){return e.set(t[0],t[1]),e}function V(e,t){return e.add(t),e}function q(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function G(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function z(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function H(e,t){return function(n){return e(t(n))}}function Y(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var K,W=Array.prototype,X=Function.prototype,Z=Object.prototype,Q=k["__core-js_shared__"],$=(K=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+K:"",J=X.toString,ee=Z.hasOwnProperty,te=Z.toString,ne=RegExp("^"+J.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=F?k.Buffer:void 0,ie=k.Symbol,oe=k.Uint8Array,se=H(Object.getPrototypeOf,Object),ae=Object.create,ce=Z.propertyIsEnumerable,ue=W.splice,le=Object.getOwnPropertySymbols,fe=re?re.isBuffer:void 0,he=H(Object.keys,Object),de=Ue(k,"DataView"),pe=Ue(k,"Map"),ge=Ue(k,"Promise"),ye=Ue(k,"Set"),me=Ue(k,"WeakMap"),be=Ue(Object,"create"),ve=Ge(de),Ee=Ge(pe),_e=Ge(ge),we=Ge(ye),Se=Ge(me),Oe=ie?ie.prototype:void 0,Te=Oe?Oe.valueOf:void 0;function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ne(e){this.__data__=new Ie(e)}function Re(e,t){var n=He(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ye(e)}(e)&&ee.call(e,"callee")&&(!ce.call(e,"callee")||te.call(e)==o)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var s in e)!t&&!ee.call(e,s)||i&&("length"==s||Ve(s,r))||n.push(s);return n}function Pe(e,t,n){var r=e[t];ee.call(e,t)&&ze(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function xe(e,t){for(var n=e.length;n--;)if(ze(e[n][0],t))return n;return-1}function Le(e,t,n,r,i,d,b){var P;if(r&&(P=d?r(e,i,d,b):r(e)),void 0!==P)return P;if(!Xe(e))return e;var x=He(e);if(x){if(P=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,P)}else{var M=Be(e),D=M==c||M==u;if(Ke(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(M==h||M==o||D&&!d){if(G(e))return d?e:{};if(P=function(e){return"function"!=typeof e.constructor||qe(e)?{}:Xe(t=se(e))?ae(t):{};var t}(D?{}:e),!t)return function(e,t){return ke(e,Fe(e),t)}(e,function(e,t){return e&&ke(t,Ze(t),e)}(P,e))}else{if(!L[M])return d?e:{};P=function(e,t,n,r){var i,o=e.constructor;switch(t){case v:return De(e);case s:case a:return new o(+e);case E:return function(e,t){var n=t?De(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case _:case w:case S:case O:case T:case A:case I:case C:case N:return function(e,t){var n=t?De(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case l:return function(e,t,n){var r=t?n(z(e),!0):z(e);return q(r,B,new e.constructor)}(e,r,n);case f:case y:return new o(e);case p:return function(e){var t=new e.constructor(e.source,R.exec(e));return t.lastIndex=e.lastIndex,t}(e);case g:return function(e,t,n){var r=t?n(Y(e),!0):Y(e);return q(r,V,new e.constructor)}(e,r,n);case m:return i=e,Te?Object(Te.call(i)):{}}}(e,M,Le,t)}}b||(b=new Ne);var k=b.get(e);if(k)return k;if(b.set(e,P),!x)var j=n?function(e){return function(e,t,n){var r=t(e);return He(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Ze,Fe)}(e):Ze(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(j||e,(function(i,o){j&&(i=e[o=i]),Pe(P,o,Le(i,t,n,r,o,e,b))})),P}function Me(e){return!(!Xe(e)||(t=e,$&&$ in t))&&(We(e)||G(e)?ne:P).test(Ge(e));var t}function De(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function ke(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],a=r?r(n[s],e[s],s,n,e):void 0;Pe(n,s,void 0===a?e[s]:a)}return n}function je(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Ue(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Me(n)?n:void 0}Ae.prototype.clear=function(){this.__data__=be?be(null):{}},Ae.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ae.prototype.get=function(e){var t=this.__data__;if(be){var n=t[e];return n===r?void 0:n}return ee.call(t,e)?t[e]:void 0},Ae.prototype.has=function(e){var t=this.__data__;return be?void 0!==t[e]:ee.call(t,e)},Ae.prototype.set=function(e,t){return this.__data__[e]=be&&void 0===t?r:t,this},Ie.prototype.clear=function(){this.__data__=[]},Ie.prototype.delete=function(e){var t=this.__data__,n=xe(t,e);return!(n<0||(n==t.length-1?t.pop():ue.call(t,n,1),0))},Ie.prototype.get=function(e){var t=this.__data__,n=xe(t,e);return n<0?void 0:t[n][1]},Ie.prototype.has=function(e){return xe(this.__data__,e)>-1},Ie.prototype.set=function(e,t){var n=this.__data__,r=xe(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ce.prototype.clear=function(){this.__data__={hash:new Ae,map:new(pe||Ie),string:new Ae}},Ce.prototype.delete=function(e){return je(this,e).delete(e)},Ce.prototype.get=function(e){return je(this,e).get(e)},Ce.prototype.has=function(e){return je(this,e).has(e)},Ce.prototype.set=function(e,t){return je(this,e).set(e,t),this},Ne.prototype.clear=function(){this.__data__=new Ie},Ne.prototype.delete=function(e){return this.__data__.delete(e)},Ne.prototype.get=function(e){return this.__data__.get(e)},Ne.prototype.has=function(e){return this.__data__.has(e)},Ne.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ie){var r=n.__data__;if(!pe||r.length<199)return r.push([e,t]),this;n=this.__data__=new Ce(r)}return n.set(e,t),this};var Fe=le?H(le,Object):function(){return[]},Be=function(e){return te.call(e)};function Ve(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||x.test(e))&&e>-1&&e%1==0&&e<t}function qe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Z)}function Ge(e){if(null!=e){try{return J.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ze(e,t){return e===t||e!=e&&t!=t}(de&&Be(new de(new ArrayBuffer(1)))!=E||pe&&Be(new pe)!=l||ge&&Be(ge.resolve())!=d||ye&&Be(new ye)!=g||me&&Be(new me)!=b)&&(Be=function(e){var t=te.call(e),n=t==h?e.constructor:void 0,r=n?Ge(n):void 0;if(r)switch(r){case ve:return E;case Ee:return l;case _e:return d;case we:return g;case Se:return b}return t});var He=Array.isArray;function Ye(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!We(e)}var Ke=fe||function(){return!1};function We(e){var t=Xe(e)?te.call(e):"";return t==c||t==u}function Xe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ze(e){return Ye(e)?Re(e):function(e){if(!qe(e))return he(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}n.exports=function(e){return Le(e,!0,!0)}}).call(this,n(39),n(40)(e))},function(e,t,n){"use strict";var r=["error","warn","log","info"],i="warn";function o(e){if(r.indexOf(e)<=r.indexOf(i)){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];(t=console)[e].apply(t,o)}}function s(e){return r.reduce((function(t,n){return t[n]=o.bind(console,n,e),t}),{})}s.level=function(e){i=e},o.level=s.level,t.a=s},function(e,t,n){"use strict";var r=n(2),i=n(8),o=n(7);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},c.apply(this,arguments)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(s,e);var t,n,i,o=l(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),o.apply(this,arguments)}return t=s,i=[{key:"compare",value:function(e,t){var n=s.order.indexOf(e),r=s.order.indexOf(t);return n>=0||r>=0?n-r:e===t?0:e<t?-1:1}}],(n=[{key:"formatAt",value:function(e,t,n,i){if(s.compare(this.statics.blotName,n)<0&&this.scroll.query(n,r.Scope.BLOT)){var o=this.isolate(e,t);i&&o.wrap(n,i)}else c(f(s.prototype),"formatAt",this).call(this,e,t,n,i)}},{key:"optimize",value:function(e){if(c(f(s.prototype),"optimize",this).call(this,e),this.parent instanceof s&&s.compare(this.statics.blotName,this.parent.statics.blotName)>0){var t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}])&&a(t.prototype,n),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.InlineBlot);h.allowedChildren=[h,i.a,r.EmbedBlot,o.a],h.order=["cursor","inline","link","underline","strike","italic","bold","script","code"],t.a=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return E}));var r=n(4),i=n(8),o=n(16),s=n(12),a=n(7),c=n(15),u=n(0);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},p.apply(this,arguments)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var v=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return d(n,[{key:"code",value:function(e,t){return this.children.map((function(e){return e.length()<=1?"":e.domNode.innerText})).join("\n").slice(e,e+t)}},{key:"html",value:function(e,t){return"<pre>\n".concat(Object(a.b)(this.code(e,t)),"\n</pre>")}}],[{key:"create",value:function(e){var t=p(b(n),"create",this).call(this,e);return t.setAttribute("spellcheck",!1),t}}]),n}(c.a),E=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return d(n,null,[{key:"register",value:function(){u.a.register(v)}}]),n}(r.d),_=function(e){g(n,e);var t=m(n);function n(){return f(this,n),t.apply(this,arguments)}return d(n)}(s.a);_.blotName="code",_.tagName="CODE",E.blotName="code-block",E.className="ql-code-block",E.tagName="DIV",v.blotName="code-block-container",v.className="ql-code-block-container",v.tagName="DIV",v.allowedChildren=[E],E.allowedChildren=[a.a,i.a,o.a],E.requiredContainer=v,E.TAB="  "},function(e,t,n){"use strict";var r=n(2),i=n(3),o=n(4),s=n(8),a=n(15),c=n(32);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(c){a=!0,i=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},d.apply(this,arguments)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function m(e){return e instanceof o.d||e instanceof o.a}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(f,e);var t,n,a,u=g(f);function f(e,t,n){var r,i=n.emitter;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(r=u.call(this,e,t)).defaultUpdateAttributes=void 0,r.emitter=i,r.optimize(),r.enable(),r.domNode.addEventListener("dragstart",(function(e){return r.handleDragStart(e)})),r}return t=f,n=[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"emitMount",value:function(e){this.emitter.emit(i.a.events.SCROLL_BLOT_MOUNT,e)}},{key:"emitUnmount",value:function(e){this.emitter.emit(i.a.events.SCROLL_BLOT_UNMOUNT,e)}},{key:"deleteAt",value:function(e,t){var n=l(this.line(e),2),r=n[0],i=n[1],a=l(this.line(e+t),1)[0];if(d(y(f.prototype),"deleteAt",this).call(this,e,t),null!=a&&r!==a&&i>0){if(r instanceof o.a||a instanceof o.a)return void this.optimize();var c=a.children.head instanceof s.a?null:a.children.head;r.moveChildren(a,c),r.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,t,n,r){d(y(f.prototype),"formatAt",this).call(this,e,t,n,r),this.optimize()}},{key:"handleDragStart",value:function(e){e.preventDefault()}},{key:"insertAt",value:function(e,t,n){if(e>=this.length())if(null==n||null==this.scroll.query(t,r.Scope.BLOCK)){var i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),null==n&&t.endsWith("\n")?i.insertAt(0,t.slice(0,-1),n):i.insertAt(0,t,n)}else{var o=this.scroll.create(t,n);this.appendChild(o)}else d(y(f.prototype),"insertAt",this).call(this,e,t,n);this.optimize()}},{key:"insertBefore",value:function(e,t){if(e.statics.scope===r.Scope.INLINE_BLOT){var n=this.scroll.create(this.statics.defaultChild.blotName);if(n.appendChild(e),d(y(f.prototype),"insertBefore",this).call(this,n,t),null==this.defaultUpdateAttributes)return;var i=this.defaultUpdateAttributes,o=i.paraAttributes,s=i.charAttributes,a=e.domNode;a.nodeType===Node.TEXT_NODE&&Object.entries(s).forEach((function(e){var t=l(e,2),r=t[0],i=t[1];return n.formatAt(0,a.length,r,i)})),Object.entries(o).forEach((function(e){var t=l(e,2),r=t[0],i=t[1];return n.format(r,i)}))}else d(y(f.prototype),"insertBefore",this).call(this,e,t)}},{key:"isEnabled",value:function(){return"true"===this.domNode.getAttribute("contenteditable")}},{key:"leaf",value:function(e){var t=this.path(e).pop();return t&&t[0]instanceof r.LeafBlot?t:[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(m,e)}},{key:"lines",value:function(){return function e(t,n,i){var o=[],s=i;return t.children.forEachAt(n,i,(function(t,n,i){m(t)?o.push(t):t instanceof r.ContainerBlot&&(o=o.concat(e(t,n,s))),s-=i})),o}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(d(y(f.prototype),"optimize",this).call(this,e,t),e.length>0&&this.emitter.emit(i.a.events.SCROLL_OPTIMIZE,e,t))}},{key:"path",value:function(e){return d(y(f.prototype),"path",this).call(this,e).slice(1)}},{key:"remove",value:function(){}},{key:"update",value:function(e){var t=this;if(!0!==this.batch){var n=i.a.sources.USER;if("string"==typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter((function(e){var n=e.target,r=t.find(n,!0);return r&&r.scroll===t})),1===e.length&&"childList"===e[0].type&&1===e[0].removedNodes.length&&e[0].removedNodes[0].tagName===c.b.tagName&&0===e[0].target.childElementCount){var r=e[0],s=this.registry.find(r.target);if(s instanceof c.a){var a=r.removedNodes[0].cloneNode(!1),u=this.scroll.create(a);return s.appendChild(u),void s.deleteAt(0,u.length())}}e.length>0&&this.emitter.emit(i.a.events.SCROLL_BEFORE_UPDATE,n,e);var l,h=0===this.domNode.childElementCount,p=1===this.domNode.childElementCount&&"BR"===this.domNode.firstElementChild.tagName;if((h||p)&&(l=e.find((function(e){return"childList"===e.type&&e.target===t.domNode&&e.removedNodes.length>0}))),l){var g,m=l.removedNodes[0],b=this.registry.find(m);b&&(b instanceof o.d?g=b.delta():b.children&&b.children.head instanceof o.d&&(g=b.children.head.delta()),g&&g.eachLine((function(e,n){var r=e.ops.length>0&&e.ops[0].attributes||{};return t.defaultUpdateAttributes={charAttributes:r,paraAttributes:n},!1})))}d(y(f.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(i.a.events.SCROLL_UPDATE,n,e,p&&this.defaultUpdateAttributes?this.defaultUpdateAttributes.charAttributes:null),this.defaultUpdateAttributes&&(this.defaultUpdateAttributes=void 0)}}}],n&&h(t.prototype,n),a&&h(t,a),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.ScrollBlot);b.blotName="scroll",b.className="ql-editor",b.tagName="DIV",b.defaultChild=o.d,b.allowedChildren=[o.d,o.a,a.a],t.a=b},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(c,e);var t,n,r,a=s(c);function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.apply(this,arguments)}return t=c,n&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(n(2).ContainerBlot);t.a=c},function(e,t,n){"use strict";var r=n(2),i=n(7);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},a.apply(this,arguments)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(h,e);var t,n,o,f=u(h);function h(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(r=f.call(this,e,t)).selection=n,r.textNode=document.createTextNode(h.CONTENTS),r.domNode.appendChild(r.textNode),r.savedLength=0,r}return t=h,o=[{key:"value",value:function(){}}],(n=[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,t){if(0===this.savedLength){for(var n=this,i=0;null!=n&&n.statics.scope!==r.Scope.BLOCK_BLOT;)i+=n.offset(n.parent),n=n.parent;null!=n&&(this.savedLength=h.CONTENTS.length,n.optimize(),n.formatAt(i,h.CONTENTS.length,e,t),this.savedLength=0)}else a(l(h.prototype),"format",this).call(this,e,t)}},{key:"index",value:function(e,t){return e===this.textNode?0:a(l(h.prototype),"index",this).call(this,e,t)}},{key:"length",value:function(){return this.savedLength}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(l(h.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(this.selection.composing||null==this.parent)return null;for(var e=this.selection.getNativeRange();null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);var t,n=this.prev instanceof i.a?this.prev:null,r=n?n.length():0,o=this.next instanceof i.a?this.next:null,s=o?o.text:"",a=this.textNode,c=a.data.split(h.CONTENTS).join("");a.data=h.CONTENTS;var u=!1;if(n)t=n,(c||o)&&(n.insertAt(n.length(),c+s),o&&o.remove());else if(o)t=o,o.insertAt(0,c);else{var l=document.createTextNode(c);t=this.scroll.create(l),this.parent.insertBefore(t,this),u=!0}if(this.remove(),e){var f=function(e,t){return n&&e===n.domNode?t:e===a?r+t-1:o&&e===o.domNode?r+c.length+t:null},d=f(e.start.node,e.start.offset),p=f(e.end.node,e.end.offset);if(u&&d===p&&0===d&&e.start.node===e.end.node&&e.start.node===a&&(p=d=t.domNode.data.length),null!==d&&null!==p)return{startNode:t.domNode,startOffset:d,endNode:t.domNode,endOffset:p}}return null}},{key:"update",value:function(e,t){var n=this,r=!1;if(e.forEach((function(e){e.target===n.textNode&&"characterData"===e.type?r=!0:e.target===n.domNode&&"childList"===e.type&&e.addedNodes.forEach((function(e){e.nodeType===Node.ELEMENT_NODE&&"BR"===e.tagName&&n.domNode.removeChild(e)}))})),r){var i=this.restore();i&&(t.range=i)}}},{key:"optimize",value:function(e){a(l(h.prototype),"optimize",this).call(this,e);for(var t=this.parent;t;){if("A"===t.domNode.tagName){this.savedLength=h.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}},{key:"value",value:function(){return""}}])&&s(t.prototype,n),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),h}(r.EmbedBlot);f.blotName="cursor",f.className="ql-cursor",f.tagName="span",f.CONTENTS="\ufeff",t.a=f},function(e,t,n){(function(e,n){var r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object AsyncFunction]",a="[object Function]",c="[object GeneratorFunction]",u="[object Null]",l="[object Object]",f="[object Proxy]",h="[object Undefined]",d=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[o]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g[a]=g["[object Map]"]=g["[object Number]"]=g[l]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1;var y,m,b,v="object"==typeof e&&e&&e.Object===Object&&e,E="object"==typeof self&&self&&self.Object===Object&&self,_=v||E||Function("return this")(),w=t&&!t.nodeType&&t,S=w&&"object"==typeof n&&n&&!n.nodeType&&n,O=S&&S.exports===w,T=O&&v.process,A=function(){try{var e=S&&S.require&&S.require("util").types;return e||T&&T.binding&&T.binding("util")}catch(t){}}(),I=A&&A.isTypedArray,C=Array.prototype,N=Function.prototype,R=Object.prototype,P=_["__core-js_shared__"],x=N.toString,L=R.hasOwnProperty,M=(y=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",D=R.toString,k=x.call(Object),j=RegExp("^"+x.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=O?_.Buffer:void 0,F=_.Symbol,B=_.Uint8Array,V=U?U.allocUnsafe:void 0,q=(m=Object.getPrototypeOf,b=Object,function(e){return m(b(e))}),G=Object.create,z=R.propertyIsEnumerable,H=C.splice,Y=F?F.toStringTag:void 0,K=function(){try{var e=ve(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),W=U?U.isBuffer:void 0,X=Math.max,Z=Date.now,Q=ve(_,"Map"),$=ve(Object,"create"),J=function(){function e(){}return function(t){if(!Pe(t))return{};if(G)return G(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=this.__data__=new te(e);this.size=t.size}function ie(e,t){var n=Ae(e),r=!n&&Te(e),i=!n&&!r&&Ce(e),o=!n&&!r&&!i&&Le(e),s=n||r||i||o,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=a.length;for(var u in e)!t&&!L.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ee(u,c))||a.push(u);return a}function oe(e,t,n){(void 0!==n&&!Oe(e[t],n)||void 0===n&&!(t in e))&&ce(e,t,n)}function se(e,t,n){var r=e[t];L.call(e,t)&&Oe(r,n)&&(void 0!==n||t in e)||ce(e,t,n)}function ae(e,t){for(var n=e.length;n--;)if(Oe(e[n][0],t))return n;return-1}function ce(e,t,n){"__proto__"==t&&K?K(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}ee.prototype.clear=function(){this.__data__=$?$(null):{},this.size=0},ee.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ee.prototype.get=function(e){var t=this.__data__;if($){var n=t[e];return n===r?void 0:n}return L.call(t,e)?t[e]:void 0},ee.prototype.has=function(e){var t=this.__data__;return $?void 0!==t[e]:L.call(t,e)},ee.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$&&void 0===t?r:t,this},te.prototype.clear=function(){this.__data__=[],this.size=0},te.prototype.delete=function(e){var t=this.__data__,n=ae(t,e);return!(n<0||(n==t.length-1?t.pop():H.call(t,n,1),--this.size,0))},te.prototype.get=function(e){var t=this.__data__,n=ae(t,e);return n<0?void 0:t[n][1]},te.prototype.has=function(e){return ae(this.__data__,e)>-1},te.prototype.set=function(e,t){var n=this.__data__,r=ae(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ne.prototype.clear=function(){this.size=0,this.__data__={hash:new ee,map:new(Q||te),string:new ee}},ne.prototype.delete=function(e){var t=be(this,e).delete(e);return this.size-=t?1:0,t},ne.prototype.get=function(e){return be(this,e).get(e)},ne.prototype.has=function(e){return be(this,e).has(e)},ne.prototype.set=function(e,t){var n=be(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},re.prototype.clear=function(){this.__data__=new te,this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},re.prototype.get=function(e){return this.__data__.get(e)},re.prototype.has=function(e){return this.__data__.has(e)},re.prototype.set=function(e,t){var n=this.__data__;if(n instanceof te){var r=n.__data__;if(!Q||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ne(r)}return n.set(e,t),this.size=n.size,this};var ue,le=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),s=o.length;s--;){var a=o[ue?s:++r];if(!1===t(i[a],a,i))break}return e};function fe(e){return null==e?void 0===e?h:u:Y&&Y in Object(e)?function(e){var t=L.call(e,Y),n=e[Y];try{e[Y]=void 0;var r=!0}catch(o){}var i=D.call(e);return r&&(t?e[Y]=n:delete e[Y]),i}(e):function(e){return D.call(e)}(e)}function he(e){return xe(e)&&fe(e)==o}function de(e){return!(!Pe(e)||function(e){return!!M&&M in e}(e))&&(Ne(e)?j:d).test(function(e){if(null!=e){try{return x.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function pe(e){if(!Pe(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=_e(e),n=[];for(var r in e)("constructor"!=r||!t&&L.call(e,r))&&n.push(r);return n}function ge(e,t,n,r,i){e!==t&&le(t,(function(o,s){if(i||(i=new re),Pe(o))!function(e,t,n,r,i,o,s){var a=we(e,n),c=we(t,n),u=s.get(c);if(u)oe(e,n,u);else{var f,h,d,p,g,y=o?o(a,c,n+"",e,t,s):void 0,m=void 0===y;if(m){var b=Ae(c),v=!b&&Ce(c),E=!b&&!v&&Le(c);y=c,b||v||E?Ae(a)?y=a:xe(g=a)&&Ie(g)?y=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(a):v?(m=!1,y=function(e,t){if(t)return e.slice();var n=e.length,r=V?V(n):new e.constructor(n);return e.copy(r),r}(c,!0)):E?(m=!1,d=(f=c).buffer,p=new d.constructor(d.byteLength),new B(p).set(new B(d)),h=p,y=new f.constructor(h,f.byteOffset,f.length)):y=[]:function(e){if(!xe(e)||fe(e)!=l)return!1;var t=q(e);if(null===t)return!0;var n=L.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&x.call(n)==k}(c)||Te(c)?(y=a,Te(a)?y=function(e){return function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=r?r(n[a],e[a],a,n,e):void 0;void 0===c&&(c=e[a]),i?ce(n,a,c):se(n,a,c)}return n}(e,Me(e))}(a):Pe(a)&&!Ne(a)||(y=function(e){return"function"!=typeof e.constructor||_e(e)?{}:J(q(e))}(c))):m=!1}m&&(s.set(c,y),i(y,c,r,o,s),s.delete(c)),oe(e,n,y)}}(e,t,s,n,ge,r,i);else{var a=r?r(we(e,s),o,s+"",e,t,i):void 0;void 0===a&&(a=o),oe(e,s,a)}}),Me)}function ye(e,t){return Se(function(e,t,n){return t=X(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=X(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,a)}}(e,t,je),e+"")}var me=K?function(e,t){return K(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:je;function be(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ve(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return de(n)?n:void 0}function Ee(e,t){var n=typeof e;return!!(t=null==t?i:t)&&("number"==n||"symbol"!=n&&p.test(e))&&e>-1&&e%1==0&&e<t}function _e(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||R)}function we(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Se=function(e){var t=0,n=0;return function(){var r=Z(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(me);function Oe(e,t){return e===t||e!=e&&t!=t}var Te=he(function(){return arguments}())?he:function(e){return xe(e)&&L.call(e,"callee")&&!z.call(e,"callee")},Ae=Array.isArray;function Ie(e){return null!=e&&Re(e.length)&&!Ne(e)}var Ce=W||function(){return!1};function Ne(e){if(!Pe(e))return!1;var t=fe(e);return t==a||t==c||t==s||t==f}function Re(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Pe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function xe(e){return null!=e&&"object"==typeof e}var Le=I?function(e){return function(t){return e(t)}}(I):function(e){return xe(e)&&Re(e.length)&&!!g[fe(e)]};function Me(e){return Ie(e)?ie(e,!0):pe(e)}var De,ke=(De=function(e,t,n){ge(e,t,n)},ye((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(i=De.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(e,t,n){if(!Pe(n))return!1;var r=typeof t;return!!("number"==r?Ie(n)&&Ee(t,n.length):"string"==r&&t in n)&&Oe(n[t],e)}(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var s=t[n];s&&De(e,s,n,i)}return e})));function je(e){return e}n.exports=ke}).call(this,n(39),n(40)(e))},function(e,t,n){(function(e,n){var r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",l="[object Boolean]",f="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",g="[object Map]",y="[object Number]",m="[object Null]",b="[object Object]",v="[object Promise]",E="[object Proxy]",_="[object RegExp]",w="[object Set]",S="[object String]",O="[object Symbol]",T="[object Undefined]",A="[object WeakMap]",I="[object ArrayBuffer]",C="[object DataView]",N=/^\[object .+?Constructor\]$/,R=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[a]=P[c]=P[I]=P[l]=P[C]=P[f]=P[h]=P[d]=P[g]=P[y]=P[b]=P[_]=P[w]=P[S]=P[A]=!1;var x="object"==typeof e&&e&&e.Object===Object&&e,L="object"==typeof self&&self&&self.Object===Object&&self,M=x||L||Function("return this")(),D=t&&!t.nodeType&&t,k=D&&"object"==typeof n&&n&&!n.nodeType&&n,j=k&&k.exports===D,U=j&&x.process,F=function(){try{return U&&U.binding&&U.binding("util")}catch(e){}}(),B=F&&F.isTypedArray;function V(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function q(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function G(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var z,H,Y,K=Array.prototype,W=Function.prototype,X=Object.prototype,Z=M["__core-js_shared__"],Q=W.toString,$=X.hasOwnProperty,J=(z=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",ee=X.toString,te=RegExp("^"+Q.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=j?M.Buffer:void 0,re=M.Symbol,ie=M.Uint8Array,oe=X.propertyIsEnumerable,se=K.splice,ae=re?re.toStringTag:void 0,ce=Object.getOwnPropertySymbols,ue=ne?ne.isBuffer:void 0,le=(H=Object.keys,Y=Object,function(e){return H(Y(e))}),fe=Fe(M,"DataView"),he=Fe(M,"Map"),de=Fe(M,"Promise"),pe=Fe(M,"Set"),ge=Fe(M,"WeakMap"),ye=Fe(Object,"create"),me=Ge(fe),be=Ge(he),ve=Ge(de),Ee=Ge(pe),_e=Ge(ge),we=re?re.prototype:void 0,Se=we?we.valueOf:void 0;function Oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ie(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ae;++t<n;)this.add(e[t])}function Ce(e){var t=this.__data__=new Te(e);this.size=t.size}function Ne(e,t){var n=Ye(e),r=!n&&He(e),i=!n&&!r&&Ke(e),o=!n&&!r&&!i&&$e(e),s=n||r||i||o,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=a.length;for(var u in e)!t&&!$.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||qe(u,c))||a.push(u);return a}function Re(e,t){for(var n=e.length;n--;)if(ze(e[n][0],t))return n;return-1}function Pe(e){return null==e?void 0===e?T:m:ae&&ae in Object(e)?function(e){var t=$.call(e,ae),n=e[ae];try{e[ae]=void 0;var r=!0}catch(o){}var i=ee.call(e);return r&&(t?e[ae]=n:delete e[ae]),i}(e):function(e){return ee.call(e)}(e)}function xe(e){return Qe(e)&&Pe(e)==a}function Le(e,t,n,r,s){return e===t||(null==e||null==t||!Qe(e)&&!Qe(t)?e!=e&&t!=t:function(e,t,n,r,s,u){var d=Ye(e),p=Ye(t),m=d?c:Ve(e),v=p?c:Ve(t),E=(m=m==a?b:m)==b,T=(v=v==a?b:v)==b,A=m==v;if(A&&Ke(e)){if(!Ke(t))return!1;d=!0,E=!1}if(A&&!E)return u||(u=new Ce),d||$e(e)?ke(e,t,n,r,s,u):function(e,t,n,r,s,a,c){switch(n){case C:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!a(new ie(e),new ie(t)));case l:case f:case y:return ze(+e,+t);case h:return e.name==t.name&&e.message==t.message;case _:case S:return e==t+"";case g:var u=q;case w:var d=r&i;if(u||(u=G),e.size!=t.size&&!d)return!1;var p=c.get(e);if(p)return p==t;r|=o,c.set(e,t);var m=ke(u(e),u(t),r,s,a,c);return c.delete(e),m;case O:if(Se)return Se.call(e)==Se.call(t)}return!1}(e,t,m,n,r,s,u);if(!(n&i)){var N=E&&$.call(e,"__wrapped__"),R=T&&$.call(t,"__wrapped__");if(N||R){var P=N?e.value():e,x=R?t.value():t;return u||(u=new Ce),s(P,x,n,r,u)}}return!!A&&(u||(u=new Ce),function(e,t,n,r,o,s){var a=n&i,c=je(e),u=c.length,l=je(t),f=l.length;if(u!=f&&!a)return!1;for(var h=u;h--;){var d=c[h];if(!(a?d in t:$.call(t,d)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var g=!0;s.set(e,t),s.set(t,e);for(var y=a;++h<u;){var m=e[d=c[h]],b=t[d];if(r)var v=a?r(b,m,d,t,e,s):r(m,b,d,e,t,s);if(!(void 0===v?m===b||o(m,b,n,r,s):v)){g=!1;break}y||(y="constructor"==d)}if(g&&!y){var E=e.constructor,_=t.constructor;E==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof E&&E instanceof E&&"function"==typeof _&&_ instanceof _||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,r,s,u))}(e,t,n,r,Le,s))}function Me(e){return!(!Ze(e)||function(e){return!!J&&J in e}(e))&&(We(e)?te:N).test(Ge(e))}function De(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||X,t!==r)return le(e);var t,n,r,i=[];for(var o in Object(e))$.call(e,o)&&"constructor"!=o&&i.push(o);return i}function ke(e,t,n,r,s,a){var c=n&i,u=e.length,l=t.length;if(u!=l&&!(c&&l>u))return!1;var f=a.get(e);if(f&&a.get(t))return f==t;var h=-1,d=!0,p=n&o?new Ie:void 0;for(a.set(e,t),a.set(t,e);++h<u;){var g=e[h],y=t[h];if(r)var m=c?r(y,g,h,t,e,a):r(g,y,h,e,t,a);if(void 0!==m){if(m)continue;d=!1;break}if(p){if(!V(t,(function(e,t){if(i=t,!p.has(i)&&(g===e||s(g,e,n,r,a)))return p.push(t);var i}))){d=!1;break}}else if(g!==y&&!s(g,y,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function je(e){return function(e,t,n){var r=t(e);return Ye(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Je,Be)}function Ue(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Fe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Me(n)?n:void 0}Oe.prototype.clear=function(){this.__data__=ye?ye(null):{},this.size=0},Oe.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Oe.prototype.get=function(e){var t=this.__data__;if(ye){var n=t[e];return n===r?void 0:n}return $.call(t,e)?t[e]:void 0},Oe.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:$.call(t,e)},Oe.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ye&&void 0===t?r:t,this},Te.prototype.clear=function(){this.__data__=[],this.size=0},Te.prototype.delete=function(e){var t=this.__data__,n=Re(t,e);return!(n<0||(n==t.length-1?t.pop():se.call(t,n,1),--this.size,0))},Te.prototype.get=function(e){var t=this.__data__,n=Re(t,e);return n<0?void 0:t[n][1]},Te.prototype.has=function(e){return Re(this.__data__,e)>-1},Te.prototype.set=function(e,t){var n=this.__data__,r=Re(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Ae.prototype.clear=function(){this.size=0,this.__data__={hash:new Oe,map:new(he||Te),string:new Oe}},Ae.prototype.delete=function(e){var t=Ue(this,e).delete(e);return this.size-=t?1:0,t},Ae.prototype.get=function(e){return Ue(this,e).get(e)},Ae.prototype.has=function(e){return Ue(this,e).has(e)},Ae.prototype.set=function(e,t){var n=Ue(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ie.prototype.add=Ie.prototype.push=function(e){return this.__data__.set(e,r),this},Ie.prototype.has=function(e){return this.__data__.has(e)},Ce.prototype.clear=function(){this.__data__=new Te,this.size=0},Ce.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ce.prototype.get=function(e){return this.__data__.get(e)},Ce.prototype.has=function(e){return this.__data__.has(e)},Ce.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Te){var r=n.__data__;if(!he||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ae(r)}return n.set(e,t),this.size=n.size,this};var Be=ce?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}(ce(e),(function(t){return oe.call(e,t)})))}:function(){return[]},Ve=Pe;function qe(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||R.test(e))&&e>-1&&e%1==0&&e<t}function Ge(e){if(null!=e){try{return Q.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function ze(e,t){return e===t||e!=e&&t!=t}(fe&&Ve(new fe(new ArrayBuffer(1)))!=C||he&&Ve(new he)!=g||de&&Ve(de.resolve())!=v||pe&&Ve(new pe)!=w||ge&&Ve(new ge)!=A)&&(Ve=function(e){var t=Pe(e),n=t==b?e.constructor:void 0,r=n?Ge(n):"";if(r)switch(r){case me:return C;case be:return g;case ve:return v;case Ee:return w;case _e:return A}return t});var He=xe(function(){return arguments}())?xe:function(e){return Qe(e)&&$.call(e,"callee")&&!oe.call(e,"callee")},Ye=Array.isArray,Ke=ue||function(){return!1};function We(e){if(!Ze(e))return!1;var t=Pe(e);return t==d||t==p||t==u||t==E}function Xe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Ze(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Qe(e){return null!=e&&"object"==typeof e}var $e=B?function(e){return function(t){return e(t)}}(B):function(e){return Qe(e)&&Xe(e.length)&&!!P[Pe(e)]};function Je(e){return null!=(t=e)&&Xe(t.length)&&!We(t)?Ne(e):De(e);var t}n.exports=function(e,t){return Le(e,t)}}).call(this,n(39),n(40)(e))},function(e,t,n){"use strict";n.d(t,"b",(function(){return T})),n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return R})),n.d(t,"c",(function(){return P}));var r=n(10),i=n.n(r),o=n(18),s=n.n(o),a=n(1),c=n.n(a),u=n(2),l=n(0),f=n(11),h=n(9);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(c){a=!0,i=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var S=Object(f.a)("quill:keyboard"),O=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(o,e);var t,n,r,i=_(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this,e,t)).bindings={},Object.keys(n.options.bindings).forEach((function(e){n.options.bindings[e]&&n.addBinding(n.options.bindings[e])})),n.addBinding({key:"Enter",shiftKey:null},n.handleEnter),n.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(n.addBinding({key:"Backspace"},{collapsed:!0},n.handleBackspace),n.addBinding({key:"Delete"},{collapsed:!0},n.handleDelete)):(n.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},n.handleBackspace),n.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},n.handleDelete)),n.addBinding({key:"Backspace"},{collapsed:!1},n.handleDeleteRange),n.addBinding({key:"Delete"},{collapsed:!1},n.handleDeleteRange),n.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},n.handleBackspace),n.listen(),n}return t=o,n=[{key:"addBinding",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=R(e);null!=i?("function"==typeof n&&(n={handler:n}),"function"==typeof r&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach((function(e){var o=m(m(m({},i),{},{key:e},n),r);t.bindings[o.key]=t.bindings[o.key]||[],t.bindings[o.key].push(o)}))):S.warn("Attempted to add invalid keyboard binding",i)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(t){var n="Enter"===t.key&&229===t.which,r=t.isComposing||n;if(!t.defaultPrevented&&!r){var i=(e.bindings[t.key]||[]).concat(e.bindings[t.which]||[]).filter((function(e){return o.match(t,e)}));if(0!==i.length){var a=e.quill.getSelection();if(null!=a&&e.quill.hasFocus()){var c=p(e.quill.getLine(a.index),2),l=c[0],f=c[1],h=p(e.quill.getLeaf(a.index),2),g=h[0],y=h[1],m=p(0===a.length?[g,y]:e.quill.getLeaf(a.index+a.length),2),b=m[0],v=m[1],E=g instanceof u.TextBlot?g.value().slice(0,y):"",_=b instanceof u.TextBlot?b.value().slice(v):"",w={collapsed:0===a.length,empty:0===a.length&&l.length()<=1,format:e.quill.getFormat(a),line:l,offset:f,prefix:E,suffix:_,event:t};i.some((function(t){if(null!=t.collapsed&&t.collapsed!==w.collapsed)return!1;if(null!=t.empty&&t.empty!==w.empty)return!1;if(null!=t.offset&&t.offset!==w.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==w.format[e]})))return!1}else if("object"===d(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=w.format[e]:!1===t.format[e]?null==w.format[e]:s()(t.format[e],w.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(w.prefix)||null!=t.suffix&&!t.suffix.test(w.suffix)||!0===t.handler.call(e,a,w,t))}))&&t.preventDefault()}}}}))}},{key:"handleBackspace",value:function(e,t){var n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(!(0===e.index||this.quill.getLength()<=1)){var r={},i=p(this.quill.getLine(e.index),1)[0],o=(new c.a).retain(e.index-n).delete(n);if(0===t.offset){var s=p(this.quill.getLine(e.index-1),1)[0];if(s&&!("block"===s.statics.blotName&&s.length()<=1)){var u=i.formats(),f=this.quill.getFormat(e.index-1,1);if(r=a.AttributeMap.diff(u,f)||{},Object.keys(r).length>0){var h=(new c.a).retain(e.index+i.length()-2).retain(1,r);o=o.compose(h)}}}this.quill.updateContents(o,l.a.sources.USER),this.quill.focus()}}},{key:"handleDelete",value:function(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var r={},i=p(this.quill.getLine(e.index),1)[0],o=(new c.a).retain(e.index).delete(n);if(t.offset>=i.length()-1){var s=p(this.quill.getLine(e.index+1),1)[0];if(s){var u=i.formats(),f=this.quill.getFormat(e.index,1);r=a.AttributeMap.diff(u,f)||{},Object.keys(r).length>0&&(o=o.retain(s.length()-1).retain(1,r))}}this.quill.updateContents(o,l.a.sources.USER),this.quill.focus()}}},{key:"handleDeleteRange",value:function(e){P({range:e,quill:this.quill}),this.quill.focus()}},{key:"handleEnter",value:function(e,t){var n=this,r=Object.keys(t.format).reduce((function(e,r){return n.quill.scroll.query(r,u.Scope.BLOCK)&&!Array.isArray(t.format[r])&&(e[r]=t.format[r]),e}),{}),i=(new c.a).retain(e.index).delete(e.length).insert("\n",r);this.quill.updateContents(i,l.a.sources.USER),this.quill.setSelection(e.index+1,l.a.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==r[e]&&(Array.isArray(t.format[e])||"code"!==e&&"link"!==e&&n.quill.format(e,t.format[e],l.a.sources.USER))}))}}],r=[{key:"match",value:function(e,t){return!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!t[n]!==e[n]&&null!==t[n]}))&&(t.key===e.key||t.key===e.which)}}],n&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(h.a);function A(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=this.quill.scroll.query("code-block"),r=0===t.length?this.quill.getLines(t.index,1):this.quill.getLines(t),i=t.index,o=t.length;r.forEach((function(t,r){e?(t.insertAt(0,n.TAB),0===r?i+=n.TAB.length:o+=n.TAB.length):t.domNode.textContent.startsWith(n.TAB)&&(t.deleteAt(0,n.TAB.length),0===r?i-=n.TAB.length:o-=n.TAB.length)})),this.quill.update(l.a.sources.USER),this.quill.setSelection(i,o,l.a.sources.SILENT)}}}function I(e,t){var n;return b(n={key:e,shiftKey:t,altKey:null},"ArrowLeft"===e?"prefix":"suffix",/^$/),b(n,"handler",(function(n){var r=n.index;return"ArrowRight"===e&&(r+=n.length+1),!(p(this.quill.getLeaf(r),1)[0]instanceof u.EmbedBlot&&("ArrowLeft"===e?t?this.quill.setSelection(n.index-1,n.length+1,l.a.sources.USER):this.quill.setSelection(n.index-1,l.a.sources.USER):t?this.quill.setSelection(n.index,n.length+1,l.a.sources.USER):this.quill.setSelection(n.index+n.length+1,l.a.sources.USER),1))})),n}function C(e){return{key:e[0],shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],l.a.sources.USER)}}}function N(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler:function(t,n){var r=e?"prev":"next",i=n.line,o=i.parent[r];if(null!=o){if("table-row"===o.statics.blotName){for(var s=o.children.head,a=i;null!=a.prev;)a=a.prev,s=s.next;var c=s.offset(this.quill.scroll)+Math.min(n.offset,s.length()-1);this.quill.setSelection(c,0,l.a.sources.USER)}}else{var u=i.table()[r];null!=u&&(e?this.quill.setSelection(u.offset(this.quill.scroll)+u.length()-1,0,l.a.sources.USER):this.quill.setSelection(u.offset(this.quill.scroll),0,l.a.sources.USER))}return!1}}}function R(e){if("string"==typeof e||"number"==typeof e)e={key:e};else{if("object"!==d(e))return null;e=i()(e)}return e.shortKey&&(e[O]=e.shortKey,delete e.shortKey),e}function P(e){var t=e.quill,n=e.range,r=t.getLines(n),i={};if(r.length>1){var o=r[0].formats(),s=r[r.length-1].formats();i=a.AttributeMap.diff(s,o)||{}}t.deleteText(n,l.a.sources.USER),Object.keys(i).length>0&&t.formatLine(n.index,1,i,l.a.sources.USER),t.setSelection(n.index,l.a.sources.SILENT)}T.DEFAULTS={bindings:{bold:C("bold"),italic:C("italic"),underline:C("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler:function(e,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","+1",l.a.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","-1",l.a.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",l.a.sources.USER):null!=t.format.list&&this.quill.format("list",!1,l.a.sources.USER)}},"indent code-block":A(!0),"outdent code-block":A(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,l.a.sources.USER)}},tab:{key:"Tab",handler:function(e,t){if(t.format.table)return!0;this.quill.history.cutoff();var n=(new c.a).retain(e.index).delete(e.length).insert("\t");return this.quill.updateContents(n,l.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,l.a.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler:function(){this.quill.format("blockquote",!1,l.a.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler:function(e,t){var n={list:!1};t.format.indent&&(n.indent=!1),this.quill.formatLine(e.index,e.length,n,l.a.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler:function(e){var t=p(this.quill.getLine(e.index),2),n=t[0],r=t[1],i=m(m({},n.formats()),{},{list:"checked"}),o=(new c.a).retain(e.index).insert("\n",i).retain(n.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(o,l.a.sources.USER),this.quill.setSelection(e.index+1,l.a.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=p(this.quill.getLine(e.index),2),r=n[0],i=n[1],o=(new c.a).retain(e.index).insert("\n",t.format).retain(r.length()-i-1).retain(1,{header:null});this.quill.updateContents(o,l.a.sources.USER),this.quill.setSelection(e.index+1,l.a.sources.SILENT),this.quill.scrollIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler:function(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler:function(e){var t=this.quill.getModule("table");if(t){var n=p(t.getTable(e),4),r=n[0],i=function(e,t,n,r){return null==t.prev&&null==t.next?null==n.prev&&null==n.next?0===r?-1:1:null==n.prev?-1:1:null==t.prev?-1:null==t.next?1:null}(0,n[1],n[2],n[3]);if(null==i)return;var o=r.offset();if(i<0){var s=(new c.a).retain(o).insert("\n");this.quill.updateContents(s,l.a.sources.USER),this.quill.setSelection(e.index+1,e.length,l.a.sources.SILENT)}else if(i>0){o+=r.length();var a=(new c.a).retain(o).insert("\n");this.quill.updateContents(a,l.a.sources.USER),this.quill.setSelection(o,l.a.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler:function(e,t){var n=t.event,r=t.line,i=r.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(i-1,l.a.sources.USER):this.quill.setSelection(i+r.length(),l.a.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){if(null==this.quill.scroll.query("list"))return!0;var n,r=t.prefix.length,i=p(this.quill.getLine(e.index),2),o=i[0],s=i[1];if(s>r)return!0;switch(t.prefix.trim()){case"[]":case"[ ]":n="unchecked";break;case"[x]":n="checked";break;case"-":case"*":n="bullet";break;default:n="ordered"}this.quill.insertText(e.index," ",l.a.sources.USER),this.quill.history.cutoff();var a=(new c.a).retain(e.index-s).delete(r+1).retain(o.length()-2-s).retain(1,{list:n});return this.quill.updateContents(a,l.a.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,l.a.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler:function(e){for(var t=p(this.quill.getLine(e.index),2),n=t[0],r=t[1],i=2,o=n;null!=o&&o.length()<=1&&o.formats()["code-block"];)if(o=o.prev,(i-=1)<=0){var s=(new c.a).retain(e.index+n.length()-r-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(s,l.a.sources.USER),this.quill.setSelection(e.index-1,l.a.sources.SILENT),!1}return!0}},"embed left":I("ArrowLeft",!1),"embed left shift":I("ArrowLeft",!0),"embed right":I("ArrowRight",!1),"embed right shift":I("ArrowRight",!0),"table down":N(!1),"table up":N(!0)}}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/".concat(e));return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();i.DEFAULTS={modules:{}},i.themes={default:i},t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h}));var r=n(2);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},s.apply(this,arguments)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(l,e);var t,n,r,i=c(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),i.apply(this,arguments)}return t=l,(n=[{key:"value",value:function(e){var t=s(u(l.prototype),"value",this).call(this,e);if(!t.startsWith("rgb("))return t;t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");var n=t.split(",").map((function(e){return"00".concat(parseInt(e,10).toString(16)).slice(-2)})).join("");return"#".concat(n)}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.StyleAttributor),f=new r.ClassAttributor("color","ql-color",{scope:r.Scope.INLINE}),h=new l("color","color",{scope:r.Scope.INLINE})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a}));var r=n(2),i={scope:r.Scope.BLOCK,whitelist:["rtl"]},o=new r.Attributor("direction","dir",i),s=new r.ClassAttributor("direction","ql-direction",i),a=new r.StyleAttributor("direction","direction",i)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a}));var r=n(2),i={scope:r.Scope.BLOCK,whitelist:["right","center","justify"]},o=new r.Attributor("align","align",i),s=new r.ClassAttributor("align","ql-align",i),a=new r.StyleAttributor("align","text-align",i)},function(e,t,n){"use strict";t.a=new WeakMap},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(2),i=n(21),o=new r.ClassAttributor("background","ql-bg",{scope:r.Scope.INLINE}),s=new i.a("background","background-color",{scope:r.Scope.INLINE})},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f}));var r=n(2);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},s.apply(this,arguments)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var l={scope:r.Scope.INLINE,whitelist:["serif","monospace"]},f=new r.ClassAttributor("font","ql-font",l),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(l,e);var t,n,r,i=c(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),i.apply(this,arguments)}return t=l,(n=[{key:"value",value:function(e){return s(u(l.prototype),"value",this).call(this,e).replace(/["']/g,"")}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.StyleAttributor),d=new h("font","font-family",l)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(2),i=new r.ClassAttributor("size","ql-size",{scope:r.Scope.INLINE,whitelist:["small","large","huge"]}),o=new r.StyleAttributor("size","font-size",{scope:r.Scope.INLINE,whitelist:["10px","18px","32px"]})},,function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(4),i=n(15),o=n(0);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},a.apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var g=function(e){f(n,e);var t=d(n);function n(){return l(this,n),t.apply(this,arguments)}return u(n)}(i.a);g.blotName="list-container",g.tagName="OL";var y=function(e){f(n,e);var t=d(n);function n(e,r){var i;l(this,n),i=t.call(this,e,r);var o=r.ownerDocument.createElement("span"),s=function(t){if(e.isEnabled()){var n=i.statics.formats(r,e);"checked"===n?(i.format("list","unchecked"),t.preventDefault()):"unchecked"===n&&(i.format("list","checked"),t.preventDefault())}};return o.addEventListener("mousedown",s),o.addEventListener("touchstart",s),i.attachUI(o),i}return u(n,[{key:"format",value:function(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):a(p(n.prototype),"format",this).call(this,e,t)}}],[{key:"create",value:function(e){var t=a(p(n),"create",this).call(this);return t.setAttribute("data-list",e),t}},{key:"formats",value:function(e){return e.getAttribute("data-list")||void 0}},{key:"register",value:function(){o.a.register(g)}}]),n}(r.d);y.blotName="list",y.tagName="LI",g.allowedChildren=[y],y.requiredContainer=g},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d}));var r=n(2),i=n(0);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}(this,n)}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(l,e);var t,n,r,o=c(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=o.call(this,e,t)).lastRecorded=0,n.ignoreChange=!1,n.clear(),n.quill.on(i.a.events.EDITOR_CHANGE,(function(e,t,r,o){e!==i.a.events.TEXT_CHANGE||n.ignoreChange||(n.options.userOnly&&o!==i.a.sources.USER?n.transform(t):n.record(t,r))})),n.quill.keyboard.addBinding({key:"z",shortKey:!0},n.undo.bind(u(n))),n.quill.keyboard.addBinding({key:"z",shortKey:!0,shiftKey:!0},n.redo.bind(u(n))),/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"y",shortKey:!0},n.redo.bind(u(n))),n.quill.root.addEventListener("beforeinput",(function(e){"historyUndo"===e.inputType?(n.undo(),e.preventDefault()):"historyRedo"===e.inputType&&(n.redo(),e.preventDefault())})),n}return t=l,(n=[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop(),r=this.quill.getContents(),o=n.invert(r);this.stack[t].push(o),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n,i.a.sources.USER),this.ignoreChange=!1;var s=d(this.quill.scroll,n);this.quill.setSelection(s)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=e.invert(t),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var i=this.stack.undo.pop();n=n.compose(i)}else this.lastRecorded=r;0!==n.length()&&(this.stack.undo.push(n),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){h(this.stack.undo,e),h(this.stack.redo,e)}},{key:"undo",value:function(){this.change("undo","redo")}}])&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(n(9).a);function h(e,t){for(var n=t,r=e.length-1;r>=0;r-=1){var i=e[r];e[r]=n.transform(i,!0),n=i.transform(n),0===e[r].length()&&e.splice(r,1)}}function d(e,t){var n=t.reduce((function(e,t){return e+(t.delete||0)}),0),i=t.length()-n;return function(e,t){var n=t.ops[t.ops.length-1];return null!=n&&(null!=n.insert?"string"==typeof n.insert&&n.insert.endsWith("\n"):null!=n.attributes&&Object.keys(n.attributes).some((function(t){return null!=e.query(t,r.Scope.BLOCK)})))}(e,t)&&(i-=1),i}f.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1}},,,function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(4),o=n(8),s=n(15),a=n(16),c=n(37),u=n(12),l=n(14),f=n(7),h=n(38),d=n(33),p=n(19),g=n(1),y=n.n(g),m=n(3);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(o,e);var t,n,r,i=_(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=i.call(this,e,t),e.root.addEventListener("drop",(function(t){var r;if(t.preventDefault(),document.caretRangeFromPoint)r=document.caretRangeFromPoint(t.clientX,t.clientY);else{if(!document.caretPositionFromPoint)return;var i=document.caretPositionFromPoint(t.clientX,t.clientY);(r=document.createRange()).setStart(i.offsetNode,i.offset),r.setEnd(i.offsetNode,i.offset)}var o=e.selection.normalizeNative(r),s=e.selection.normalizedToRange(o);n.upload(s,t.dataTransfer.files)})),n}return t=o,(n=[{key:"upload",value:function(e,t){var n=this,r=[];Array.from(t).forEach((function(e){e&&n.options.mimetypes.includes(e.type)&&r.push(e)})),r.length>0&&this.options.handler.call(this,e,r)}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(n(9).a);S.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler:function(e,t){var n=this,r=t.map((function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsDataURL(e)}))}));Promise.all(r).then((function(t){var r=t.reduce((function(e,t){return e.insert({image:t})}),(new y.a).retain(e.index).delete(e.length));n.quill.updateContents(r,m.a.sources.USER),n.quill.setSelection(e.index+t.length,m.a.sources.SILENT)}))}};var O=S;r.a.register({"blots/block":i.d,"blots/block/embed":i.a,"blots/break":o.a,"blots/container":s.a,"blots/cursor":a.a,"blots/embed":c.a,"blots/inline":u.a,"blots/scroll":l.a,"blots/text":f.a,"modules/clipboard":h.a,"modules/history":d.a,"modules/keyboard":p.b,"modules/uploader":O}),t.default={Quill:r.a}},function(e,t,n){"use strict";var r=n(2),i=n(7);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},a.apply(this,arguments)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var f="\ufeff",h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(h,e);var t,n,r,o=u(h);function h(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(n=o.call(this,e,t)).contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),Array.from(n.domNode.childNodes).forEach((function(e){n.contentNode.appendChild(e)})),n.leftGuard=document.createTextNode(f),n.rightGuard=document.createTextNode(f),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return t=h,(n=[{key:"index",value:function(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:a(l(h.prototype),"index",this).call(this,e,t)}},{key:"restore",value:function(e){var t,n,r=e.data.split(f).join("");if(e===this.leftGuard)if(this.prev instanceof i.a){var o=this.prev.length();this.prev.insertAt(o,r),t={startNode:this.prev.domNode,startOffset:o+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(n),this),t={startNode:n,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof i.a?(this.next.insertAt(0,r),t={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(n),this.next),t={startNode:n,startOffset:r.length}));return e.data=f,t}},{key:"update",value:function(e,t){var n=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var r=n.restore(e.target);r&&(t.range=r)}}))}}])&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),h}(r.EmbedBlot);t.a=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return F}));var r=n(1),i=n.n(r),o=n(2),s=n(4),a=n(0),c=n(11),u=n(9),l=n(24),f=n(28),h=n(13),d=n(21),p=n(22),g=n(29),y=n(30),m=n(19);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(c){a=!0,i=c}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}(this,n)}}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var N=Object(c.a)("quill:clipboard"),R=[[Node.TEXT_NODE,function(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&n.includes("\n"))return t;if(!U(e)){var r=function(e,t){var n=t.replace(/[^\u00a0]/g,"");return n.length<1&&e?" ":n};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==e.previousSibling&&k(e.parentNode)||null!=e.previousSibling&&k(e.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==e.nextSibling&&k(e.parentNode)||null!=e.nextSibling&&k(e.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return t.insert(n)}],[Node.TEXT_NODE,V],["br",function(e,t){return D(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,function(e,t,n){var r=n.query(e);if(null==r)return t;if(r.prototype instanceof o.EmbedBlot){var s={},a=r.value(e);if(null!=a)return s[r.blotName]=a,(new i.a).insert(s,r.formats(e,n))}else if(r.prototype instanceof o.BlockBlot&&!D(t,"\n")&&t.insert("\n"),"function"==typeof r.formats)return M(t,r.blotName,r.formats(e,n));return t}],[Node.ELEMENT_NODE,function(e,t,n){var r=o.Attributor.keys(e),i=o.ClassAttributor.keys(e),s=o.StyleAttributor.keys(e),a={};return r.concat(i).concat(s).forEach((function(t){var r=n.query(t,o.Scope.ATTRIBUTE);null!=r&&(a[r.attrName]=r.value(e),a[r.attrName])||(null==(r=P[t])||r.attrName!==t&&r.keyName!==t||(a[r.attrName]=r.value(e)||void 0),null==(r=x[t])||r.attrName!==t&&r.keyName!==t||(r=x[t],a[r.attrName]=r.value(e)||void 0))})),Object.keys(a).length>0?M(t,a):t}],[Node.ELEMENT_NODE,function(e,t){var n={},r=e.style||{};return"italic"===r.fontStyle&&(n.italic=!0),"underline"===r.textDecoration&&(n.underline=!0),"line-through"===r.textDecoration&&(n.strike=!0),(r.fontWeight.startsWith("bold")||parseInt(r.fontWeight,10)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=M(t,n)),parseFloat(r.textIndent||0)>0?(new i.a).insert("\t").concat(t):t}],["li",function(e,t,n){var r=n.query(e);if(null==r||"list"!==r.blotName||!D(t,"\n"))return t;for(var o=-1,s=e.parentNode;null!=s;)["OL","UL"].includes(s.tagName)&&(o+=1),s=s.parentNode;return o<=0?t:t.reduce((function(e,t){return t.attributes&&"number"==typeof t.attributes.indent?e.push(t):e.insert(t.insert,v({indent:o},t.attributes||{}))}),new i.a)}],["ol, ul",function(e,t){var n="OL"===e.tagName?"ordered":"bullet";return M(t,"list",n)}],["pre",function(e,t,n){var r=n.query("code-block"),i=!r||r.formats(e,n);return M(t,"code-block",i)}],["tr",function(e,t){var n="TABLE"===e.parentNode.tagName?e.parentNode:e.parentNode.parentNode,r=Array.from(n.querySelectorAll("tr")).indexOf(e)+1;return M(t,"table",r)}],["b",B.bind(B,"bold")],["i",B.bind(B,"italic")],["strike",B.bind(B,"strike")],["style",function(){return new i.a}]],P=[l.a,p.a].reduce((function(e,t){return e[t.keyName]=t,e}),{}),x=[l.c,f.b,d.c,p.c,g.b,y.b].reduce((function(e,t){return e[t.keyName]=t,e}),{}),L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(s,e);var t,n,r,o=A(s);function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=o.call(this,e,t)).quill.root.addEventListener("copy",(function(e){return n.onCaptureCopy(e,!1)})),n.quill.root.addEventListener("cut",(function(e){return n.onCaptureCopy(e,!0)})),n.quill.root.addEventListener("paste",n.onCapturePaste.bind(I(n))),n.matchers=[],R.concat(n.options.matchers).forEach((function(e){var t=w(e,2),r=t[0],i=t[1];n.addMatcher(r,i)})),n}return t=s,n=[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){var t=e.html,n=e.text,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r[h.c.blotName])return(new i.a).insert(n,_({},h.c.blotName,r[h.c.blotName]));if(!t)return(new i.a).insert(n||"");var o=this.convertHTML(t);return D(o,"\n")&&(null==o.ops[o.ops.length-1].attributes||r.table)?o.compose((new i.a).retain(o.length()-1).delete(1)):o}},{key:"convertHTML",value:function(e){var t=(new DOMParser).parseFromString(e,"text/html").body,n=new WeakMap,r=w(this.prepareMatching(t,n),2),i=r[0],o=r[1];return F(this.quill.scroll,t,i,o,n)}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.a.sources.API;if("string"==typeof e){var r=this.convert({html:e,text:""});this.quill.setContents(r,t),this.quill.setSelection(0,a.a.sources.SILENT)}else{var o=this.convert({html:t,text:""});this.quill.updateContents((new i.a).retain(e).concat(o),n),this.quill.setSelection(e+o.length(),a.a.sources.SILENT)}}},{key:"onCaptureCopy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.defaultPrevented){e.preventDefault();var n=w(this.quill.selection.getRange(),1)[0];if(null!=n){var r=this.onCopy(n,t),i=r.html,o=r.text;e.clipboardData.setData("text/plain",o),e.clipboardData.setData("text/html",i),t&&Object(m.c)({range:n,quill:this.quill})}}}},{key:"onCapturePaste",value:function(e){if(!e.defaultPrevented&&this.quill.isEnabled()){e.preventDefault();var t=this.quill.getSelection(!0);if(null!=t){var n=e.clipboardData.getData("text/html"),r=e.clipboardData.getData("text/plain"),i=Array.from(e.clipboardData.files||[]);if(!n&&i.length>0)this.quill.uploader.upload(t,i);else{if(n&&i.length>0){var o=(new DOMParser).parseFromString(n,"text/html");if(1===o.body.childElementCount&&"IMG"===o.body.firstElementChild.tagName)return void this.quill.uploader.upload(t,i)}this.onPaste(t,{html:n,text:r})}}}}},{key:"onCopy",value:function(e){var t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}},{key:"onPaste",value:function(e,t){var n=t.text,r=t.html,o=this.quill.getFormat(e.index),s=this.convert({text:n,html:r},o);N.log("onPaste",s,{text:n,html:r});var c=(new i.a).retain(e.index).delete(e.length).concat(s);this.quill.updateContents(c,a.a.sources.USER),this.quill.setSelection(c.length()-e.length,a.a.sources.SILENT),this.quill.scrollIntoView()}},{key:"prepareMatching",value:function(e,t){var n=[],r=[];return this.matchers.forEach((function(i){var o=w(i,2),s=o[0],a=o[1];switch(s){case Node.TEXT_NODE:r.push(a);break;case Node.ELEMENT_NODE:n.push(a);break;default:Array.from(e.querySelectorAll(s)).forEach((function(e){t.has(e)?t.get(e).push(a):t.set(e,[a])}))}})),[n,r]}}],n&&O(t.prototype,n),r&&O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(u.a);function M(e,t,n){return"object"===E(t)?Object.keys(t).reduce((function(e,n){return M(e,n,t[n])}),e):e.reduce((function(e,r){if(r.attributes&&r.attributes[t])return e.push(r);var i=n?_({},t,n):{};return e.insert(r.insert,v(v({},i),r.attributes))}),new i.a)}function D(e,t){for(var n="",r=e.ops.length-1;r>=0&&n.length<t.length;--r){var i=e.ops[r];if("string"!=typeof i.insert)break;n=i.insert+n}return n.slice(-1*t.length)===t}function k(e){return 0!==e.childNodes.length&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}L.DEFAULTS={matchers:[]};var j=new WeakMap;function U(e){return null!=e&&(j.has(e)||("PRE"===e.tagName?j.set(e,!0):j.set(e,U(e.parentNode))),j.get(e))}function F(e,t,n,r,o){return t.nodeType===t.TEXT_NODE?r.reduce((function(n,r){return r(t,n,e)}),new i.a):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((function(i,s){var a=F(e,s,n,r,o);return s.nodeType===t.ELEMENT_NODE&&(a=n.reduce((function(t,n){return n(s,t,e)}),a),a=(o.get(s)||[]).reduce((function(t,n){return n(s,t,e)}),a)),i.concat(a)}),new i.a):new i.a}function B(e,t,n){return M(n,e,!0)}function V(e,t,n){if(!D(t,"\n")){if(k(e))return t.insert("\n");if(t.length()>0&&e.nextSibling)for(var r=e.nextSibling;null!=r;){if(k(r))return t.insert("\n");var i=n.query(r);if(i&&i.prototype instanceof s.a)return t.insert("\n");r=r.firstChild}}return t}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i,o=r(n(52));!function(e){e.iterator=function(e){return new o.default(e)},e.length=function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}}(i||(i={})),t.default=i},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function i(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,i,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new o(n,i||e,s),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function c(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),c.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)n.call(e,t)&&i.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},c.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},c.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,o),!0;case 6:return l.fn.call(l.context,t,n,i,o,s),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var h,d=l.length;for(u=0;u<d;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,i);break;default:if(!c)for(h=1,c=new Array(f-1);h<f;h++)c[h-1]=arguments[h];l[u].fn.apply(l[u].context,c)}}return!0},c.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==t||i&&!s[c].once||n&&s[c].context!==n)&&u.push(s[c]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,void 0!==e&&(e.exports=c)},,,,,,,function(e,t){var n=-1,r=1,i=0;function o(e,t,l,f){if(e===t)return e?[[i,e]]:[];if(null!=l){var h=function(e,t,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,i="number"==typeof n?null:n.newRange,o=e.length,s=t.length;if(0===r.length&&(null===i||0===i.length)){var a=r.index,c=e.slice(0,a),u=e.slice(a),l=i?i.index:null,f=a+s-o;if((null===l||l===f)&&!(f<0||f>s)){var h=t.slice(0,f);if((y=t.slice(f))===u){var d=Math.min(a,f);if((b=c.slice(0,d))===(E=h.slice(0,d)))return p(b,c.slice(d),h.slice(d),u)}}if(null===l||l===a){var g=a,y=(h=t.slice(0,g),t.slice(g));if(h===c){var m=Math.min(o-g,s-g);if((v=u.slice(u.length-m))===(_=y.slice(y.length-m)))return p(c,u.slice(0,u.length-m),y.slice(0,y.length-m),v)}}}if(r.length>0&&i&&0===i.length){var b=e.slice(0,r.index),v=e.slice(r.index+r.length);if(!(s<(d=b.length)+(m=v.length))){var E=t.slice(0,d),_=t.slice(s-m);if(b===E&&v===_)return p(b,e.slice(d,o-m),t.slice(d,s-m),v)}}return null}(e,t,l);if(h)return h}var d=a(e,t),g=e.substring(0,d);d=c(e=e.substring(d),t=t.substring(d));var y=e.substring(e.length-d),m=function(e,t){var u;if(!e)return[[r,t]];if(!t)return[[n,e]];var l=e.length>t.length?e:t,f=e.length>t.length?t:e,h=l.indexOf(f);if(-1!==h)return u=[[r,l.substring(0,h)],[i,f],[r,l.substring(h+f.length)]],e.length>t.length&&(u[0][0]=u[2][0]=n),u;if(1===f.length)return[[n,e],[r,t]];var d=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function i(e,t,n){for(var r,i,o,s,u=e.substring(n,n+Math.floor(e.length/4)),l=-1,f="";-1!==(l=t.indexOf(u,l+1));){var h=a(e.substring(n),t.substring(l)),d=c(e.substring(0,n),t.substring(0,l));f.length<d+h&&(f=t.substring(l-d,l)+t.substring(l,l+h),r=e.substring(0,n-d),i=e.substring(n+h),o=t.substring(0,l-d),s=t.substring(l+h))}return 2*f.length>=e.length?[r,i,o,s,f]:null}var o,s,u,l,f,h=i(n,r,Math.ceil(n.length/4)),d=i(n,r,Math.ceil(n.length/2));if(!h&&!d)return null;o=d?h&&h[4].length>d[4].length?h:d:h,e.length>t.length?(s=o[0],u=o[1],l=o[2],f=o[3]):(l=o[0],f=o[1],s=o[2],u=o[3]);var p=o[4];return[s,u,l,f,p]}(e,t);if(d){var p=d[0],g=d[1],y=d[2],m=d[3],b=d[4],v=o(p,y),E=o(g,m);return v.concat([[i,b]],E)}return function(e,t){for(var i=e.length,o=t.length,a=Math.ceil((i+o)/2),c=a,u=2*a,l=new Array(u),f=new Array(u),h=0;h<u;h++)l[h]=-1,f[h]=-1;l[c+1]=0,f[c+1]=0;for(var d=i-o,p=d%2!=0,g=0,y=0,m=0,b=0,v=0;v<a;v++){for(var E=-v+g;E<=v-y;E+=2){for(var _=c+E,w=(I=E===-v||E!==v&&l[_-1]<l[_+1]?l[_+1]:l[_-1]+1)-E;I<i&&w<o&&e.charAt(I)===t.charAt(w);)I++,w++;if(l[_]=I,I>i)y+=2;else if(w>o)g+=2;else if(p&&(T=c+d-E)>=0&&T<u&&-1!==f[T]&&I>=(O=i-f[T]))return s(e,t,I,w)}for(var S=-v+m;S<=v-b;S+=2){for(var O,T=c+S,A=(O=S===-v||S!==v&&f[T-1]<f[T+1]?f[T+1]:f[T-1]+1)-S;O<i&&A<o&&e.charAt(i-O-1)===t.charAt(o-A-1);)O++,A++;if(f[T]=O,O>i)b+=2;else if(A>o)m+=2;else if(!p){var I;if((_=c+d-S)>=0&&_<u&&-1!==l[_])if(w=c+(I=l[_])-_,I>=(O=i-O))return s(e,t,I,w)}}}return[[n,e],[r,t]]}(e,t)}(e=e.substring(0,e.length-d),t=t.substring(0,t.length-d));return g&&m.unshift([i,g]),y&&m.push([i,y]),u(m,f),m}function s(e,t,n,r){var i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),c=t.substring(r),u=o(i,s),l=o(a,c);return u.concat(l)}function a(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return l(e.charCodeAt(i-1))&&i--,i}function c(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return f(e.charCodeAt(e.length-i))&&i--,i}function u(e,t){e.push([i,""]);for(var o,s=0,l=0,f=0,p="",g="";s<e.length;)if(s<e.length-1&&!e[s][1])e.splice(s,1);else switch(e[s][0]){case r:f++,g+=e[s][1],s++;break;case n:l++,p+=e[s][1],s++;break;case i:var y=s-f-l-1;if(t){if(y>=0&&d(e[y][1])){var m=e[y][1].slice(-1);if(e[y][1]=e[y][1].slice(0,-1),p=m+p,g=m+g,!e[y][1]){e.splice(y,1),s--;var b=y-1;e[b]&&e[b][0]===r&&(f++,g=e[b][1]+g,b--),e[b]&&e[b][0]===n&&(l++,p=e[b][1]+p,b--),y=b}}h(e[s][1])&&(m=e[s][1].charAt(0),e[s][1]=e[s][1].slice(1),p+=m,g+=m)}if(s<e.length-1&&!e[s][1]){e.splice(s,1);break}if(p.length>0||g.length>0){p.length>0&&g.length>0&&(0!==(o=a(g,p))&&(y>=0?e[y][1]+=g.substring(0,o):(e.splice(0,0,[i,g.substring(0,o)]),s++),g=g.substring(o),p=p.substring(o)),0!==(o=c(g,p))&&(e[s][1]=g.substring(g.length-o)+e[s][1],g=g.substring(0,g.length-o),p=p.substring(0,p.length-o)));var v=f+l;0===p.length&&0===g.length?(e.splice(s-v,v),s-=v):0===p.length?(e.splice(s-v,v,[r,g]),s=s-v+1):0===g.length?(e.splice(s-v,v,[n,p]),s=s-v+1):(e.splice(s-v,v,[n,p],[r,g]),s=s-v+2)}0!==s&&e[s-1][0]===i?(e[s-1][1]+=e[s][1],e.splice(s,1)):s++,f=0,l=0,p="",g=""}""===e[e.length-1][1]&&e.pop();var E=!1;for(s=1;s<e.length-1;)e[s-1][0]===i&&e[s+1][0]===i&&(e[s][1].substring(e[s][1].length-e[s-1][1].length)===e[s-1][1]?(e[s][1]=e[s-1][1]+e[s][1].substring(0,e[s][1].length-e[s-1][1].length),e[s+1][1]=e[s-1][1]+e[s+1][1],e.splice(s-1,1),E=!0):e[s][1].substring(0,e[s+1][1].length)==e[s+1][1]&&(e[s-1][1]+=e[s+1][1],e[s][1]=e[s][1].substring(e[s+1][1].length)+e[s+1][1],e.splice(s+1,1),E=!0)),s++;E&&u(e,t)}function l(e){return e>=55296&&e<=56319}function f(e){return e>=56320&&e<=57343}function h(e){return f(e.charCodeAt(0))}function d(e){return l(e.charCodeAt(e.length-1))}function p(e,t,o,s){return d(e)||h(s)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[i,e],[n,t],[r,o],[i,s]])}function g(e,t,n){return o(e,t,n,!0)}g.INSERT=r,g.DELETE=n,g.EQUAL=i,e.exports=g},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i,o=r(n(10)),s=r(n(18));!function(e){e.compose=function(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=o.default(t);for(var i in n||(r=Object.keys(r).reduce((function(e,t){return null!=r[t]&&(e[t]=r[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(r[i]=e[i]);return Object.keys(r).length>0?r:void 0},e.diff=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,r){return s.default(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n}),{});return Object.keys(n).length>0?n:void 0},e.invert=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),e=e||{};var n=Object.keys(t).reduce((function(n,r){return t[r]!==e[r]&&void 0!==e[r]&&(n[r]=t[r]),n}),{});return Object.keys(e).reduce((function(n,r){return e[r]!==t[r]&&void 0===t[r]&&(n[r]=null),n}),n)},e.transform=function(e,t,n){if(void 0===n&&(n=!1),"object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var r=Object.keys(t).reduce((function(n,r){return void 0===e[r]&&(n[r]=t[r]),n}),{});return Object.keys(r).length>0?r:void 0}}}(i||(i={})),t.default=i},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(42)),o=function(){function e(e){this.ops=e,this.index=0,this.offset=0}return e.prototype.hasNext=function(){return this.peekLength()<1/0},e.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=i.default.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(n,e):o.insert=t.insert,o}return{retain:1/0}},e.prototype.peek=function(){return this.ops[this.index]},e.prototype.peekLength=function(){return this.ops[this.index]?i.default.length(this.ops[this.index])-this.offset:1/0},e.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},e}();t.default=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(36)}]).default},e.exports=t()},169272:(e,t,n)=>{"use strict";var r=n(310723),i=[],o=[],s=r.makeRequestCallFromTimer((function(){if(o.length)throw o.shift()}));function a(e){var t;(t=i.length?i.pop():new c).task=e,r(t)}function c(){this.task=null}e.exports=a,c.prototype.call=function(){try{this.task.call()}catch(e){a.onerror?a.onerror(e):(o.push(e),s())}finally{this.task=null,i[i.length]=this}}},310723:(e,t,n)=>{"use strict";function r(e){o.length||(i(),!0),o[o.length]=e}e.exports=r;var i,o=[],s=0;function a(){for(;s<o.length;){var e=s;if(s+=1,o[e].call(),s>1024){for(var t=0,n=o.length-s;t<n;t++)o[t]=o[t+s];o.length-=s,s=0}}o.length=0,s=0,!1}var c,u,l,f=void 0!==n.g?n.g:self,h=f.MutationObserver||f.WebKitMutationObserver;function d(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof h?(c=1,u=new h(a),l=document.createTextNode(""),u.observe(l,{characterData:!0}),i=function(){c=-c,l.data=c}):i=d(a),r.requestFlush=i,r.makeRequestCallFromTimer=d},156408:e=>{e.exports=function(){function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,(function(e){return i(t[s][1][e]||e)}),u,u.exports,e,t,n,r)}return n[s].exports}for(var o=void 0,s=0;s<r.length;s++)i(r[s]);return i}return e}()({1:[function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PromiseGlobal=void 0;var i=r(e("promise-polyfill")),o="undefined"!=typeof Promise?Promise:i.default;n.PromiseGlobal=o},{"promise-polyfill":9}],2:[function(e,t,n){"use strict";var r=e("./lib/promise"),i={};function o(e){var t,n=JSON.stringify(e);if(!e.forceScriptReload&&(t=i[n]))return t;var o=document.createElement("script"),s=e.dataAttributes||{},a=e.container||document.head;return o.src=e.src,o.id=e.id||"",o.async=!0,e.crossorigin&&o.setAttribute("crossorigin",""+e.crossorigin),Object.keys(s).forEach((function(e){o.setAttribute("data-"+e,""+s[e])})),t=new r.PromiseGlobal((function(t,n){o.addEventListener("load",(function(){t(o)})),o.addEventListener("error",(function(){n(new Error(e.src+" failed to load."))})),o.addEventListener("abort",(function(){n(new Error(e.src+" has aborted."))})),a.appendChild(o)})),i[n]=t,t}o.clearCache=function(){i={}},t.exports=o},{"./lib/promise":1}],3:[function(e,t,n){t.exports=e("./dist/load-script")},{"./dist/load-script":2}],4:[function(e,t,n){"use strict";function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}t.exports=r},{}],5:[function(e,t,n){"use strict";function r(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];setTimeout((function(){try{e.apply(void 0,t)}catch(n){console.log("Error in callback function"),console.log(n)}}),1)}}Object.defineProperty(n,"__esModule",{value:!0}),n.deferred=r},{}],6:[function(e,t,n){"use strict";function r(e){var t=!1;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t||(t=!0,e.apply(void 0,n))}}Object.defineProperty(n,"__esModule",{value:!0}),n.once=r},{}],7:[function(e,t,n){"use strict";function r(e,t){if(!t)return e;e.then((function(e){return t(null,e)})).catch((function(e){return t(e)}))}Object.defineProperty(n,"__esModule",{value:!0}),n.promiseOrCallback=r},{}],8:[function(e,t,n){"use strict";var r=e("./lib/deferred"),i=e("./lib/once"),o=e("./lib/promise-or-callback");function s(e){return function(){for(var t,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return"function"==typeof n[n.length-1]&&(t=n.pop(),t=i.once(r.deferred(t))),o.promiseOrCallback(e.apply(this,n),t)}}s.wrapPrototype=function(e,t){void 0===t&&(t={});var n=t.ignoreMethods||[],r=!0===t.transformPrivateMethods;return Object.getOwnPropertyNames(e.prototype).filter((function(t){var i,o="constructor"!==t&&"function"==typeof e.prototype[t],s=-1===n.indexOf(t);return i=!!r||"_"!==t.charAt(0),o&&i&&s})).forEach((function(t){var n=e.prototype[t];e.prototype[t]=s(n)})),e},t.exports=s},{"./lib/deferred":5,"./lib/once":6,"./lib/promise-or-callback":7}],9:[function(e,t,n){"use strict";function r(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}function i(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var s=n.then;if("function"==typeof s)return void s.call(n,(function(t){o(e,t)}),(function(n){r[e]={status:"rejected",reason:n},0==--i&&t(r)}))}r[e]={status:"fulfilled",value:n},0==--i&&t(r)}for(var s=0;s<r.length;s++)o(s,r[s])}))}var o=setTimeout;function s(e){return Boolean(e&&void 0!==e.length)}function a(){}function c(e,t){return function(){e.apply(t,arguments)}}function u(e){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(e,this)}function l(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,u._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(i){return void h(t.promise,i)}f(t.promise,r)}else(1===e._state?f:h)(t.promise,e._value)}))):e._deferreds.push(t)}function f(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof u)return e._state=3,e._value=t,void d(e);if("function"==typeof n)return void g(c(n,t),e)}e._state=1,e._value=t,d(e)}catch(r){h(e,r)}}function h(e,t){e._state=2,e._value=t,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&u._immediateFn((function(){e._handled||u._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)l(e,e._deferreds[t]);e._deferreds=null}function p(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function g(e,t){var n=!1;try{e((function(e){n||(n=!0,f(t,e))}),(function(e){n||(n=!0,h(t,e))}))}catch(r){if(n)return;n=!0,h(t,r)}}u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){var n=new this.constructor(a);return l(this,new p(e,t,n)),n},u.prototype.finally=r,u.all=function(e){return new u((function(t,n){if(!s(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){o(e,t)}),n)}r[e]=s,0==--i&&t(r)}catch(c){n(c)}}for(var a=0;a<r.length;a++)o(a,r[a])}))},u.allSettled=i,u.resolve=function(e){return e&&"object"==typeof e&&e.constructor===u?e:new u((function(t){t(e)}))},u.reject=function(e){return new u((function(t,n){n(e)}))},u.race=function(e){return new u((function(t,n){if(!s(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)u.resolve(e[r]).then(t,n)}))},u._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){o(e,0)},u._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.exports=u},{}],10:[function(e,t,n){"use strict";var r=e("./constants").BRAINTREE_VERSION,i=e("./request/graphql"),o=e("./request"),s=e("../lib/is-verified-domain"),a=e("../lib/braintree-error"),c=e("../lib/convert-to-braintree-error"),u=e("./get-configuration").getConfiguration,l=e("../lib/create-authorization-data"),f=e("../lib/add-metadata"),h=e("@braintree/wrap-promise"),d=e("../lib/once"),p=e("../lib/deferred"),g=e("../lib/assign").assign,y=e("../lib/analytics"),m=e("./errors"),b=e("../lib/constants").VERSION,v=e("../lib/constants").GRAPHQL_URLS,E=e("../lib/methods"),_=e("../lib/convert-methods-to-error"),w=e("../lib/assets"),S=e("../lib/constants").FRAUDNET_FNCLS,O=e("../lib/constants").FRAUDNET_SOURCE,T=e("../lib/constants").FRAUDNET_URL,A={};function I(e){var t,n;if(e=e||{},t=JSON.stringify(e),!(n=e.gatewayConfiguration))throw new a(m.CLIENT_MISSING_GATEWAY_CONFIGURATION);if(["assetsUrl","clientApiUrl","configUrl"].forEach((function(e){if(e in n&&!s(n[e]))throw new a({type:m.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:m.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:e+" property is on an invalid domain."})})),this.getConfiguration=function(){return JSON.parse(t)},this._request=o,this._configuration=this.getConfiguration(),this._clientApiBaseUrl=n.clientApiUrl+"/v1/",n.graphQL){if(!s(n.graphQL.url))throw new a({type:m.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:m.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:"graphQL.url property is on an invalid domain."});this._graphQL=new i({graphQL:n.graphQL})}}function C(e,t){var n;if(-1===e?n=new a(m.CLIENT_REQUEST_TIMEOUT):401===e?n=new a(m.CLIENT_AUTHORIZATION_INVALID):403===e?n=new a(m.CLIENT_AUTHORIZATION_INSUFFICIENT):429===e?n=new a(m.CLIENT_RATE_LIMITED):e>=500?n=new a(m.CLIENT_GATEWAY_NETWORK):(e<200||e>=400)&&(n=c(t,{type:m.CLIENT_REQUEST_ERROR.type,code:m.CLIENT_REQUEST_ERROR.code,message:m.CLIENT_REQUEST_ERROR.message})),n)return n.details=n.details||{},n.details.httpStatus=e,n}function N(e){return{Authorization:"Bearer "+(e.authorizationFingerprint||e.authorization),"Braintree-Version":r}}I.initialize=function(e){var t,n,r=A[e.authorization];if(r)return y.sendEvent(r,"custom.client.load.cached"),r;try{n=l(e.authorization)}catch(i){return Promise.reject(new a(m.CLIENT_INVALID_AUTHORIZATION))}return r=u(n).then((function(n){return e.debug&&(n.isDebug=!0),n.authorization=e.authorization,t=new I(n)})),A[e.authorization]=r,y.sendEvent(r,"custom.client.load.initialized"),r.then((function(e){return y.sendEvent(t,"custom.client.load.succeeded"),e})).catch((function(t){return delete A[e.authorization],Promise.reject(t)}))},I.clearCache=function(){A={}},I.prototype._findOrCreateFraudnetJSON=function(e){var t,n,r,i,o=document.querySelector('script[fncls="'+S+'"]');o||((o=document.body.appendChild(document.createElement("script"))).type="application/json",o.setAttribute("fncls",S)),t=this.getConfiguration(),n={rda_tenant:"bt_card",mid:t.gatewayConfiguration.merchantId},(r=t.authorizationFingerprint)&&r.split("&").forEach((function(e){var t=e.split("=");"customer_id"===t[0]&&t.length>1&&(n.cid=t[1])})),i={f:e.substr(0,32),fp:n,bu:!1,s:O},o.text=JSON.stringify(i)},I.prototype.request=function(e,t){var n=this,r=new Promise((function(t,r){var i,o,s,u,l=Boolean("payment_methods/credit_cards"===e.endpoint&&n.getConfiguration().gatewayConfiguration.creditCards.collectDeviceData);if("graphQLApi"!==e.api&&(e.method?e.endpoint||(i="options.endpoint"):i="options.method"),i)throw new a({type:m.CLIENT_OPTION_REQUIRED.type,code:m.CLIENT_OPTION_REQUIRED.code,message:i+" is required when making a request."});if(o="api"in e?e.api:"clientApi",u={method:e.method,graphQL:n._graphQL,timeout:e.timeout,metadata:n._configuration.analyticsMetadata},"clientApi"===o)s=n._clientApiBaseUrl,u.data=f(n._configuration,e.data);else{if("graphQLApi"!==o)throw new a({type:m.CLIENT_OPTION_INVALID.type,code:m.CLIENT_OPTION_INVALID.code,message:"options.api is invalid."});s=v[n._configuration.gatewayConfiguration.environment],e.endpoint="",u.method="post",u.data=g({clientSdkMetadata:{platform:n._configuration.analyticsMetadata.platform,source:n._configuration.analyticsMetadata.source,integration:n._configuration.analyticsMetadata.integration,sessionId:n._configuration.analyticsMetadata.sessionId,version:b}},e.data),u.headers=N(n._configuration)}u.url=s+e.endpoint,u.sendAnalyticsEvent=function(e){y.sendEvent(n,e)},n._request(u,(function(e,i,s){var a,u;(u=C(s,e))?r(u):"graphQLApi"===o&&i.errors?r(c(i.errors,{type:m.CLIENT_GRAPHQL_REQUEST_ERROR.type,code:m.CLIENT_GRAPHQL_REQUEST_ERROR.code,message:m.CLIENT_GRAPHQL_REQUEST_ERROR.message})):(a=g({_httpStatus:s},i),l&&a.creditCards&&a.creditCards.length>0&&(n._findOrCreateFraudnetJSON(a.creditCards[0].nonce),w.loadScript({src:T,forceScriptReload:!0})),t(a))}))}));return"function"==typeof t?(t=d(p(t)),void r.then((function(e){t(null,e,e._httpStatus)})).catch((function(e){var n=e&&e.details&&e.details.httpStatus;t(e,null,n)}))):r},I.prototype.toJSON=function(){return this.getConfiguration()},I.prototype.getVersion=function(){return b},I.prototype.teardown=h((function(){var e=this;return delete A[e.getConfiguration().authorization],_(e,E(I.prototype)),Promise.resolve()})),t.exports=I},{"../lib/add-metadata":28,"../lib/analytics":29,"../lib/assets":30,"../lib/assign":31,"../lib/braintree-error":32,"../lib/constants":33,"../lib/convert-methods-to-error":34,"../lib/convert-to-braintree-error":35,"../lib/create-authorization-data":36,"../lib/deferred":37,"../lib/is-verified-domain":41,"../lib/methods":43,"../lib/once":44,"./constants":11,"./errors":12,"./get-configuration":13,"./request":24,"./request/graphql":22,"@braintree/wrap-promise":8}],11:[function(e,t,n){"use strict";t.exports={BRAINTREE_VERSION:"2018-05-10"}},{}],12:[function(e,t,n){"use strict";var r=e("../lib/braintree-error");t.exports={CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN:{type:r.types.MERCHANT,code:"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"},CLIENT_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"CLIENT_OPTION_REQUIRED"},CLIENT_OPTION_INVALID:{type:r.types.MERCHANT,code:"CLIENT_OPTION_INVALID"},CLIENT_MISSING_GATEWAY_CONFIGURATION:{type:r.types.INTERNAL,code:"CLIENT_MISSING_GATEWAY_CONFIGURATION",message:"Missing gatewayConfiguration."},CLIENT_INVALID_AUTHORIZATION:{type:r.types.MERCHANT,code:"CLIENT_INVALID_AUTHORIZATION",message:"Authorization is invalid. Make sure your client token or tokenization key is valid."},CLIENT_GATEWAY_NETWORK:{type:r.types.NETWORK,code:"CLIENT_GATEWAY_NETWORK",message:"Cannot contact the gateway at this time."},CLIENT_REQUEST_TIMEOUT:{type:r.types.NETWORK,code:"CLIENT_REQUEST_TIMEOUT",message:"Request timed out waiting for a reply."},CLIENT_REQUEST_ERROR:{type:r.types.NETWORK,code:"CLIENT_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_GRAPHQL_REQUEST_ERROR:{type:r.types.NETWORK,code:"CLIENT_GRAPHQL_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_RATE_LIMITED:{type:r.types.MERCHANT,code:"CLIENT_RATE_LIMITED",message:"You are being rate-limited; please try again in a few minutes."},CLIENT_AUTHORIZATION_INSUFFICIENT:{type:r.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INSUFFICIENT",message:"The authorization used has insufficient privileges."},CLIENT_AUTHORIZATION_INVALID:{type:r.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INVALID",message:"Either the client token has expired and a new one should be generated or the tokenization key has been deactivated or deleted."}}},{"../lib/braintree-error":32}],13:[function(e,t,n){"use strict";var r=e("../lib/braintree-error"),i=e("@braintree/wrap-promise"),o=e("./request"),s=e("@braintree/uuid"),a=e("../lib/constants"),c=e("./errors"),u=e("./request/graphql"),l=e("../lib/constants").GRAPHQL_URLS,f=e("../lib/is-date-string-before-or-on"),h=e("./constants").BRAINTREE_VERSION;function d(e){return new Promise((function(t,n){var i,d,p,g,y=s(),m={merchantAppId:window.location.host,platform:a.PLATFORM,sdkVersion:a.VERSION,source:a.SOURCE,integration:a.INTEGRATION,integrationType:a.INTEGRATION,sessionId:y};d=e.attrs,p=e.configUrl,d._meta=m,d.braintreeLibraryVersion=a.BRAINTREE_LIBRARY_VERSION,d.configVersion="3",g={url:p,method:"GET",data:d},d.authorizationFingerprint&&e.graphQL?(f(e.graphQL.date,h)&&(g.graphQL=new u({graphQL:{url:e.graphQL.url,features:["configuration"]}})),g.metadata=m):d.tokenizationKey&&(g.graphQL=new u({graphQL:{url:l[e.environment],features:["configuration"]}}),g.metadata=m),o(g,(function(e,o,s){var a;if(e)return a=403===s?c.CLIENT_AUTHORIZATION_INSUFFICIENT:401===s?c.CLIENT_AUTHORIZATION_INVALID:c.CLIENT_GATEWAY_NETWORK,void n(new r({type:a.type,code:a.code,message:a.message,details:{originalError:e}}));i={authorizationType:d.tokenizationKey?"TOKENIZATION_KEY":"CLIENT_TOKEN",authorizationFingerprint:d.authorizationFingerprint,analyticsMetadata:m,gatewayConfiguration:o},t(i)}))}))}t.exports={getConfiguration:i(d)}},{"../lib/braintree-error":32,"../lib/constants":33,"../lib/is-date-string-before-or-on":40,"./constants":11,"./errors":12,"./request":24,"./request/graphql":22,"@braintree/uuid":4,"@braintree/wrap-promise":8}],14:[function(e,t,n){"use strict";var r=e("../lib/braintree-error"),i=e("./client"),o="3.99.2",s=e("@braintree/wrap-promise"),a=e("../lib/errors");function c(e){return e.authorization?i.initialize(e):Promise.reject(new r({type:a.INSTANTIATION_OPTION_REQUIRED.type,code:a.INSTANTIATION_OPTION_REQUIRED.code,message:"options.authorization is required when instantiating a client."}))}t.exports={create:s(c),VERSION:o}},{"../lib/braintree-error":32,"../lib/errors":39,"./client":10,"@braintree/wrap-promise":8}],15:[function(e,t,n){"use strict";var r=e("../../lib/querystring"),i=e("../../lib/assign").assign,o=e("./prep-body"),s=e("./parse-body"),a=e("./xhr"),c=a.isAvailable,u=e("./graphql/request"),l=e("./default-request"),f=1,h=408;function d(e){return!e||e===h}function p(e){var t=!e.data&&e.errors&&e.errors[0]&&e.errors[0].extensions&&e.errors[0].extensions.errorClass;return"UNKNOWN"===t||"INTERNAL"===t}function g(e,t,n){var h,y,m,b,v,E,_,w=e.url,S=e.graphQL,O=e.timeout,T=a.getRequestObject(),A=n,I=Boolean(S&&S.isGraphQLRequest(w,e.data));e.headers=i({"Content-Type":"application/json"},e.headers),w=(m=I?new u(e):new l(e)).getUrl(),b=m.getBody(),v=m.getMethod(),E=m.getHeaders(),"GET"===v&&(w=r.queryify(w,b),b=null),c?T.onreadystatechange=function(){if(4===T.readyState){if(0===T.status&&I)return delete e.graphQL,void g(e,t,n);if(_=s(T.responseText),y=m.adaptResponseBody(_),(h=m.determineStatus(T.status,_))>=400||h<200){if(I&&p(_))return delete e.graphQL,void g(e,t,n);if(t<f&&d(h))return t++,void g(e,t,n);A(y||"error",null,h||500)}else A(null,y,h)}}:(e.headers&&(w=r.queryify(w,E)),T.onload=function(){A(null,s(T.responseText),T.status)},T.onerror=function(){A("error",null,500)},T.onprogress=function(){},T.ontimeout=function(){A("timeout",null,-1)});try{T.open(v,w,!0)}catch(C){if(!I)throw C;return delete e.graphQL,void g(e,t,n)}T.timeout=O,c&&Object.keys(E).forEach((function(e){T.setRequestHeader(e,E[e])}));try{T.send(o(v,b))}catch(N){}}function y(e,t){g(e,0,t)}t.exports={request:y}},{"../../lib/assign":31,"../../lib/querystring":45,"./default-request":16,"./graphql/request":23,"./parse-body":25,"./prep-body":26,"./xhr":27}],16:[function(e,t,n){"use strict";function r(e){this._url=e.url,this._data=e.data,this._method=e.method,this._headers=e.headers}r.prototype.getUrl=function(){return this._url},r.prototype.getBody=function(){return this._data},r.prototype.getMethod=function(){return this._method},r.prototype.getHeaders=function(){return this._headers},r.prototype.adaptResponseBody=function(e){return e},r.prototype.determineStatus=function(e){return e},t.exports=r},{}],17:[function(e,t,n){"use strict";var r=e("./error"),i=e("../../../../lib/assign").assign,o={creditCard:{AMERICAN_EXPRESS:"American Express",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",SOLO:"Solo",UK_MAESTRO:"UK Maestro",UNION_PAY:"UnionPay",VISA:"Visa",ELO:"Elo",HIPER:"Hiper",HIPERCARD:"Hipercard"},applePayWeb:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",INTERNATIONAL_MAESTRO:"maestro",ELO:"elo"},visaCheckout:{VISA:"Visa",MASTERCARD:"MasterCard",DISCOVER:"Discover",AMERICAN_EXPRESS:"American Express"},googlePay:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",INTERNATIONAL_MAESTRO:"maestro",ELO:"elo"},masterpass:{VISA:"visa",MASTERCARD:"master",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",DINERS:"diners",INTERNATIONAL_MAESTRO:"maestro",JCB:"jcb"}};function s(e,t){return e.data&&!e.errors?a(e,t):r(e)}function a(e,t){var n,r=e.data.clientConfiguration;return n={environment:r.environment.toLowerCase(),clientApiUrl:r.clientApiUrl,assetsUrl:r.assetsUrl,analytics:{url:r.analyticsUrl},merchantId:r.merchantId,venmo:"off"},r.supportedFeatures&&(n.graphQL={url:t._graphQL._config.url,features:r.supportedFeatures.map((function(e){return e.toLowerCase()}))}),r.braintreeApi&&(n.braintreeApi=r.braintreeApi),r.applePayWeb&&(n.applePayWeb=r.applePayWeb,n.applePayWeb.supportedNetworks=c(r.applePayWeb.supportedCardBrands,o.applePayWeb),delete n.applePayWeb.supportedCardBrands),r.ideal&&(n.ideal=r.ideal),r.kount&&(n.kount={kountMerchantId:r.kount.merchantId}),r.creditCard?(n.challenges=r.creditCard.challenges.map((function(e){return e.toLowerCase()})),n.creditCards={supportedCardTypes:c(r.creditCard.supportedCardBrands,o.creditCard)},n.threeDSecureEnabled=r.creditCard.threeDSecureEnabled,n.threeDSecure=r.creditCard.threeDSecure):(n.challenges=[],n.creditCards={supportedCardTypes:[]},n.threeDSecureEnabled=!1),r.googlePay&&(n.androidPay={displayName:r.googlePay.displayName,enabled:!0,environment:r.googlePay.environment.toLowerCase(),googleAuthorizationFingerprint:r.googlePay.googleAuthorization,paypalClientId:r.googlePay.paypalClientId,supportedNetworks:c(r.googlePay.supportedCardBrands,o.googlePay)}),r.venmo&&(n.payWithVenmo={merchantId:r.venmo.merchantId,accessToken:r.venmo.accessToken,environment:r.venmo.environment.toLowerCase(),enrichedCustomerDataEnabled:r.venmo.enrichedCustomerDataEnabled}),r.paypal?(n.paypalEnabled=!0,n.paypal=i({},r.paypal),n.paypal.currencyIsoCode=n.paypal.currencyCode,n.paypal.environment=n.paypal.environment.toLowerCase(),delete n.paypal.currencyCode):n.paypalEnabled=!1,r.unionPay&&(n.unionPay={enabled:!0,merchantAccountId:r.unionPay.merchantAccountId}),r.visaCheckout&&(n.visaCheckout={apikey:r.visaCheckout.apiKey,encryptionKey:r.visaCheckout.encryptionKey,externalClientId:r.visaCheckout.externalClientId,supportedCardTypes:c(r.visaCheckout.supportedCardBrands,o.visaCheckout)}),r.masterpass&&(n.masterpass={merchantCheckoutId:r.masterpass.merchantCheckoutId,supportedNetworks:c(r.masterpass.supportedCardBrands,o.masterpass)}),r.usBankAccount&&(n.usBankAccount={routeId:r.usBankAccount.routeId,plaid:{publicKey:r.usBankAccount.plaidPublicKey}}),n}function c(e,t){return e.reduce((function(e,n){return t.hasOwnProperty(n)?e.concat(t[n]):e}),[])}t.exports=s},{"../../../../lib/assign":31,"./error":19}],18:[function(e,t,n){"use strict";var r=e("./error"),i={AMERICAN_EXPRESS:"American Express",DINERS:"Discover",DISCOVER:"Discover",ELO:"Elo",HIPER:"Hiper",HIPERCARD:"Hipercard",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",UK_MAESTRO:"Maestro",UNION_PAY:"UnionPay",VISA:"Visa"},o={YES:"Yes",NO:"No",UNKNOWN:"Unknown"},s={PSDTWO:"psd2"};function a(e){return e.data&&!e.errors?c(e):r(e)}function c(e){var t,n,r=e.data.tokenizeCreditCard,a=r.creditCard,c=a.last4?a.last4.substr(2,4):"",u=a.binData;return u&&(["commercial","debit","durbinRegulated","healthcare","payroll","prepaid"].forEach((function(e){u[e]?u[e]=o[u[e]]:u[e]="Unknown"})),["issuingBank","countryOfIssuance","productId"].forEach((function(e){u[e]||(u[e]="Unknown")}))),t={creditCards:[{binData:u,consumed:!1,description:c?"ending in "+c:"",nonce:r.token,details:{cardholderName:a.cardholderName,expirationMonth:a.expirationMonth,expirationYear:a.expirationYear,bin:a.bin||"",cardType:i[a.brandCode]||"Unknown",lastFour:a.last4||"",lastTwo:c},type:"CreditCard",threeDSecureInfo:null}]},r.authenticationInsight&&(n=r.authenticationInsight.customerAuthenticationRegulationEnvironment,t.creditCards[0].authenticationInsight={regulationEnvironment:s[n]||n.toLowerCase()}),t}t.exports=a},{"./error":19}],19:[function(e,t,n){"use strict";function r(e){var t=e.errors&&e.errors[0]&&e.errors[0].extensions&&e.errors[0].extensions.errorClass;return"VALIDATION"===t?o(e):t?i(e):{error:{message:"There was a problem serving your request"},fieldErrors:[]}}function i(e){return{error:{message:e.errors[0].message},fieldErrors:[]}}function o(e){var t=s(e.errors);return 0===t.length?{error:{message:e.errors[0].message}}:{error:{message:c(t)},fieldErrors:t}}function s(e){var t=[];return e.forEach((function(e){e.extensions&&e.extensions.inputPath&&a(e.extensions.inputPath.slice(1),e,t)})),t}function a(e,t,n){var r,i=t.extensions.legacyCode,o=e[0];1!==e.length?(n.forEach((function(e){e.field===o&&(r=e)})),r||(r={field:o,fieldErrors:[]},n.push(r)),a(e.slice(1),t,r.fieldErrors)):n.push({code:i,field:o,message:t.message})}function c(e){return{creditCard:"Credit card is invalid"}[e[0].field]}t.exports=r},{}],20:[function(e,t,n){"use strict";var r="query ClientConfiguration {   clientConfiguration {     analyticsUrl     environment     merchantId     assetsUrl     clientApiUrl     creditCard {       supportedCardBrands       challenges       threeDSecureEnabled       threeDSecure {         cardinalAuthenticationJWT       }     }     applePayWeb {       countryCode       currencyCode       merchantIdentifier       supportedCardBrands     }     googlePay {       displayName       supportedCardBrands       environment       googleAuthorization       paypalClientId     }     ideal {       routeId       assetsUrl     }     kount {       merchantId     }     masterpass {       merchantCheckoutId       supportedCardBrands     }     paypal {       displayName       clientId       assetsUrl       environment       environmentNoNetwork       unvettedMerchant       braintreeClientId       billingAgreementsEnabled       merchantAccountId       currencyCode       payeeEmail     }     unionPay {       merchantAccountId     }     usBankAccount {       routeId       plaidPublicKey     }     venmo {       merchantId       accessToken       environment       enrichedCustomerDataEnabled    }     visaCheckout {       apiKey       externalClientId       supportedCardBrands     }     braintreeApi {       accessToken       url     }     supportedFeatures   } }";function i(){return{query:r,operationName:"ClientConfiguration"}}t.exports=i},{}],21:[function(e,t,n){"use strict";var r=e("../../../../lib/assign").assign;function i(e){var t=e.hasAuthenticationInsight,n="mutation TokenizeCreditCard($input: TokenizeCreditCardInput!";return t&&(n+=", $authenticationInsightInput: AuthenticationInsightInput!"),n+=") {   tokenizeCreditCard(input: $input) {     token     creditCard {       bin       brandCode       last4       cardholderName       expirationMonth      expirationYear      binData {         prepaid         healthcare         debit         durbinRegulated         commercial         payroll         issuingBank         countryOfIssuance         productId       }     } ",t&&(n+="    authenticationInsight(input: $authenticationInsightInput) {      customerAuthenticationRegulationEnvironment    }"),n+="  } }"}function o(e,t){var n=e.creditCard,r=n&&n.billingAddress,i=n&&n.expirationDate,o=n&&(n.expirationMonth||i&&i.split("/")[0].trim()),a=n&&(n.expirationYear||i&&i.split("/")[1].trim()),c={input:{creditCard:{number:n&&n.number,expirationMonth:o,expirationYear:a,cvv:n&&n.cvv,cardholderName:n&&n.cardholderName},options:{}}};return t.hasAuthenticationInsight&&(c.authenticationInsightInput={merchantAccountId:e.merchantAccountId}),r&&(c.input.creditCard.billingAddress=r),c.input=s(e,c.input),c}function s(e,t){var n;return e.creditCard&&e.creditCard.options&&"boolean"==typeof e.creditCard.options.validate?n=e.creditCard.options.validate:e.authorizationFingerprint&&e.tokenizationKey||e.authorizationFingerprint?n=!0:e.tokenizationKey&&(n=!1),"boolean"==typeof n&&(t.options=r({validate:n},t.options)),t}function a(e){var t={hasAuthenticationInsight:Boolean(e.authenticationInsight&&e.merchantAccountId)};return{query:i(t),variables:o(e,t),operationName:"TokenizeCreditCard"}}t.exports=a},{"../../../../lib/assign":31}],22:[function(e,t,n){"use strict";var r={tokenize_credit_cards:"payment_methods/credit_cards",configuration:"configuration"},i=["creditCard.options.unionPayEnrollment"];function o(e){this._config=e.graphQL}function s(e){return i.some((function(t){return void 0!==t.split(".").reduce((function(e,t){return e&&e[t]}),e)}))}o.prototype.getGraphQLEndpoint=function(){return this._config.url},o.prototype.isGraphQLRequest=function(e,t){var n,i=this.getClientApiPath(e);return!(!this._isGraphQLEnabled()||!i)&&(n=this._config.features.some((function(e){return r[e]===i})),!s(t)&&n)},o.prototype.getClientApiPath=function(e){var t,n="/client_api/v1/",r=e.split(n);return r.length>1&&(t=r[1].split("?")[0]),t},o.prototype._isGraphQLEnabled=function(){return Boolean(this._config)},t.exports=o},{}],23:[function(e,t,n){"use strict";var r=e("../../constants").BRAINTREE_VERSION,i=e("../../../lib/assign").assign,o=e("../../../lib/snake-case-to-camel-case"),s=e("./generators/credit-card-tokenization"),a=e("./adapters/credit-card-tokenization"),c=e("./generators/configuration"),u=e("./adapters/configuration"),l={"payment_methods/credit_cards":s,configuration:c},f={"payment_methods/credit_cards":a,configuration:u};function h(e){var t=e.graphQL.getClientApiPath(e.url);this._graphQL=e.graphQL,this._data=e.data,this._method=e.method,this._headers=e.headers,this._clientSdkMetadata={source:e.metadata.source,integration:e.metadata.integration,sessionId:e.metadata.sessionId},this._sendAnalyticsEvent=e.sendAnalyticsEvent||Function.prototype,this._generator=l[t],this._adapter=f[t],this._sendAnalyticsEvent("graphql.init")}function d(e,t){return!e&&t.errors[0].message}function p(e){var t={};return Object.keys(e).forEach((function(n){var r=o(n);"object"==typeof e[n]?t[r]=p(e[n]):"number"==typeof e[n]?t[r]=String(e[n]):t[r]=e[n]})),t}h.prototype.getUrl=function(){return this._graphQL.getGraphQLEndpoint()},h.prototype.getBody=function(){var e=p(this._data),t=this._generator(e),n=i({clientSdkMetadata:this._clientSdkMetadata},t);return JSON.stringify(n)},h.prototype.getMethod=function(){return"POST"},h.prototype.getHeaders=function(){var e,t;return this._data.authorizationFingerprint?(this._sendAnalyticsEvent("graphql.authorization-fingerprint"),e=this._data.authorizationFingerprint):(this._sendAnalyticsEvent("graphql.tokenization-key"),e=this._data.tokenizationKey),t={Authorization:"Bearer "+e,"Braintree-Version":r},i({},this._headers,t)},h.prototype.adaptResponseBody=function(e){return this._adapter(e,this)},h.prototype.determineStatus=function(e,t){var n,r;return 200===e?(r=t.errors&&t.errors[0]&&t.errors[0].extensions&&t.errors[0].extensions.errorClass,n=t.data&&!t.errors?200:"VALIDATION"===r?422:"AUTHORIZATION"===r?403:"AUTHENTICATION"===r?401:d(r,t)?403:500):n=e||500,this._sendAnalyticsEvent("graphql.status."+e),this._sendAnalyticsEvent("graphql.determinedStatus."+n),n},t.exports=h},{"../../../lib/assign":31,"../../../lib/snake-case-to-camel-case":46,"../../constants":11,"./adapters/configuration":17,"./adapters/credit-card-tokenization":18,"./generators/configuration":20,"./generators/credit-card-tokenization":21}],24:[function(e,t,n){"use strict";var r=e("../../lib/once"),i=e("./ajax-driver");t.exports=function(e,t){t=r(t||Function.prototype),e.method=(e.method||"GET").toUpperCase(),e.timeout=null==e.timeout?6e4:e.timeout,e.data=e.data||{},i.request(e,t)}},{"../../lib/once":44,"./ajax-driver":15}],25:[function(e,t,n){"use strict";t.exports=function(e){try{e=JSON.parse(e)}catch(t){}return e}},{}],26:[function(e,t,n){"use strict";t.exports=function(e,t){if("string"!=typeof e)throw new Error("Method must be a string");return"get"!==e.toLowerCase()&&null!=t&&(t="string"==typeof t?t:JSON.stringify(t)),t}},{}],27:[function(e,t,n){"use strict";var r="undefined"!=typeof window&&window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest;function i(){return r?new window.XMLHttpRequest:new window.XDomainRequest}t.exports={isAvailable:r,getRequestObject:i}},{}],28:[function(e,t,n){"use strict";var r=e("./create-authorization-data"),i=e("./json-clone"),o=e("./constants");function s(e,t){var n,s=t?i(t):{},a=r(e.authorization).attrs,c=i(e.analyticsMetadata);for(n in s.braintreeLibraryVersion=o.BRAINTREE_LIBRARY_VERSION,s._meta)s._meta.hasOwnProperty(n)&&(c[n]=s._meta[n]);return s._meta=c,a.tokenizationKey?s.tokenizationKey=a.tokenizationKey:s.authorizationFingerprint=a.authorizationFingerprint,s}t.exports=s},{"./constants":33,"./create-authorization-data":36,"./json-clone":42}],29:[function(e,t,n){"use strict";var r=e("./constants"),i=e("./add-metadata");function o(e,t,n){var o=Date.now();return Promise.resolve(e).then((function(e){var s=Date.now(),a=e.getConfiguration(),c=e._request,u=a.gatewayConfiguration.analytics.url,l={analytics:[{kind:r.ANALYTICS_PREFIX+t,isAsync:Math.floor(s/1e3)!==Math.floor(o/1e3),timestamp:o}]};c({url:u,method:"post",data:i(a,l),timeout:r.ANALYTICS_REQUEST_TIMEOUT_MS},n)})).catch((function(e){n&&n(e)}))}t.exports={sendEvent:o}},{"./add-metadata":28,"./constants":33}],30:[function(e,t,n){"use strict";var r=e("@braintree/asset-loader/load-script");t.exports={loadScript:r}},{"@braintree/asset-loader/load-script":3}],31:[function(e,t,n){"use strict";var r="function"==typeof Object.assign?Object.assign:i;function i(e){var t,n,r;for(t=1;t<arguments.length;t++)for(r in n=arguments[t])n.hasOwnProperty(r)&&(e[r]=n[r]);return e}t.exports={assign:r,_assign:i}},{}],32:[function(e,t,n){"use strict";var r=e("./enumerate");function i(e){if(!i.types.hasOwnProperty(e.type))throw new Error(e.type+" is not a valid type.");if(!e.code)throw new Error("Error code required.");if(!e.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=e.code,this.message=e.message,this.type=e.type,this.details=e.details}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.types=r(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),i.findRootError=function(e){return e instanceof i&&e.details&&e.details.originalError?i.findRootError(e.details.originalError):e},t.exports=i},{"./enumerate":38}],33:[function(e,t,n){"use strict";var r="3.99.2",i="web",o={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},s={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},a={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};t.exports={ANALYTICS_PREFIX:i+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:s,CLIENT_API_URLS:o,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:a,INTEGRATION_TIMEOUT_MS:6e4,VERSION:r,INTEGRATION:"custom",SOURCE:"client",PLATFORM:i,BRAINTREE_LIBRARY_VERSION:"braintree/"+i+"/"+r}},{}],34:[function(e,t,n){"use strict";var r=e("./braintree-error"),i=e("./errors");t.exports=function(e,t){t.forEach((function(t){e[t]=function(){throw new r({type:i.METHOD_CALLED_AFTER_TEARDOWN.type,code:i.METHOD_CALLED_AFTER_TEARDOWN.code,message:t+" cannot be called after teardown."})}}))}},{"./braintree-error":32,"./errors":39}],35:[function(e,t,n){"use strict";var r=e("./braintree-error");function i(e,t){return e instanceof r?e:new r({type:t.type,code:t.code,message:t.message,details:{originalError:e}})}t.exports=i},{"./braintree-error":32}],36:[function(e,t,n){"use strict";var r=e("../lib/vendor/polyfill").atob,i=e("../lib/constants").CLIENT_API_URLS;function o(e){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(e)}function s(e){var t=e.split("_"),n=t[0];return{merchantId:t.slice(2).join("_"),environment:n}}function a(e){var t,n,a={attrs:{},configUrl:""};return o(e)?(n=s(e),a.environment=n.environment,a.attrs.tokenizationKey=e,a.configUrl=i[n.environment]+"/merchants/"+n.merchantId+"/client_api/v1/configuration"):(t=JSON.parse(r(e)),a.environment=t.environment,a.attrs.authorizationFingerprint=t.authorizationFingerprint,a.configUrl=t.configUrl,a.graphQL=t.graphQL),a}t.exports=a},{"../lib/constants":33,"../lib/vendor/polyfill":47}],37:[function(e,t,n){"use strict";t.exports=function(e){return function(){var t=arguments;setTimeout((function(){e.apply(null,t)}),1)}}},{}],38:[function(e,t,n){"use strict";function r(e,t){return t=null==t?"":t,e.reduce((function(e,n){return e[n]=t+n,e}),{})}t.exports=r},{}],39:[function(e,t,n){"use strict";var r=e("./braintree-error");t.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:r.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:r.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:r.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:r.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":32}],40:[function(e,t,n){"use strict";function r(e){var t=e.split("-");return new Date(t[0],t[1],t[2])}function i(e,t){return r(e)<=r(t)}t.exports=i},{}],41:[function(e,t,n){"use strict";var r,i={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};function o(e){return e.split(".").slice(-2).join(".")}function s(e){var t;return e=e.toLowerCase(),!!/^https:/.test(e)&&((r=r||document.createElement("a")).href=e,t=o(r.hostname),i.hasOwnProperty(t))}t.exports=s},{}],42:[function(e,t,n){"use strict";t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],43:[function(e,t,n){"use strict";t.exports=function(e){return Object.keys(e).filter((function(t){return"function"==typeof e[t]}))}},{}],44:[function(e,t,n){"use strict";function r(e){var t=!1;return function(){t||(t=!0,e.apply(null,arguments))}}t.exports=r},{}],45:[function(e,t,n){"use strict";function r(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&"[object Array]"===Object.prototype.toString.call(e)||!1}function o(e){return e=e||window.location.href,/\?/.test(e)}function s(e){return o(e=e||window.location.href)?(e.split("?")[1]||"").replace(/#.*$/,"").split("&").reduce((function(e,t){var n=t.split("="),r=decodeURIComponent(n[0]),i=decodeURIComponent(n[1]);return e[r]=i,e}),{}):{}}function a(e,t){var n,r,o,s=[];for(o in e)e.hasOwnProperty(o)&&(r=e[o],n=t?i(e)?t+"[]":t+"["+o+"]":o,"object"==typeof r?s.push(a(r,n)):s.push(encodeURIComponent(n)+"="+encodeURIComponent(r)));return s.join("&")}function c(e,t){return e=e||"",null!=t&&"object"==typeof t&&r(t)&&(e+=-1===e.indexOf("?")?"?":"",e+=-1!==e.indexOf("=")?"&":"",e+=a(t)),e}t.exports={parse:s,stringify:a,queryify:c,hasQueryParams:o}},{}],46:[function(e,t,n){"use strict";t.exports=function(e){return-1===e.indexOf("_")?e:e.toLowerCase().replace(/(\_\w)/g,(function(e){return e[1].toUpperCase()}))}},{}],47:[function(e,t,n){"use strict";var r="function"==typeof atob?atob:i;function i(e){var t,n,r,i,o,s,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="";if(!new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$").test(e))throw new Error("Non base64 encoded input passed to window.atob polyfill");s=0;do{t=(63&a.indexOf(e.charAt(s++)))<<2|(i=a.indexOf(e.charAt(s++)))>>4&3,n=(15&i)<<4|(o=a.indexOf(e.charAt(s++)))>>2&15,r=(3&o)<<6|63&a.indexOf(e.charAt(s++)),c+=String.fromCharCode(t)+(n?String.fromCharCode(n):"")+(r?String.fromCharCode(r):"")}while(s<e.length);return c}t.exports={atob:function(e){return r.call(window,e)},_atob:i}},{}]},{},[14])(14)},856154:e=>{var t;e.exports=function(){function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,(function(e){return i(t[s][1][e]||e)}),u,u.exports,e,t,n,r)}return n[s].exports}for(var o=void 0,s=0;s<r.length;s++)i(r[s]);return i}return e}()({1:[function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PromiseGlobal=void 0;var i=r(e("promise-polyfill")),o="undefined"!=typeof Promise?Promise:i.default;n.PromiseGlobal=o},{"promise-polyfill":8}],2:[function(e,t,n){"use strict";var r=e("./lib/promise"),i={};function o(e){var t,n=JSON.stringify(e);if(!e.forceScriptReload&&(t=i[n]))return t;var o=document.createElement("script"),s=e.dataAttributes||{},a=e.container||document.head;return o.src=e.src,o.id=e.id||"",o.async=!0,e.crossorigin&&o.setAttribute("crossorigin",""+e.crossorigin),Object.keys(s).forEach((function(e){o.setAttribute("data-"+e,""+s[e])})),t=new r.PromiseGlobal((function(t,n){o.addEventListener("load",(function(){t(o)})),o.addEventListener("error",(function(){n(new Error(e.src+" failed to load."))})),o.addEventListener("abort",(function(){n(new Error(e.src+" has aborted."))})),a.appendChild(o)})),i[n]=t,t}o.clearCache=function(){i={}},t.exports=o},{"./lib/promise":1}],3:[function(e,t,n){t.exports=e("./dist/load-script")},{"./dist/load-script":2}],4:[function(e,t,n){"use strict";function r(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];setTimeout((function(){try{e.apply(void 0,t)}catch(n){console.log("Error in callback function"),console.log(n)}}),1)}}Object.defineProperty(n,"__esModule",{value:!0}),n.deferred=r},{}],5:[function(e,t,n){"use strict";function r(e){var t=!1;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t||(t=!0,e.apply(void 0,n))}}Object.defineProperty(n,"__esModule",{value:!0}),n.once=r},{}],6:[function(e,t,n){"use strict";function r(e,t){if(!t)return e;e.then((function(e){return t(null,e)})).catch((function(e){return t(e)}))}Object.defineProperty(n,"__esModule",{value:!0}),n.promiseOrCallback=r},{}],7:[function(e,t,n){"use strict";var r=e("./lib/deferred"),i=e("./lib/once"),o=e("./lib/promise-or-callback");function s(e){return function(){for(var t,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return"function"==typeof n[n.length-1]&&(t=n.pop(),t=i.once(r.deferred(t))),o.promiseOrCallback(e.apply(this,n),t)}}s.wrapPrototype=function(e,t){void 0===t&&(t={});var n=t.ignoreMethods||[],r=!0===t.transformPrivateMethods;return Object.getOwnPropertyNames(e.prototype).filter((function(t){var i,o="constructor"!==t&&"function"==typeof e.prototype[t],s=-1===n.indexOf(t);return i=!!r||"_"!==t.charAt(0),o&&i&&s})).forEach((function(t){var n=e.prototype[t];e.prototype[t]=s(n)})),e},t.exports=s},{"./lib/deferred":4,"./lib/once":5,"./lib/promise-or-callback":6}],8:[function(e,t,n){"use strict";function r(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}function i(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var s=n.then;if("function"==typeof s)return void s.call(n,(function(t){o(e,t)}),(function(n){r[e]={status:"rejected",reason:n},0==--i&&t(r)}))}r[e]={status:"fulfilled",value:n},0==--i&&t(r)}for(var s=0;s<r.length;s++)o(s,r[s])}))}var o=setTimeout;function s(e){return Boolean(e&&void 0!==e.length)}function a(){}function c(e,t){return function(){e.apply(t,arguments)}}function u(e){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(e,this)}function l(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,u._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(i){return void h(t.promise,i)}f(t.promise,r)}else(1===e._state?f:h)(t.promise,e._value)}))):e._deferreds.push(t)}function f(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof u)return e._state=3,e._value=t,void d(e);if("function"==typeof n)return void g(c(n,t),e)}e._state=1,e._value=t,d(e)}catch(r){h(e,r)}}function h(e,t){e._state=2,e._value=t,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&u._immediateFn((function(){e._handled||u._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)l(e,e._deferreds[t]);e._deferreds=null}function p(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function g(e,t){var n=!1;try{e((function(e){n||(n=!0,f(t,e))}),(function(e){n||(n=!0,h(t,e))}))}catch(r){if(n)return;n=!0,h(t,r)}}u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){var n=new this.constructor(a);return l(this,new p(e,t,n)),n},u.prototype.finally=r,u.all=function(e){return new u((function(t,n){if(!s(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){o(e,t)}),n)}r[e]=s,0==--i&&t(r)}catch(c){n(c)}}for(var a=0;a<r.length;a++)o(a,r[a])}))},u.allSettled=i,u.resolve=function(e){return e&&"object"==typeof e&&e.constructor===u?e:new u((function(t){t(e)}))},u.reject=function(e){return new u((function(t,n){n(e)}))},u.race=function(e){return new u((function(t,n){if(!s(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)u.resolve(e[r]).then(t,n)}))},u._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){o(e,0)},u._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.exports=u},{}],9:[function(e,t,n){"use strict";var r=e("../lib/braintree-error");t.exports={DATA_COLLECTOR_KOUNT_NOT_ENABLED:{type:r.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_NOT_ENABLED",message:"Kount is not enabled for this merchant."},DATA_COLLECTOR_KOUNT_ERROR:{type:r.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_ERROR"},DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS:{type:r.types.MERCHANT,code:"DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS",message:"Data Collector must be created with Kount and/or PayPal."}}},{"../lib/braintree-error":16}],10:[function(e,t,n){"use strict";var r,i=e("../lib/constants").FRAUDNET_FNCLS,o=e("../lib/constants").FRAUDNET_SOURCE,s=e("../lib/constants").FRAUDNET_URL,a=e("../lib/assets").loadScript;function c(e){var t=new l;return!(e=e||{}).sessionId&&r?(t.sessionId=r,Promise.resolve(t)):t.initialize(e)}function u(){r=null}function l(){}function f(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function h(){var e,t="";for(e=0;e<32;e++)t+=Math.floor(16*Math.random()).toString(16);return t}function d(e){return"https://b.stats.paypal.com/counter.cgi?i=127.0.0.1&p="+e+"&t="+(new Date).getTime()/1e3+"&a=14"}function p(e,t,n){var r=document.body.appendChild(document.createElement("script")),s={f:e,s:o,b:t};return"production"!==n&&(s.sandbox=!0),r.type="application/json",r.setAttribute("fncls",i),r.text=JSON.stringify(s),r}l.prototype.initialize=function(e){var t=e.environment,n=this;return this.sessionId=e.sessionId||h(),e.sessionId||(r=this.sessionId),this._beaconId=d(this.sessionId),this._parameterBlock=p(this.sessionId,this._beaconId,t),a({src:s}).then((function(e){return n._thirdPartyBlock=e,n})).catch((function(){return null}))},l.prototype.teardown=function(){f(document.querySelector('iframe[title="ppfniframe"]')),f(document.querySelector('iframe[title="pbf"]')),f(this._parameterBlock),f(this._thirdPartyBlock)},t.exports={setup:c,clearSessionIdCache:u}},{"../lib/assets":14,"../lib/constants":18}],11:[function(e,t,n){"use strict";var r=e("./kount"),i=e("./fraudnet"),o=e("../lib/braintree-error"),s=e("../lib/basic-component-verification"),a=e("../lib/create-deferred-client"),c=e("../lib/create-assets-url"),u=e("../lib/methods"),l=e("../lib/convert-methods-to-error"),f="3.99.2",h=e("@braintree/wrap-promise"),d=e("./errors");function p(e){var t,n="Data Collector",u={_instances:[]};return s.verify({name:n,client:e.client,authorization:e.authorization}).then((function(){return u._instantiatedWithAClient=!e.useDeferredClient,u._createPromise=a.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:c.create(e.authorization),name:n}).then((function(n){var i,s=n.getConfiguration();if(!0===e.kount&&s.gatewayConfiguration.kount){try{i=r.setup({environment:s.gatewayConfiguration.environment,merchantId:s.gatewayConfiguration.kount.kountMerchantId})}catch(a){return Promise.reject(new o({type:d.DATA_COLLECTOR_KOUNT_ERROR.type,code:d.DATA_COLLECTOR_KOUNT_ERROR.code,message:a.message}))}t=i.deviceData,u._instances.push(i)}else t={};return Promise.resolve(n)})).then((function(n){return i.setup({sessionId:e.riskCorrelationId||e.clientMetadataId||e.correlationId,environment:n.getConfiguration().gatewayConfiguration.environment}).then((function(e){e&&(t.correlation_id=e.sessionId,u._instances.push(e))}))})).then((function(){return 0===u._instances.length?Promise.reject(new o(d.DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS)):(u.deviceData=JSON.stringify(t),u.rawDeviceData=t,u)})),u.teardown=g(u),u.getDeviceData=y(u),u._instantiatedWithAClient?u._createPromise:u}))}function g(e){return h((function(){return e._createPromise.then((function(){e._instances.forEach((function(e){e&&e.teardown()})),l(e,u(e))}))}))}function y(e){return h((function(t){return t=t||{},e._createPromise.then((function(){return t.raw?Promise.resolve(e.rawDeviceData):Promise.resolve(e.deviceData)}))}))}t.exports={create:h(p),VERSION:f}},{"../lib/basic-component-verification":15,"../lib/braintree-error":16,"../lib/convert-methods-to-error":19,"../lib/create-assets-url":20,"../lib/create-deferred-client":21,"../lib/methods":24,"./errors":9,"./fraudnet":10,"./kount":12,"@braintree/wrap-promise":7}],12:[function(e,t,n){"use strict";var r=e("./vendor/sjcl"),i=e("../lib/camel-case-to-snake-case"),o="https://assets.qa.braintreepayments.com/data",s="braintreeDataFrame-",a={development:o,qa:o,sandbox:"https://assets.braintreegateway.com/sandbox/data",production:"https://assets.braintreegateway.com/data"},c={};function u(e){return new l(null!=e?e:{})}function l(e){var t=l.getCachedDeviceData(e.merchantId);if(t)return this.deviceData=t,void(this._isCached=!0);this._currentEnvironment=this._initializeEnvironment(e),r.random.startCollectors(),this._deviceSessionId=this._generateDeviceSessionId(),this.deviceData=this._getDeviceData(),l.setCachedDeviceData(e.merchantId,this.deviceData),this._iframe=this._setupIFrame()}l.getCachedDeviceData=function(e){return c[e]},l.setCachedDeviceData=function(e,t){c[e]=t},l.prototype.teardown=function(){this._isCached||(r.random.stopCollectors(),this._removeIframe())},l.prototype._removeIframe=function(){this._iframe.parentNode.removeChild(this._iframe)},l.prototype._getDeviceData=function(){return i({deviceSessionId:this._deviceSessionId,fraudMerchantId:this._currentEnvironment.id})},l.prototype._generateDeviceSessionId=function(){var e;return e=r.random.randomWords(4,0),r.codec.hex.fromBits(e)},l.prototype._setupIFrame=function(){var e,t,n=this;return e="?m="+this._currentEnvironment.id+"&s="+this._deviceSessionId,(t=document.createElement("iframe")).width=1,t.id=s+this._deviceSessionId,t.height=1,t.frameBorder=0,t.scrolling="no",t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",t.title="Braintree-Kount-iframe",t.setAttribute("aria-hidden","true"),document.body.appendChild(t),setTimeout((function(){t.src=n._currentEnvironment.url+"/logo.htm"+e,t.innerHTML='<img src="'+n._currentEnvironment.url+"/logo.gif"+e+'" alt="" />'}),10),t},l.prototype._initializeEnvironment=function(e){var t=a[e.environment];if(null==t)throw new Error(e.environment+" is not a valid environment for kount.environment");return{url:t,name:e.environment,id:e.merchantId}},t.exports={setup:u,Kount:l,environmentUrls:a}},{"../lib/camel-case-to-snake-case":17,"./vendor/sjcl":13}],13:[function(e,n,r){"use strict";var i={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};function o(e,t,n){if(4!==t.length)throw new i.exception.invalid("invalid aes block size");var r=e.b[n],o=t[0]^r[0],s=t[n?3:1]^r[1],a=t[2]^r[2];t=t[n?1:3]^r[3];var c,u,l,f,h=r.length/4-2,d=4,p=[0,0,0,0];e=(c=e.l[n])[0];var g=c[1],y=c[2],m=c[3],b=c[4];for(f=0;f<h;f++)c=e[o>>>24]^g[s>>16&255]^y[a>>8&255]^m[255&t]^r[d],u=e[s>>>24]^g[a>>16&255]^y[t>>8&255]^m[255&o]^r[d+1],l=e[a>>>24]^g[t>>16&255]^y[o>>8&255]^m[255&s]^r[d+2],t=e[t>>>24]^g[o>>16&255]^y[s>>8&255]^m[255&a]^r[d+3],d+=4,o=c,s=u,a=l;for(f=0;4>f;f++)p[n?3&-f:f]=b[o>>>24]<<24^b[s>>16&255]<<16^b[a>>8&255]<<8^b[255&t]^r[d++],c=o,o=s,s=a,a=t,t=c;return p}function s(e,t){var n,r,i,o=e.u,s=e.b,a=o[0],c=o[1],u=o[2],l=o[3],f=o[4],h=o[5],d=o[6],p=o[7];for(n=0;64>n;n++)16>n?r=t[n]:(r=t[n+1&15],i=t[n+14&15],r=t[15&n]=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(i>>>17^i>>>19^i>>>10^i<<15^i<<13)+t[15&n]+t[n+9&15]|0),r=r+p+(f>>>6^f>>>11^f>>>25^f<<26^f<<21^f<<7)+(d^f&(h^d))+s[n],p=d,d=h,h=f,f=l+r|0,l=u,u=c,a=r+((c=a)&u^l&(c^u))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;o[0]=o[0]+a|0,o[1]=o[1]+c|0,o[2]=o[2]+u|0,o[3]=o[3]+l|0,o[4]=o[4]+f|0,o[5]=o[5]+h|0,o[6]=o[6]+d|0,o[7]=o[7]+p|0}function a(e,t){var n,r=i.random.B[e],o=[];for(n in r)r.hasOwnProperty(n)&&o.push(r[n]);for(n=0;n<o.length;n++)o[n](t)}function c(e,t){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?e.addEntropy(window.performance.now(),t,"loadtime"):e.addEntropy((new Date).valueOf(),t,"loadtime")}function u(e){e.b=l(e).concat(l(e)),e.C=new i.cipher.aes(e.b)}function l(e){for(var t=0;4>t&&(e.g[t]=e.g[t]+1|0,!e.g[t]);t++);return e.C.encrypt(e.g)}function f(e,t){return function(){t.apply(e,arguments)}}i.cipher.aes=function(e){this.l[0][0][0]||this.G();var t,n,r,o,s=this.l[0][4],a=this.l[1],c=1;if(4!==(t=e.length)&&6!==t&&8!==t)throw new i.exception.invalid("invalid aes key size");for(this.b=[r=e.slice(0),o=[]],e=t;e<4*t+28;e++)n=r[e-1],(0==e%t||8===t&&4==e%t)&&(n=s[n>>>24]<<24^s[n>>16&255]<<16^s[n>>8&255]<<8^s[255&n],0==e%t&&(n=n<<8^n>>>24^c<<24,c=c<<1^283*(c>>7))),r[e]=r[e-t]^n;for(t=0;e;t++,e--)n=r[3&t?e:e-4],o[t]=4>=e||4>t?n:a[0][s[n>>>24]]^a[1][s[n>>16&255]]^a[2][s[n>>8&255]]^a[3][s[255&n]]},i.cipher.aes.prototype={encrypt:function(e){return o(this,e,0)},decrypt:function(e){return o(this,e,1)},l:[[[],[],[],[],[]],[[],[],[],[],[]]],G:function(){var e,t,n,r,i,o,s,a=this.l[0],c=this.l[1],u=a[4],l=c[4],f=[],h=[];for(e=0;256>e;e++)h[(f[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!u[t];t^=r||1,n=h[n]||1)for(o=(o=n^n<<1^n<<2^n<<3^n<<4)>>8^255&o^99,u[t]=o,l[o]=t,s=16843009*(i=f[e=f[r=f[t]]])^65537*e^257*r^16843008*t,i=257*f[o]^16843008*o,e=0;4>e;e++)a[e][t]=i=i<<24^i>>>8,c[e][o]=s=s<<24^s>>>8;for(e=0;5>e;e++)a[e]=a[e].slice(0),c[e]=c[e].slice(0)}},i.bitArray={bitSlice:function(e,t,n){return e=i.bitArray.M(e.slice(t/32),32-(31&t)).slice(1),void 0===n?e:i.bitArray.clamp(e,n-t)},extract:function(e,t,n){var r=Math.floor(-t-n&31);return(-32&(t+n-1^t)?e[t/32|0]<<32-r^e[t/32+1|0]>>>r:e[t/32|0]>>>r)&(1<<n)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var n=e[e.length-1],r=i.bitArray.getPartial(n);return 32===r?e.concat(t):i.bitArray.M(t,r,0|n,e.slice(0,e.length-1))},bitLength:function(e){var t=e.length;return 0===t?0:32*(t-1)+i.bitArray.getPartial(e[t-1])},clamp:function(e,t){if(32*e.length<t)return e;var n=(e=e.slice(0,Math.ceil(t/32))).length;return t&=31,0<n&&t&&(e[n-1]=i.bitArray.partial(t,e[n-1]&2147483648>>t-1,1)),e},partial:function(e,t,n){return 32===e?t:(n?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(i.bitArray.bitLength(e)!==i.bitArray.bitLength(t))return!1;var n,r=0;for(n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},M:function(e,t,n,r){var o;for(o=0,void 0===r&&(r=[]);32<=t;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(o=0;o<e.length;o++)r.push(n|e[o]>>>t),n=e[o]<<32-t;return o=e.length?e[e.length-1]:0,e=i.bitArray.getPartial(o),r.push(i.bitArray.partial(t+e&31,32<t+e?n:r.pop(),1)),r},Y:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]},byteswapM:function(e){var t,n;for(t=0;t<e.length;++t)n=e[t],e[t]=n>>>24|n>>>8&65280|(65280&n)<<8|n<<24;return e}},i.codec.utf8String={fromBits:function(e){var t,n,r="",o=i.bitArray.bitLength(e);for(t=0;t<o/8;t++)0==(3&t)&&(n=e[t/4]),r+=String.fromCharCode(n>>>8>>>8>>>8),n<<=8;return decodeURIComponent(escape(r))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,n=[],r=0;for(t=0;t<e.length;t++)r=r<<8|e.charCodeAt(t),3==(3&t)&&(n.push(r),r=0);return 3&t&&n.push(i.bitArray.partial(8*(3&t),r)),n}},i.codec.hex={fromBits:function(e){var t,n="";for(t=0;t<e.length;t++)n+=(0xf00000000000+(0|e[t])).toString(16).substr(4);return n.substr(0,i.bitArray.bitLength(e)/4)},toBits:function(e){var t,n,r=[];for(n=(e=e.replace(/\s|0x/g,"")).length,e+="00000000",t=0;t<e.length;t+=8)r.push(0^parseInt(e.substr(t,8),16));return i.bitArray.clamp(r,4*n)}},i.hash.sha256=function(e){this.b[0]||this.G(),e?(this.u=e.u.slice(0),this.o=e.o.slice(0),this.h=e.h):this.reset()},i.hash.sha256.hash=function(e){return(new i.hash.sha256).update(e).finalize()},i.hash.sha256.prototype={blockSize:512,reset:function(){return this.u=this.K.slice(0),this.o=[],this.h=0,this},update:function(e){"string"==typeof e&&(e=i.codec.utf8String.toBits(e));var t,n=this.o=i.bitArray.concat(this.o,e);if(t=this.h,9007199254740991<(e=this.h=t+i.bitArray.bitLength(e)))throw new i.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var r=new Uint32Array(n),o=0;for(t=512+t-(512+t&511);t<=e;t+=512)s(this,r.subarray(16*o,16*(o+1))),o+=1;n.splice(0,16*o)}else for(t=512+t-(512+t&511);t<=e;t+=512)s(this,n.splice(0,16));return this},finalize:function(){var e,t=this.o,n=this.u;for(e=(t=i.bitArray.concat(t,[i.bitArray.partial(1,1)])).length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this.h/4294967296)),t.push(0|this.h);t.length;)s(this,t.splice(0,16));return this.reset(),n},K:[],b:[],G:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}for(var t,n,r=0,i=2;64>r;i++){for(n=!0,t=2;t*t<=i;t++)if(0==i%t){n=!1;break}n&&(8>r&&(this.K[r]=e(Math.pow(i,.5))),this.b[r]=e(Math.pow(i,1/3)),r++)}}},i.prng=function(e){this.c=[new i.hash.sha256],this.i=[0],this.H=0,this.v={},this.F=0,this.J={},this.L=this.f=this.j=this.T=0,this.b=[0,0,0,0,0,0,0,0],this.g=[0,0,0,0],this.C=void 0,this.D=e,this.s=!1,this.B={progress:{},seeded:{}},this.m=this.S=0,this.w=1,this.A=2,this.O=65536,this.I=[0,48,64,96,128,192,256,384,512,768,1024],this.P=3e4,this.N=80},i.prng.prototype={randomWords:function(e,t){var n,r,o=[];if((n=this.isReady(t))===this.m)throw new i.exception.notReady("generator isn't seeded");if(n&this.A){n=!(n&this.w),r=[];var s,a=0;for(this.L=r[0]=(new Date).valueOf()+this.P,s=0;16>s;s++)r.push(4294967296*Math.random()|0);for(s=0;s<this.c.length&&(r=r.concat(this.c[s].finalize()),a+=this.i[s],this.i[s]=0,n||!(this.H&1<<s));s++);for(this.H>=1<<this.c.length&&(this.c.push(new i.hash.sha256),this.i.push(0)),this.f-=a,a>this.j&&(this.j=a),this.H++,this.b=i.hash.sha256.hash(this.b.concat(r)),this.C=new i.cipher.aes(this.b),n=0;4>n&&(this.g[n]=this.g[n]+1|0,!this.g[n]);n++);}for(n=0;n<e;n+=4)0==(n+1)%this.O&&u(this),r=l(this),o.push(r[0],r[1],r[2],r[3]);return u(this),o.slice(0,e)},setDefaultParanoia:function(e,t){if(0===e&&"Setting paranoia=0 will ruin your security; use it only for testing"!==t)throw new i.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.D=e},addEntropy:function(e,t,n){n=n||"user";var r,o,s=(new Date).valueOf(),c=this.v[n],u=this.isReady(),l=0;switch(void 0===(r=this.J[n])&&(r=this.J[n]=this.T++),void 0===c&&(c=this.v[n]=0),this.v[n]=(this.v[n]+1)%this.c.length,typeof e){case"number":void 0===t&&(t=1),this.c[c].update([r,this.F++,1,t,s,1,0|e]);break;case"object":if("[object Uint32Array]"===(n=Object.prototype.toString.call(e))){for(o=[],n=0;n<e.length;n++)o.push(e[n]);e=o}else for("[object Array]"!==n&&(l=1),n=0;n<e.length&&!l;n++)"number"!=typeof e[n]&&(l=1);if(!l){if(void 0===t)for(n=t=0;n<e.length;n++)for(o=e[n];0<o;)t++,o>>>=1;this.c[c].update([r,this.F++,2,t,s,e.length].concat(e))}break;case"string":void 0===t&&(t=e.length),this.c[c].update([r,this.F++,3,t,s,e.length]),this.c[c].update(e);break;default:l=1}if(l)throw new i.exception.bug("random: addEntropy only supports number, array of numbers or string");this.i[c]+=t,this.f+=t,u===this.m&&(this.isReady()!==this.m&&a("seeded",Math.max(this.j,this.f)),a("progress",this.getProgress()))},isReady:function(e){return e=this.I[void 0!==e?e:this.D],this.j&&this.j>=e?this.i[0]>this.N&&(new Date).valueOf()>this.L?this.A|this.w:this.w:this.f>=e?this.A|this.m:this.m},getProgress:function(e){return e=this.I[e||this.D],this.j>=e||this.f>e?1:this.f/e},startCollectors:function(){if(!this.s){if(this.a={loadTimeCollector:f(this,this.V),mouseCollector:f(this,this.W),keyboardCollector:f(this,this.U),accelerometerCollector:f(this,this.R),touchCollector:f(this,this.X)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent)throw new i.exception.bug("can't attach event");document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)}this.s=!0}},stopCollectors:function(){this.s&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.s=!1)},addEventListener:function(e,t){this.B[e][this.S++]=t},removeEventListener:function(e,t){var n,r,i=this.B[e],o=[];for(r in i)i.hasOwnProperty(r)&&i[r]===t&&o.push(r);for(n=0;n<o.length;n++)delete i[r=o[n]]},U:function(){c(this,1)},W:function(e){var t,n;try{t=e.x||e.clientX||e.offsetX||0,n=e.y||e.clientY||e.offsetY||0}catch(r){n=t=0}0!=t&&0!=n&&this.addEntropy([t,n],2,"mouse"),c(this,0)},X:function(e){e=e.touches[0]||e.changedTouches[0],this.addEntropy([e.pageX||e.clientX,e.pageY||e.clientY],1,"touch"),c(this,0)},V:function(){c(this,2)},R:function(e){if(e=e.accelerationIncludingGravity.x||e.accelerationIncludingGravity.y||e.accelerationIncludingGravity.z,window.orientation){var t=window.orientation;"number"==typeof t&&this.addEntropy(t,1,"accelerometer")}e&&this.addEntropy(e,2,"accelerometer"),c(this,0)}},i.random=new i.prng(6);e:try{var h,d,p,g;if(g=void 0!==n&&n.exports){var y;try{y=e("crypto")}catch(m){y=null}g=d=y}if(g&&d.randomBytes)h=d.randomBytes(128),h=new Uint32Array(new Uint8Array(h).buffer),i.random.addEntropy(h,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(p=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(p);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break e;window.msCrypto.getRandomValues(p)}i.random.addEntropy(p,1024,"crypto['getRandomValues']")}}catch(m){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(m))}void 0!==n&&n.exports&&(n.exports=i),"function"==typeof t&&t([],(function(){return i}))},{crypto:void 0}],14:[function(e,t,n){"use strict";var r=e("@braintree/asset-loader/load-script");t.exports={loadScript:r}},{"@braintree/asset-loader/load-script":3}],15:[function(e,t,n){"use strict";var r=e("./braintree-error"),i=e("./errors"),o="3.99.2";function s(e){var t,n,s;return e?(s=e.name,t=e.client,n=e.authorization,t||n?n||t.getVersion()===o?Promise.resolve():Promise.reject(new r({type:i.INCOMPATIBLE_VERSIONS.type,code:i.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+t.getVersion()+") and "+s+" (version "+o+") components must be from the same SDK version."})):Promise.reject(new r({type:i.INSTANTIATION_OPTION_REQUIRED.type,code:i.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+s+"."}))):Promise.reject(new r({type:i.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:i.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}t.exports={verify:s}},{"./braintree-error":16,"./errors":23}],16:[function(e,t,n){"use strict";var r=e("./enumerate");function i(e){if(!i.types.hasOwnProperty(e.type))throw new Error(e.type+" is not a valid type.");if(!e.code)throw new Error("Error code required.");if(!e.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=e.code,this.message=e.message,this.type=e.type,this.details=e.details}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.types=r(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),i.findRootError=function(e){return e instanceof i&&e.details&&e.details.originalError?i.findRootError(e.details.originalError):e},t.exports=i},{"./enumerate":22}],17:[function(e,t,n){"use strict";function r(e){return e.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()}t.exports=function(e){return Object.keys(e).reduce((function(t,n){return t[r(n)]=e[n],t}),{})}},{}],18:[function(e,t,n){"use strict";var r="3.99.2",i="web",o={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},s={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},a={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};t.exports={ANALYTICS_PREFIX:i+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:s,CLIENT_API_URLS:o,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:a,INTEGRATION_TIMEOUT_MS:6e4,VERSION:r,INTEGRATION:"custom",SOURCE:"client",PLATFORM:i,BRAINTREE_LIBRARY_VERSION:"braintree/"+i+"/"+r}},{}],19:[function(e,t,n){"use strict";var r=e("./braintree-error"),i=e("./errors");t.exports=function(e,t){t.forEach((function(t){e[t]=function(){throw new r({type:i.METHOD_CALLED_AFTER_TEARDOWN.type,code:i.METHOD_CALLED_AFTER_TEARDOWN.code,message:t+" cannot be called after teardown."})}}))}},{"./braintree-error":16,"./errors":23}],20:[function(e,t,n){"use strict";var r=e("./constants").ASSETS_URLS;function i(e){return r.production}t.exports={create:i}},{"./constants":18}],21:[function(e,t,n){"use strict";var r=e("./braintree-error"),i=e("./assets"),o=e("./errors"),s="3.99.2";function a(e){var t=Promise.resolve();return e.client?Promise.resolve(e.client):(window.braintree&&window.braintree.client||(t=i.loadScript({src:e.assetsUrl+"/web/"+s+"/js/client.min.js"}).catch((function(e){return Promise.reject(new r({type:o.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:o.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:o.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:e}}))}))),t.then((function(){return window.braintree.client.VERSION!==s?Promise.reject(new r({type:o.INCOMPATIBLE_VERSIONS.type,code:o.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+e.name+" (version "+s+") components must be from the same SDK version."})):window.braintree.client.create({authorization:e.authorization,debug:e.debug})})))}t.exports={create:a}},{"./assets":14,"./braintree-error":16,"./errors":23}],22:[function(e,t,n){"use strict";function r(e,t){return t=null==t?"":t,e.reduce((function(e,n){return e[n]=t+n,e}),{})}t.exports=r},{}],23:[function(e,t,n){"use strict";var r=e("./braintree-error");t.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:r.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:r.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:r.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:r.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":16}],24:[function(e,t,n){"use strict";t.exports=function(e){return Object.keys(e).filter((function(t){return"function"==typeof e[t]}))}},{}]},{},[11])(11)},443889:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(14890),i=n(723392),o=n(890792),s=n(915181),a=n(386869);class c{constructor(e,t={},n=!1){this.context=t,this.isSetUp=!1,this.handleRefCountChange=()=>{const e=this.store.getState().refCount>0;e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1)};const o=function(e){const t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return(0,r.MT)(i.Z,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(n);this.store=o,this.monitor=new s.Z(o,new a.Z(o)),this.backend=e(this),o.subscribe(this.handleRefCountChange)}getContext(){return this.context}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;const n=(0,o.ZP)(this);return Object.keys(n).reduce(((r,i)=>{const o=n[i];var s;return r[i]=(s=o,(...n)=>{const r=s.apply(e,n);void 0!==r&&t(r)}),r}),{})}dispatch(e){this.store.dispatch(e)}}},915181:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(903119),i=n(940825),o=n(396586);const s=n(441143);class a{constructor(e,t){this.store=e,this.registry=t}subscribeToStateChange(e,t={handlerIds:void 0}){const{handlerIds:n}=t;s("function"==typeof e,"listener must be a function."),s(void 0===n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let r=this.store.getState().stateId;return this.store.subscribe((()=>{const t=this.store.getState(),i=t.stateId;try{i===r||i===r+1&&!(0,o.co)(t.dirtyHandlerIds,n)||e()}finally{r=i}}))}subscribeToOffsetChange(e){s("function"==typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe((()=>{const n=this.store.getState().dragOffset;n!==t&&(t=n,e())}))}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return s(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(s(t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();return(0,r.Z)(n,i)&&t.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(s(t,"Expected to find a valid source."),!this.isDragging()||!this.isSourcePublic())return!1;return this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:n}=t;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),o=this.getItemType();if(o&&!(0,r.Z)(i,o))return!1;const s=this.getTargetIds();if(!s.length)return!1;const a=s.indexOf(e);return n?a===s.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return(0,i.YY)(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return(0,i.ar)(this.store.getState().dragOffset)}}},386869:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(874434),i=n(502456),o=n(300211),s=n(488029);const a=n(441143),c=n(169272);function u(e){switch(e[0]){case"S":return o.t.SOURCE;case"T":return o.t.TARGET;default:a(!1,`Cannot parse handler ID: ${e}`)}}function l(e,t){const n=e.entries();let r=!1;do{const{done:e,value:[,i]}=n.next();if(i===t)return!0;r=e}while(!r);return!1}class f{constructor(e){this.store=e,this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null}addSource(e,t){(0,s.sM)(e),(0,s.up)(t);const n=this.addHandler(o.t.SOURCE,e,t);return this.store.dispatch((0,r.j1)(n)),n}addTarget(e,t){(0,s.sM)(e,!0),(0,s.JP)(t);const n=this.addHandler(o.t.TARGET,e,t);return this.store.dispatch((0,r.jn)(n)),n}containsHandler(e){return l(this.dragSources,e)||l(this.dropTargets,e)}getSource(e,t=!1){a(this.isSourceId(e),"Expected a valid source ID.");return t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return a(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return a(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return a(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return u(e)===o.t.SOURCE}isTargetId(e){return u(e)===o.t.TARGET}removeSource(e){a(this.getSource(e),"Expected an existing source."),this.store.dispatch((0,r.wZ)(e)),c((()=>{this.dragSources.delete(e),this.types.delete(e)}))}removeTarget(e){a(this.getTarget(e),"Expected an existing target."),this.store.dispatch((0,r.BT)(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);a(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){a(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,n){const r=function(e){const t=(0,i.Z)().toString();switch(e){case o.t.SOURCE:return`S${t}`;case o.t.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}(e);return this.types.set(r,t),e===o.t.SOURCE?this.dragSources.set(r,n):e===o.t.TARGET&&this.dropTargets.set(r,n),r}}},297391:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(462857),i=n(808699),o=n(542105);const s=n(441143),a={type:o.TL,payload:{clientOffset:null,sourceClientOffset:null}};function c(e){return function(t=[],n={publishSource:!0}){const{publishSource:c=!0,clientOffset:u,getSourceClientOffset:l}=n,f=e.getMonitor(),h=e.getRegistry();e.dispatch((0,r.T)(u)),function(e,t,n){s(!t.isDragging(),"Cannot call beginDrag while dragging.");for(const r of e)s(n.getSource(r),"Expected sourceIds to be registered.")}(t,f,h);const d=function(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,f);if(null===d)return void e.dispatch(a);let p=null;u&&(!function(e){s("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(l),p=l(d)),e.dispatch((0,r.T)(u,p));const g=h.getSource(d).beginDrag(f,d);!function(e){s((0,i.Kn)(e),"Item must be an object.")}(g),h.pinSource(d);const y=h.getSourceType(d);return{type:o.qu,payload:{itemType:y,item:g,sourceId:d,clientOffset:u||null,sourceClientOffset:p||null,isSourcePublic:!!c}}}}},681727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(542105),i=n(808699);const o=n(441143);function s(e){return function(t={}){const n=e.getMonitor(),s=e.getRegistry();!function(e){o(e.isDragging(),"Cannot call drop while not dragging."),o(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n);const a=function(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n);a.forEach(((a,c)=>{const u=function(e,t,n,r){const s=n.getTarget(e);let a=s?s.drop(r,e):void 0;(function(e){o(void 0===e||(0,i.Kn)(e),"Drop result must either be an object or undefined.")})(a),void 0===a&&(a=0===t?{}:r.getDropResult());return a}(a,c,s,n),l={type:r.rp,payload:{dropResult:Object.assign({},t,u)}};e.dispatch(l)}))}}},190881:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(542105);const i=n(441143);function o(e){return function(){const t=e.getMonitor(),n=e.getRegistry();!function(e){i(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);const o=t.getSourceId();return n.getSource(o,!0).endDrag(t,o),n.unpinSource(),{type:r.Bs}}}},734647:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(903119),i=n(542105);const o=n(441143);function s(e){return function(t,{clientOffset:n}={}){!function(e){o(Array.isArray(e),"Expected targetIds to be an array.")}(t);const s=t.slice(0),a=e.getMonitor(),c=e.getRegistry();!function(e,t,n){o(t.isDragging(),"Cannot call hover while not dragging."),o(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const t=e[r];o(e.lastIndexOf(t)===r,"Expected targetIds to be unique in the passed array.");const i=n.getTarget(t);o(i,"Expected targetIds to be registered.")}}(s,a,c);return function(e,t,n){for(let i=e.length-1;i>=0;i--){const o=e[i],s=t.getTargetType(o);(0,r.Z)(s,n)||e.splice(i,1)}}(s,c,a.getItemType()),function(e,t,n){for(const r of e){n.getTarget(r).hover(t,r)}}(s,a,c),{type:i.$T,payload:{targetIds:s,clientOffset:n||null}}}}},890792:(e,t,n)=>{"use strict";n.d(t,{$T:()=>c.$T,Bs:()=>c.Bs,TL:()=>c.TL,ZP:()=>u,js:()=>c.js,qu:()=>c.qu,rp:()=>c.rp});var r=n(297391),i=n(579111),o=n(734647),s=n(681727),a=n(190881),c=n(542105);function u(e){return{beginDrag:(0,r.Z)(e),publishDragSource:(0,i.Z)(e),hover:(0,o.Z)(e),drop:(0,s.Z)(e),endDrag:(0,a.Z)(e)}}},462857:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(542105);function i(e,t){return{type:r.TL,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}},579111:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(542105);function i(e){return function(){if(e.getMonitor().isDragging())return{type:r.js}}}},542105:(e,t,n)=>{"use strict";n.d(t,{$T:()=>s,Bs:()=>c,TL:()=>r,js:()=>o,qu:()=>i,rp:()=>a});const r="dnd-core/INIT_COORDS",i="dnd-core/BEGIN_DRAG",o="dnd-core/PUBLISH_DRAG_SOURCE",s="dnd-core/HOVER",a="dnd-core/DROP",c="dnd-core/END_DRAG"},874434:(e,t,n)=>{"use strict";n.d(t,{BT:()=>l,IS:()=>s,Rd:()=>i,SG:()=>o,fu:()=>r,j1:()=>a,jn:()=>c,wZ:()=>u});const r="dnd-core/ADD_SOURCE",i="dnd-core/ADD_TARGET",o="dnd-core/REMOVE_SOURCE",s="dnd-core/REMOVE_TARGET";function a(e){return{type:r,payload:{sourceId:e}}}function c(e){return{type:i,payload:{targetId:e}}}function u(e){return{type:o,payload:{sourceId:e}}}function l(e){return{type:s,payload:{targetId:e}}}},488029:(e,t,n)=>{"use strict";n.d(t,{JP:()=>o,sM:()=>s,up:()=>i});const r=n(441143);function i(e){r("function"==typeof e.canDrag,"Expected canDrag to be a function."),r("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),r("function"==typeof e.endDrag,"Expected endDrag to be a function.")}function o(e){r("function"==typeof e.canDrop,"Expected canDrop to be a function."),r("function"==typeof e.hover,"Expected hover to be a function."),r("function"==typeof e.drop,"Expected beginDrag to be a function.")}function s(e,t){t&&Array.isArray(e)?e.forEach((e=>s(e,!1))):r("string"==typeof e||"symbol"==typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}},436004:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var r=n(443889);function i(e,t,n){return new r.Z(e,t,n)}},789384:(e,t,n)=>{"use strict";n.d(t,{i:()=>r.i});n(300211);var r=n(436004)},300211:(e,t,n)=>{"use strict";var r;n.d(t,{t:()=>r}),function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(r||(r={}))},351309:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(890792),i=n(874434),o=n(806128),s=n(396586),a=n(808699);function c(e=s.Hn,t){switch(t.type){case r.$T:break;case i.fu:case i.Rd:case i.IS:case i.SG:return s.Hn;case r.qu:case r.js:case r.Bs:case r.rp:default:return s.QN}const{targetIds:n=[],prevTargetIds:c=[]}=t.payload,u=(0,a.dl)(n,c);if(!(u.length>0||!(0,o.Hj)(n,c)))return s.Hn;const l=c[c.length-1],f=n[n.length-1];return l!==f&&(l&&u.push(l),f&&u.push(f)),u}},99695:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(890792),i=n(806128);const o={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function s(e=o,t){const{payload:n}=t;switch(t.type){case r.TL:case r.qu:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case r.$T:return(0,i.YJ)(e.clientOffset,n.clientOffset)?e:Object.assign({},e,{clientOffset:n.clientOffset});case r.Bs:case r.rp:return o;default:return e}}},520898:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(890792),i=n(874434),o=n(808699);const s={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function a(e=s,t){const{payload:n}=t;switch(t.type){case r.qu:return Object.assign({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case r.js:return Object.assign({},e,{isSourcePublic:!0});case r.$T:return Object.assign({},e,{targetIds:n.targetIds});case i.IS:return-1===e.targetIds.indexOf(n.targetId)?e:Object.assign({},e,{targetIds:(0,o.zu)(e.targetIds,n.targetId)});case r.rp:return Object.assign({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case r.Bs:return Object.assign({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}},723392:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(99695),i=n(520898),o=n(113165),s=n(351309),a=n(67910),c=n(808699);function u(e={},t){return{dirtyHandlerIds:(0,s.Z)(e.dirtyHandlerIds,{type:t.type,payload:Object.assign({},t.payload,{prevTargetIds:(0,c.U2)(e,"dragOperation.targetIds",[])})}),dragOffset:(0,r.Z)(e.dragOffset,t),refCount:(0,o.Z)(e.refCount,t),dragOperation:(0,i.Z)(e.dragOperation,t),stateId:(0,a.Z)(e.stateId)}}},113165:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(874434);function i(e=0,t){switch(t.type){case r.fu:case r.Rd:return e+1;case r.SG:case r.IS:return e-1;default:return e}}},67910:(e,t,n)=>{"use strict";function r(e=0){return e+1}n.d(t,{Z:()=>r})},940825:(e,t,n)=>{"use strict";function r(e,t){return{x:e.x-t.x,y:e.y-t.y}}function i(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:i}=e;return t&&n&&i?r((s=i,{x:(o=t).x+s.x,y:o.y+s.y}),n):null;var o,s}function o(e){const{clientOffset:t,initialClientOffset:n}=e;return t&&n?r(t,n):null}n.d(t,{YY:()=>i,ar:()=>o})},396586:(e,t,n)=>{"use strict";n.d(t,{Hn:()=>i,QN:()=>o,co:()=>s});var r=n(808699);const i=[],o=[];function s(e,t){if(e===i)return!1;if(e===o||void 0===t)return!0;return(0,r.jV)(t,e).length>0}i.__IS_NONE__=!0,o.__IS_ALL__=!0},808699:(e,t,n)=>{"use strict";function r(e,t,n){return t.split(".").reduce(((e,t)=>e&&e[t]?e[t]:n||null),e)}function i(e,t){return e.filter((e=>e!==t))}function o(e){return"object"==typeof e}function s(e,t){const n=new Map,r=e=>n.set(e,n.has(e)?n.get(e)+1:1);e.forEach(r),t.forEach(r);const i=[];return n.forEach(((e,t)=>{1===e&&i.push(t)})),i}function a(e,t){return e.filter((e=>t.indexOf(e)>-1))}n.d(t,{Kn:()=>o,U2:()=>r,dl:()=>s,jV:()=>a,zu:()=>i})},806128:(e,t,n)=>{"use strict";n.d(t,{Hj:()=>o,YJ:()=>i});const r=(e,t)=>e===t;function i(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function o(e,t,n=r){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}},502456:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});let r=0;function i(){return r++}},903119:(e,t,n)=>{"use strict";function r(e,t){return null===t?null===e:Array.isArray(e)?e.some((e=>e===t)):e===t}n.d(t,{Z:()=>r})},108679:(e,t,n)=>{"use strict";var r=n(659864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var u=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var s=l(n);f&&(s=s.concat(f(n)));for(var a=c(t),g=c(n),y=0;y<s.length;++y){var m=s[y];if(!(o[m]||r&&r[m]||g&&g[m]||a&&a[m])){var b=h(n,m);try{u(t,m,b)}catch(v){}}}}return t}},966337:()=>{!function(e,t){"use strict";if("IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in e.IntersectionObserverEntry.prototype)"isIntersecting"in e.IntersectionObserverEntry.prototype||Object.defineProperty(e.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},i.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},i.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},i.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(e,"resize",this._checkForIntersections,!0),o(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in e&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,s(e,"resize",this._checkForIntersections,!0),s(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),n=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var o=i.element,s=a(o),c=this._rootContainsTarget(o),u=i.entry,l=t&&c&&this._computeTargetAndRootIntersection(o,n),f=i.entry=new r({time:e.performance&&performance.now&&performance.now(),target:o,boundingClientRect:s,rootBounds:n,intersectionRect:l});u?t&&c?this._hasCrossedThreshold(u,f)&&this._queuedEntries.push(f):u&&u.isIntersecting&&this._queuedEntries.push(f):this._queuedEntries.push(f)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(n,r){if("none"!=e.getComputedStyle(n).display){for(var i,o,s,c,l,f,h,d,p=a(n),g=u(n),y=!1;!y;){var m=null,b=1==g.nodeType?e.getComputedStyle(g):{};if("none"==b.display)return;if(g==this.root||g==t?(y=!0,m=r):g!=t.body&&g!=t.documentElement&&"visible"!=b.overflow&&(m=a(g)),m&&(i=m,o=p,s=void 0,c=void 0,l=void 0,f=void 0,h=void 0,d=void 0,s=Math.max(i.top,o.top),c=Math.min(i.bottom,o.bottom),l=Math.max(i.left,o.left),f=Math.min(i.right,o.right),d=c-s,!(p=(h=f-l)>=0&&d>=0&&{top:s,bottom:c,left:l,right:f,width:h,height:d})))break;g=u(g)}return p}},i.prototype._getRootRect=function(){var e;if(this.root)e=a(this.root);else{var n=t.documentElement,r=t.body;e={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},i.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},i.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},i.prototype._rootIsInDom=function(){return!this.root||c(t,this.root)},i.prototype._rootContainsTarget=function(e){return c(this.root||t,e)},i.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},i.prototype._unregisterInstance=function(){var e=n.indexOf(this);-1!=e&&n.splice(e,1)},e.IntersectionObserver=i,e.IntersectionObserverEntry=r}function r(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function i(e,t){var n,r,i,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){n(),i=null}),r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" ")}function o(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function s(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function a(e){var t;try{t=e.getBoundingClientRect()}catch(n){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(e,t){for(var n=t;n;){if(n==e)return!0;n=u(n)}return!1}function u(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t}}(window,document)},441143:e=>{"use strict";e.exports=function(e,t,n,r,i,o,s,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,s,a],l=0;(c=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},167824:e=>{"use strict";e.exports=e=>!(!e||e.length<3)&&(255===e[0]&&216===e[1]&&255===e[2])},66209:e=>{"use strict";e.exports=function(e){return!(!e||e.length<8)&&(137===e[0]&&80===e[1]&&78===e[2]&&71===e[3]&&13===e[4]&&10===e[5]&&26===e[6]&&10===e[7])}},127661:(e,t,n)=>{"use strict";n.d(t,{$g:()=>T,GC:()=>O,K5:()=>m,Mz:()=>p,Om:()=>V,RW:()=>u,S:()=>d,YN:()=>C,dG:()=>i,hA:()=>c,jy:()=>M,kq:()=>P,p4:()=>h,rm:()=>l,sN:()=>v,zO:()=>I});var r=n(168949),i=function(){};function o(e,t){void 0===t&&(t="Illegal state"),e||function(e){throw new Error("[mobx-utils] "+e)}(t)}var s=function(e){return e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).concat(s(Object.getPrototypeOf(e))||[])},a=function(e){return function(e){var t=s(e);return t.filter((function(e,n){return t.indexOf(e)===n}))}(e).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))},c="pending",u="fulfilled",l="rejected";function f(e){switch(this.state){case c:return e.pending&&e.pending(this.value);case l:return e.rejected&&e.rejected(this.value);case u:return e.fulfilled?e.fulfilled(this.value):this.value}}function h(e,t){if(o(arguments.length<=2,"fromPromise expects up to two arguments"),o("function"==typeof e||"object"==typeof e&&e&&"function"==typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"==typeof e&&(e=new Promise(e));var n=e;e.then((0,r.action)("observableFromPromise-resolve",(function(e){n.value=e,n.state=u})),(0,r.action)("observableFromPromise-reject",(function(e){n.value=e,n.state=l}))),n.isPromiseBasedObservable=!0,n.case=f;var i=t&&t.state===u?t.value:void 0;return(0,r.extendObservable)(n,{value:i,state:c},{},{deep:!1}),n}function d(e){return e&&!0===e.isPromiseBasedObservable}!function(e){e.reject=(0,r.action)("fromPromise.reject",(function(t){var n=e(Promise.reject(t));return n.state=l,n.value=t,n})),e.resolve=(0,r.action)("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var n=e(Promise.resolve(t));return n.state=u,n.value=t,n}))}(h||(h={}));function p(e,t){void 0===t&&(t=void 0);var n=!1,i=r.observable.box(t,{deep:!1}),o=r.observable.box(!1),s=function(){return n||(n=!0,(0,r._allowStateChanges)(!0,(function(){o.set(!0)})),e((function(e){(0,r._allowStateChanges)(!0,(function(){i.set(e),o.set(!1)}))}))),i.get()},a=(0,r.action)("lazyObservable-reset",(function(){return n=!1,i.set(t),i.get()}));return{current:s,refresh:function(){return n?(n=!1,s()):i.get()},reset:function(){return a()},get pending(){return o.get()}}}function g(e,t,n){void 0===t&&(t=i),void 0===n&&(n=void 0);var s=!1,a=!1,c=n,u=function(){s&&(s=!1,t())},l=(0,r.createAtom)("ResourceBasedObservable",(function(){o(!s&&!a),s=!0,e((function(e){(0,r._allowStateChanges)(!0,(function(){c=e,l.reportChanged()}))}))}),u);return{current:function(){return o(!a,"subscribingObservable has already been disposed"),l.reportObserved()||s||console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),c},dispose:function(){a=!0,u()},isAlive:function(){return s}}}var y=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};function m(e,t){var n;void 0===t&&(t=!1);var i=(0,r.computed)(e);return(n={subscribe:function(e){return"function"==typeof e?{unsubscribe:(0,r.observe)(i,(function(t){var n=t.newValue;return e(n)}),t)}:e&&"object"==typeof e&&e.next?{unsubscribe:(0,r.observe)(i,(function(t){var n=t.newValue;return e.next(n)}),t)}:{unsubscribe:function(){}}}})["function"==typeof Symbol&&Symbol.observable||"@@observable"]=function(){return this},n}var b=function(){function e(e,t){var n=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),(0,r.makeObservable)(this),(0,r.runInAction)((function(){n.current=t,n.subscription=e.subscribe(n)}))}return Object.defineProperty(e.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(e.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e}}),Object.defineProperty(e.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(e.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e,this.dispose()}}),y([r.observable.ref],e.prototype,"current",void 0),y([r.action.bound],e.prototype,"next",null),y([r.action.bound],e.prototype,"complete",null),y([r.action.bound],e.prototype,"error",null),e}();function v(e,t){return void 0===t&&(t=void 0),new b(e,t)}var E=function(){return E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},E.apply(this,arguments)},_=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},w=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"],S=function(){function e(e){var t=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:r.observable.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:r.observable.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return t.localValues.has(e)}}),(0,r.makeObservable)(this),o((0,r.isObservableObject)(e),"createViewModel expects an observable object");var n=a(this);a(e).forEach((function(i){var s;if(!n.includes(i)&&i!==r.$mobx&&"__mobxDidRunLazyInitializers"!==i){if(o(-1===w.indexOf(i),"The propertyname "+i+" is reserved and cannot be used with viewModels"),(0,r.isComputedProp)(e,i)){var a=(0,r._getAdministration)(e,i),c=a.derivation.bind(t),u=null===(s=a.setter_)||void 0===s?void 0:s.bind(t);t.localComputedValues.set(i,(0,r.computed)(c,{set:u}))}var l=Object.getOwnPropertyDescriptor(e,i),f=l?{enumerable:l.enumerable}:{};Object.defineProperty(t,i,E(E({},f),{configurable:!0,get:function(){return(0,r.isComputedProp)(e,i)?t.localComputedValues.get(i).get():t.isPropertyDirty(i)?t.localValues.get(i):t.model[i]},set:(0,r.action)((function(n){(0,r.isComputedProp)(e,i)?t.localComputedValues.get(i).set(n):n!==t.model[i]?t.localValues.set(i,n):t.localValues.delete(i)}))}))}}))}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;(0,r.keys)(this.localValues).forEach((function(t){var n=e.localValues.get(t),i=e.model[t];(0,r.isObservableArray)(i)?i.replace(n):(0,r.isObservableMap)(i)?(i.clear(),i.merge(n)):(0,r.isComputed)(n)||(e.model[t]=n)})),this.localValues.clear()}}),Object.defineProperty(e.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(e.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.localValues.delete(e)}}),_([r.computed],e.prototype,"isDirty",null),_([r.computed],e.prototype,"changedValues",null),_([r.action.bound],e.prototype,"submit",null),_([r.action.bound],e.prototype,"reset",null),_([r.action.bound],e.prototype,"resetProperty",null),e}();function O(e){return new S(e)}function T(e,t){var n=(0,r.getAtom)(e,t);if(!n)throw new Error("No computed provided, please provide an object created with `computed(() => expr)` or an object + property name");return(0,r.observe)(n,(function(){}))}var A={};function I(e){return void 0===e&&(e=1e3),(0,r._isComputingDerivation)()?(A[e]||(A[e]="number"==typeof e?function(e){var t;return g((function(n){n(Date.now()),t=setInterval((function(){return n(Date.now())}),e)}),(function(){clearInterval(t)}),Date.now())}(e):t=g((function(e){function n(){window.requestAnimationFrame((function(){e(Date.now()),t.isAlive()&&n()}))}e(Date.now()),n()}),(function(){}),Date.now())),A[e].current()):Date.now();var t}function C(e){return(0,r._isComputingDerivation)()||console.warn("'expr' should only be used inside other reactive functions."),(0,r.computed)(e).get()}var N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},N.apply(this,arguments)},R=0;function P(e,t){o("function"==typeof e&&e.length<2,"createTransformer expects a function that accepts one argument");var n={},i=void 0,s=!1,a=void 0;"object"==typeof t?(i=t.onCleanup,s=void 0!==t.keepAlive&&t.keepAlive,a=t.debugNameGenerator):"function"==typeof t&&(i=t);var c=!1;return function(o){var u=function(e){var t=typeof e;if("string"===t)return"string:"+e;if("number"===t)return"number:"+e;if(null===e||"object"!==t&&"function"!==t)throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(e));var n=e.$transformId;void 0===n&&function(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}(e,"$transformId",n="memoizationId:"+ ++R);return n}(o),l=n[u];if(l)return l.get();if(!s&&!(0,r._isComputingDerivation)()){c||(console.warn("invoking a transformer from outside a reactive context won't memorized and is cleaned up immediately, unless keepAlive is set"),c=!0);var f=e(o);return i&&i(f,o),f}return l=n[u]=function(o,c){var u,l={};"object"==typeof t?(i=t.onCleanup,a=t.debugNameGenerator,l=t):"function"==typeof t?i=t:(i=void 0,a=void 0);var f=a?a(c):"Transformer-"+e.name+"-"+o,h=(0,r.computed)((function(){return u=e(c)}),N(N({},l),{name:f}));if(!s)var d=(0,r.onBecomeUnobserved)(h,(function(){delete n[o],d(),i&&i(u,c)}));return h}(u,o),l.get()}}function x(e){if(!e)return"ROOT";for(var t=[];e.parent;)t.push(e.path),e=e.parent;return t.reverse().join("/")}function L(e){return(0,r.isObservableObject)(e)||(0,r.isObservableArray)(e)||(0,r.isObservableMap)(e)}function M(e,t){var n=new WeakMap;function i(r){var i=n.get(r.object);!function(e,t){switch(e.type){case"add":o(e.newValue,t,e.name);break;case"update":s(e.oldValue),o(e.newValue,t,e.name||""+e.index);break;case"remove":case"delete":s(e.oldValue);break;case"splice":e.removed.map(s),e.added.forEach((function(n,r){return o(n,t,""+(e.index+r))}));for(var r=e.index+e.addedCount;r<e.object.length;r++)if(L(e.object[r])){var i=n.get(e.object[r]);i&&(i.path=""+r)}}}(r,i),t(r,x(i),e)}function o(e,t,s){if(L(e)){var a=n.get(e);if(a){if(a.parent!==t||a.path!==s)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+x(t)+"/"+s+"', but it already exists at '"+x(a.parent)+"/"+a.path+"'")}else{var c={parent:t,path:s,dispose:(0,r.observe)(e,i)};n.set(e,c),(0,r.entries)(e).forEach((function(e){var t=e[0];return o(e[1],c,t)}))}}}function s(e){if(L(e)){var t=n.get(e);if(!t)return;n.delete(e),t.dispose(),(0,r.values)(e).forEach(s)}}return o(e,void 0,""),function(){s(e)}}var D,k=(D=function(e,t){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},D(e,t)},function(e,t){function n(){this.constructor=e}D(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),j=(function(e){function t(t,n,i){var o=void 0===i?{}:i,s=o.name,a=void 0===s?"ogm"+(1e3*Math.random()|0):s,c=o.keyToName,u=void 0===c?function(e){return""+e}:c,l=e.call(this)||this;Object.defineProperty(l,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(l,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),l._keyToName=u,l._groupBy=n,l._ogmInfoKey=Symbol("ogmInfo"+a),l._base=t;for(var f=0;f<t.length;f++)l._addItem(t[f]);return l._disposeBaseObserver=(0,r.observe)(l._base,(function(e){if("splice"===e.type)(0,r.transaction)((function(){for(var t=0,n=e.removed;t<n.length;t++){var r=n[t];l._removeItem(r)}for(var i=0,o=e.added;i<o.length;i++){var s=o[i];l._addItem(s)}}));else{if("update"!==e.type)throw new Error("illegal state");(0,r.transaction)((function(){l._removeItem(e.oldValue),l._addItem(e.newValue)}))}})),l}k(t,e),Object.defineProperty(t.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(e){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){throw new Error("not supported")}}),Object.defineProperty(t.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];t[this._ogmInfoKey].reaction(),delete t[this._ogmInfoKey]}}}),Object.defineProperty(t.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n=e.prototype.get.call(this,t);return void 0===n&&(n=(0,r.observable)([],{name:"GroupArray["+this._keyToName(t)+"]",deep:!1}),e.prototype.set.call(this,t,n)),n}}),Object.defineProperty(t.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){var r=e.prototype.get.call(this,t);1===r.length?e.prototype.delete.call(this,t):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)}}),Object.defineProperty(t.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,n=this._groupBy(e),i=this._getGroupArr(n),o={groupByValue:n,groupArrIndex:i.length,reaction:(0,r.reaction)((function(){return t._groupBy(e)}),(function(n,r){var i=e[t._ogmInfoKey];t._removeFromGroupArr(i.groupByValue,i.groupArrIndex);var o=t._getGroupArr(n),s=o.length;o.push(e),i.groupByValue=n,i.groupArrIndex=s}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:o}),i.push(e)}}),Object.defineProperty(t.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]}})}(r.ObservableMap),function(){function e(e,t){Object.defineProperty(this,"base",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closestIdx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1});for(var n=this.closest=this.root=e,r=0;r<this.args.length-1&&(n=n.get(t[r]));r++)this.closest=n;this.closestIdx=r}return Object.defineProperty(e.prototype,"exists",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])}}),Object.defineProperty(e.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])}}),Object.defineProperty(e.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertNotDisposed();for(var t=this.args.length,n=this.closest,r=this.closestIdx;r<t-1;r++){var i=new Map;n.set(this.args[r],i),n=i}this.closestIdx=t-1,this.closest=n,n.set(this.args[t-1],e)}}),Object.defineProperty(e.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,n=[t],r=0;r<e-1;r++)t=t.get(this.args[r]),n.push(t);for(r=n.length-1;r>0;r--)0===n[r].size&&n[r-1].delete(this.args[r-1]);this.isDisposed=!0}}),Object.defineProperty(e.prototype,"assertNotDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isDisposed)throw new Error("Concurrent modification exception")}}),e}()),U=function(){function e(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"argsLength",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(e.prototype,"entry",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(-1===this.argsLength)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new j(this.store,e)}}),e}(),F=function(){return F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},F.apply(this,arguments)},B=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};function V(e,t){if(void 0===t&&(t=!1),(0,r.isAction)(e))throw new Error("computedFn shouldn't be used on actions");var n=!1,i=0,o="boolean"==typeof t?{keepAlive:t}:t,s=new U;return function(){for(var t=this,a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var u,l=s.entry(a);if(l.exists())return l.get().get();if(!o.keepAlive&&!(0,r._isComputingDerivation)())return n||(console.warn("invoking a computedFn from outside an reactive context won't be memoized, unless keepAlive is set"),n=!0),e.apply(this,a);var f=(0,r.computed)((function(){return u=e.apply(t,a)}),F(F({},o),{name:"computedFn("+(o.name||e.name)+"#"+ ++i+")"}));return l.set(f),o.keepAlive||(0,r.onBecomeUnobserved)(f,(function(){s.entry(a).delete(),o.onCleanup&&o.onCleanup.apply(o,B([u],a)),u=void 0})),f.get()}}},743640:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,v:()=>i});var r=n(551941);const i=(0,r.HP)((()=>/firefox/i.test(navigator.userAgent))),o=(0,r.HP)((()=>Boolean(window.safari)))},545663:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(551941);class i{constructor(e){this.entered=[],this.isNodeInDocument=e}enter(e){const t=this.entered.length;return this.entered=(0,r.G0)(this.entered.filter((t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e)))),[e]),0===t&&this.entered.length>0}leave(e){const t=this.entered.length;return this.entered=(0,r.zu)(this.entered.filter(this.isNodeInDocument),e),t>0&&0===this.entered.length}reset(){this.entered=[]}}},406812:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(545663),i=n(743640),o=n(659033),s=n(428933),a=n(727989);class c{constructor(e){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=e=>(0,o.g2)(this.sourceNodes.get(e)),this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>!!document&&document.body.contains(e)||!!this.window&&this.window.document.body.contains(e),this.endDragIfSourceWasRemovedFromDOM=()=>{const e=this.currentDragSourceNode;this.isNodeInDocument(e)||this.clearCurrentDragSourceNode()&&this.actions.endDrag()},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{const{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;const n=(0,o.K5)(e);this.monitor.isDragging()&&this.actions.endDrag(),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:n});const{dataTransfer:r}=e,i=(0,s.w)(r);if(this.monitor.isDragging()){if(r&&"function"==typeof r.setDragImage){const e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),i=this.sourcePreviewNodes.get(e)||t;if(i){const{anchorX:e,anchorY:s,offsetX:a,offsetY:c}=this.getCurrentSourcePreviewNodeOptions(),u={anchorX:e,anchorY:s},l={offsetX:a,offsetY:c},f=(0,o.rK)(t,i,n,u,l);r.setDragImage(i,f.x,f.y)}}try{r.setData("application/json",{})}catch(a){}this.setCurrentDragSourceNode(e.target);const{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(i)this.beginDragNativeItem(i);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.actions.endDrag()},this.handleTopDragEnterCapture=e=>{this.dragEnterTargetIds=[];if(!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;const{dataTransfer:t}=e,n=(0,s.w)(t);n&&this.beginDragNativeItem(n)},this.handleTopDragEnter=e=>{const{dragEnterTargetIds:t}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=e.altKey,(0,i.v)()||this.actions.hover(t,{clientOffset:(0,o.K5)(e)});t.some((e=>this.monitor.canDropOnTarget(e)))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=()=>{this.dragOverTargetIds=[]},this.handleTopDragOver=e=>{const{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));this.altKeyPressed=e.altKey,this.actions.hover(t||[],{clientOffset:(0,o.K5)(e)});(t||[]).some((e=>this.monitor.canDropOnTarget(e)))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault();this.enterLeaveCounter.leave(e.target)&&this.isDraggingNativeItem()&&this.endDragNativeItem()},this.handleTopDropCapture=e=>{this.dropTargetIds=[],e.preventDefault(),this.isDraggingNativeItem()&&this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{const{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:(0,o.K5)(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=e=>{const t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.context=e.getContext(),this.enterLeaveCounter=new r.Z(this.isNodeInDocument)}get window(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0}setup(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}teardown(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,n){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);const r=t=>this.handleDragStart(t,e),i=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",r),t.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",r),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const n=t=>this.handleDragEnter(t,e),r=t=>this.handleDragOver(t,e),i=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",n),t.addEventListener("dragover",r),t.addEventListener("drop",i),()=>{t.removeEventListener("dragenter",n),t.removeEventListener("dragover",r),t.removeEventListener("drop",i)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return Object.assign({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return Object.assign({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(a).some((t=>a[t]===e))}beginDragNativeItem(e){this.clearCurrentDragSourceNode(),this.currentNativeSource=(0,s.f)(e),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((()=>this.window&&this.window.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),1e3)}clearCurrentDragSourceNode(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}handleDragStart(e,t){this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t)}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}}},689139:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});class r{constructor(e,t){const{length:n}=e,r=[];for(let d=0;d<n;d++)r.push(d);r.sort(((t,n)=>e[t]<e[n]?-1:1));const i=[],o=[],s=[];let a,c;for(let d=0;d<n-1;d++)a=e[d+1]-e[d],c=t[d+1]-t[d],o.push(a),i.push(c),s.push(c/a);const u=[s[0]];for(let d=0;d<o.length-1;d++){const e=s[d],t=s[d+1];if(e*t<=0)u.push(0);else{a=o[d];const n=o[d+1],r=a+n;u.push(3*r/((r+n)/e+(r+a)/t))}}u.push(s[s.length-1]);const l=[],f=[];let h;for(let d=0;d<u.length-1;d++){h=s[d];const e=u[d],t=1/o[d],n=e+u[d+1]-h-h;l.push((h-e-n)*t),f.push(n*t*t)}this.xs=e,this.ys=t,this.c1s=u,this.c2s=l,this.c3s=f}interpolate(e){const{xs:t,ys:n,c1s:r,c2s:i,c3s:o}=this;let s=t.length-1;if(e===t[s])return n[s];let a,c=0,u=o.length-1;for(;c<=u;){a=Math.floor(.5*(c+u));const r=t[a];if(r<e)c=a+1;else{if(!(r>e))return n[a];u=a-1}}s=Math.max(0,u);const l=e-t[s],f=l*l;return n[s]+r[s]*l+i[s]*f+o[s]*l*f}}},782979:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});class r{constructor(e){this.config=e,this.item={},Object.keys(this.config.exposeProperties).forEach((e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})}))}mutateItemByReadingDataTransfer(e){const t={};e&&Object.keys(this.config.exposeProperties).forEach((n=>{t[n]={value:this.config.exposeProperties[n](e,this.config.matchesTypes)}})),Object.defineProperties(this.item,t)}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}}},232625:(e,t,n)=>{"use strict";function r(e,t,n){const r=t.reduce(((t,n)=>t||e.getData(n)),"");return null!=r?r:n}n.d(t,{R:()=>r})},428933:(e,t,n)=>{"use strict";n.d(t,{f:()=>o,w:()=>s});var r=n(232171),i=n(782979);function o(e){return new i.p(r.s[e])}function s(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(r.s).filter((e=>{const{matchesTypes:n}=r.s[e];return n.some((e=>t.indexOf(e)>-1))}))[0]||null}},232171:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var r=n(727989),i=n(232625);const o={[r.FILE]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items},matchesTypes:["Files"]},[r.URL]:{exposeProperties:{urls:(e,t)=>(0,i.R)(e,t,"").split("\n")},matchesTypes:["Url","text/uri-list"]},[r.TEXT]:{exposeProperties:{text:(e,t)=>(0,i.R)(e,t,"")},matchesTypes:["Text","text/plain"]}}},727989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FILE:()=>r,TEXT:()=>o,URL:()=>i});const r="__NATIVE_FILE__",i="__NATIVE_URL__",o="__NATIVE_TEXT__"},659033:(e,t,n)=>{"use strict";n.d(t,{K5:()=>a,g2:()=>s,rK:()=>c});var r=n(743640),i=n(689139);const o=1;function s(e){const t=e.nodeType===o?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function a(e){return{x:e.clientX,y:e.clientY}}function c(e,t,n,o,a){const c="IMG"===(u=t).nodeName&&((0,r.v)()||!document.documentElement.contains(u));var u;const l=s(c?e:t),f={x:n.x-l.x,y:n.y-l.y},{offsetWidth:h,offsetHeight:d}=e,{anchorX:p,anchorY:g}=o,{dragPreviewWidth:y,dragPreviewHeight:m}=function(e,t,n,i){let o=e?t.width:n,s=e?t.height:i;return(0,r.G)()&&e&&(s/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:s}}(c,t,h,d),{offsetX:b,offsetY:v}=a,E=0===v||v;return{x:0===b||b?b:new i.Z([0,.5,1],[f.x,f.x/h*y,f.x+y-h]).interpolate(p),y:E?v:(()=>{let e=new i.Z([0,.5,1],[f.y,f.y/d*m,f.y+m-d]).interpolate(g);return(0,r.G)()&&c&&(e+=(window.devicePixelRatio-1)*m),e})()}}},295501:(e,t,n)=>{"use strict";let r;function i(){return r||(r=new Image,r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),r}n.d(t,{Z:()=>i})},306237:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>s,hm:()=>o,rX:()=>i.Z});var r=n(406812),i=n(295501),o=n(727989);function s(e){return new r.Z(e)}},551941:(e,t,n)=>{"use strict";function r(e){let t=null;return()=>(null==t&&(t=e()),t)}function i(e,t){return e.filter((e=>e!==t))}function o(e,t){const n=new Set,r=e=>n.add(e);e.forEach(r),t.forEach(r);const i=[];return n.forEach((e=>i.push(e))),i}n.d(t,{G0:()=>o,HP:()=>r,zu:()=>i})},690263:function(e,t,n){"use strict";var r,i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(441143);function s(e){return function(e){return!!e.targetTouches}(e)?function(e){if(1===e.targetTouches.length)return s(e.targetTouches[0])}(e):{x:e.clientX,y:e.clientY}}var a=1,c=0;function u(e){return void 0===e.button||e.button===c}var l=("undefined"!=typeof document&&document.elementsFromPoint||function(e,t){if(document.msElementsFromPoint){var n=document.msElementsFromPoint(e,t);return n&&Array.prototype.slice.call(n,0)}for(var r,i,o,s=[],a=[];(r=document.elementFromPoint(e,t))&&-1===s.indexOf(r)&&null!==r;)s.push(r),a.push({value:r.style.getPropertyValue("pointer-events"),priority:r.style.getPropertyPriority("pointer-events")}),r.style.setProperty("pointer-events","none","important");for(i=a.length;o=a[--i];)s[i].style.setProperty("pointer-events",o.value?o.value:"",o.priority);return s}).bind("undefined"!=typeof document?document:null),f=function(){var e=!1;try{addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){e=!0}}))}catch(t){}return e}();var h=((r={}).mouse={start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},r.touch={start:"touchstart",move:"touchmove",end:"touchend"},r.keyboard={keydown:"keydown"},r),d=function(){function e(e,t){var n=this;void 0===t&&(t={}),this.getSourceClientOffset=function(e){return function(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}(n.sourceNodes[e])},this.handleTopMoveStartCapture=function(e){u(e)&&(n.moveStartSourceIds=[])},this.handleMoveStart=function(e){Array.isArray(n.moveStartSourceIds)&&n.moveStartSourceIds.unshift(e)},this.handleTopMoveStart=function(e){if(u(e)){var t=s(e);t&&(n._mouseClientOffset=t),n.waitingForDelay=!1}},this.handleTopMoveStartDelay=function(e){if(u(e)){var t=e.type===h.touch.start?n.delayTouchStart:n.delayMouseStart;n.timeout=setTimeout(n.handleTopMoveStart.bind(n,e),t),n.waitingForDelay=!0}},this.handleTopMoveCapture=function(){n.dragOverTargetIds=[]},this.handleMove=function(e,t){n.dragOverTargetIds.unshift(t)},this.handleTopMove=function(e){if(clearTimeout(n.timeout),!n.waitingForDelay){var t,r,i,o,a=n,c=a.moveStartSourceIds,u=a.dragOverTargetIds,f=a.enableHoverOutsideTarget,h=s(e);if(h)if(n._isScrolling||!n.monitor.isDragging()&&function(e,t,n,r,i){if(!i)return!1;for(var o=180*Math.atan2(r-t,n-e)/Math.PI+180,s=0;s<i.length;++s)if((null==i[s].start||o>=i[s].start)&&(null==i[s].end||o<=i[s].end))return!0;return!1}(n._mouseClientOffset.x,n._mouseClientOffset.y,h.x,h.y,n.scrollAngleRanges))n._isScrolling=!0;else if(!n.monitor.isDragging()&&n._mouseClientOffset.hasOwnProperty("x")&&c&&(t=n._mouseClientOffset.x,r=n._mouseClientOffset.y,i=h.x,o=h.y,Math.sqrt(Math.pow(Math.abs(i-t),2)+Math.pow(Math.abs(o-r),2))>(n.touchSlop?n.touchSlop:0))&&(n.moveStartSourceIds=null,n.actions.beginDrag(c,{clientOffset:n._mouseClientOffset,getSourceClientOffset:n.getSourceClientOffset,publishSource:!1})),n.monitor.isDragging()){var d=n.sourceNodes[n.monitor.getSourceId()];n.installSourceNodeRemovalObserver(d),n.actions.publishDragSource(),e.preventDefault();var p=u.map((function(e){return n.targetNodes[e]})),g=n.getDropTargetElementsAtPoint?n.getDropTargetElementsAtPoint(h.x,h.y,p):l(h.x,h.y),y=[];for(var m in g)if(g.hasOwnProperty(m)){var b=g[m];for(y.push(b);b;)b=b.parentElement,-1===y.indexOf(b)&&y.push(b)}var v=y.filter((function(e){return p.indexOf(e)>-1})).map((function(e){for(var t in n.targetNodes)if(e===n.targetNodes[t])return t;return null})).filter((function(e){return!!e})).filter((function(e,t,n){return n.indexOf(e)===t}));if(f)for(var E in n.targetNodes)if(n.targetNodes[E]&&n.targetNodes[E].contains(d)&&-1===v.indexOf(E)){v.unshift(E);break}v.reverse(),n.actions.hover(v,{clientOffset:h})}}},this.handleTopMoveEndCapture=function(e){n._isScrolling=!1,function(e){return void 0===e.buttons||0==(e.buttons&a)}(e)&&(n.monitor.isDragging()&&!n.monitor.didDrop()?(e.preventDefault(),n._mouseClientOffset={},n.uninstallSourceNodeRemovalObserver(),n.actions.drop(),n.actions.endDrag()):n.moveStartSourceIds=null)},this.handleCancelOnEscape=function(e){"Escape"===e.key&&n.monitor.isDragging()&&(n._mouseClientOffset={},n.uninstallSourceNodeRemovalObserver(),n.actions.endDrag())},t.delayTouchStart=t.delayTouchStart||t.delay,t=i({enableTouchEvents:!0,enableMouseEvents:!1,enableKeyboardEvents:!1,ignoreContextMenu:!1,enableHoverOutsideTarget:!1,delayTouchStart:0,delayMouseStart:0,touchSlop:0,scrollAngleRanges:void 0},t),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enableKeyboardEvents=t.enableKeyboardEvents,this.enableMouseEvents=t.enableMouseEvents,this.delayTouchStart=t.delayTouchStart,this.delayMouseStart=t.delayMouseStart,this.ignoreContextMenu=t.ignoreContextMenu,this.touchSlop=t.touchSlop,this.scrollAngleRanges=t.scrollAngleRanges,this.enableHoverOutsideTarget=t.enableHoverOutsideTarget,this.sourceNodes={},this.sourceNodeOptions={},this.sourcePreviewNodes={},this.sourcePreviewNodeOptions={},this.targetNodes={},this.targetNodeOptions={},this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,t.enableMouseEvents&&this.listenerTypes.push("mouse"),t.enableTouchEvents&&this.listenerTypes.push("touch"),t.enableKeyboardEvents&&this.listenerTypes.push("keyboard"),t.getDropTargetElementsAtPoint&&(this.getDropTargetElementsAtPoint=t.getDropTargetElementsAtPoint)}return e.prototype.setup=function(){"undefined"!=typeof window&&(o(!e.isSetUp,"Cannot have two Touch backends at the same time."),e.isSetUp=!0,this.addEventListener(window,"start",this.getTopMoveStartHandler()),this.addEventListener(window,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(window,"move",this.handleTopMove),this.addEventListener(window,"move",this.handleTopMoveCapture,!0),this.addEventListener(window,"end",this.handleTopMoveEndCapture,!0),this.enableMouseEvents&&!this.ignoreContextMenu&&this.addEventListener(window,"contextmenu",this.handleTopMoveEndCapture),this.enableKeyboardEvents&&this.addEventListener(window,"keydown",this.handleCancelOnEscape,!0))},e.prototype.teardown=function(){"undefined"!=typeof window&&(e.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(window,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(window,"start",this.handleTopMoveStart),this.removeEventListener(window,"move",this.handleTopMoveCapture,!0),this.removeEventListener(window,"move",this.handleTopMove),this.removeEventListener(window,"end",this.handleTopMoveEndCapture,!0),this.enableMouseEvents&&!this.ignoreContextMenu&&this.removeEventListener(window,"contextmenu",this.handleTopMoveEndCapture),this.enableKeyboardEvents&&this.removeEventListener(window,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())},e.prototype.addEventListener=function(e,t,n,r){var i=f?{capture:r,passive:!1}:r;this.listenerTypes.forEach((function(r){var o=h[r][t];o&&e.addEventListener(o,n,i)}))},e.prototype.removeEventListener=function(e,t,n,r){var i=f?{capture:r,passive:!1}:r;this.listenerTypes.forEach((function(r){var o=h[r][t];o&&e.removeEventListener(o,n,i)}))},e.prototype.connectDragSource=function(e,t){var n=this,r=this.handleMoveStart.bind(this,e);return this.sourceNodes[e]=t,this.addEventListener(t,"start",r),function(){delete n.sourceNodes[e],n.removeEventListener(t,"start",r)}},e.prototype.connectDragPreview=function(e,t,n){var r=this;return this.sourcePreviewNodeOptions[e]=n,this.sourcePreviewNodes[e]=t,function(){delete r.sourcePreviewNodes[e],delete r.sourcePreviewNodeOptions[e]}},e.prototype.connectDropTarget=function(e,t){var n=this,r=function(r){var i;if(n.monitor.isDragging()){switch(r.type){case h.mouse.move:i={x:r.clientX,y:r.clientY};break;case h.touch.move:i={x:r.touches[0].clientX,y:r.touches[0].clientY}}var o=document.elementFromPoint(i.x,i.y),s=t.contains(o);return o===t||s?n.handleMove(r,e):void 0}};return this.addEventListener(document.body,"move",r),this.targetNodes[e]=t,function(){delete n.targetNodes[e],n.removeEventListener(document.body,"move",r)}},e.prototype.getTopMoveStartHandler=function(){return this.delayTouchStart||this.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart},e.prototype.installSourceNodeRemovalObserver=function(e){var t=this;this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver((function(){e.parentElement||(t.resurrectSourceNode(),t.uninstallSourceNodeRemovalObserver())})),e&&e.parentElement&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})},e.prototype.resurrectSourceNode=function(){this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),document.body.appendChild(this.draggedSourceNode)},e.prototype.uninstallSourceNodeRemovalObserver=function(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=null,this.draggedSourceNode=null},e}();t.TouchBackend=d,t.default=function(e){var t=function(t){return new d(t,e)};return function(e){return!!e.getMonitor}(e)?t(e):t}},480270:(e,t,n)=>{"use strict";n.d(t,{$6:()=>l,Do:()=>u,Z5:()=>d});var r=n(667294),i=n(789384),o=n(538575),s=n(663151);const a=n(441143),c=n(108679),u=r.createContext({dragDropManager:void 0}),{Consumer:l,Provider:f}=u;function h(e,t,n){return{dragDropManager:(0,i.i)(e,t,n)}}function d(e,t,n){(0,o.Z)("DragDropContext","backend",e);const i=h(e,t,n);return function(e){const t=e,n=t.displayName||t.name||"Component";class o extends r.Component{constructor(){super(...arguments),this.ref=r.createRef(),this.getManager=()=>i.dragDropManager}getDecoratedComponentInstance(){return a(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current}render(){return r.createElement(f,{value:i},r.createElement(t,Object.assign({},this.props,{ref:(0,s.J)(t)?this.ref:null})))}}return o.DecoratedComponent=e,o.displayName=`DragDropContext(${n})`,c(o,e)}}},540045:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(667294),i=n(538575),o=n(480270),s=n(663151),a=n(892836);const c=n(108679),u=n(441143),l=n(596774);function f(e,t={}){return(0,i.Z)("DragLayer","collect[, options]",e,t),u("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),u((0,a.PO)(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(n){const i=n,{arePropsEqual:a=l}=t,f=i.displayName||i.name||"Component";class h extends r.Component{constructor(){super(...arguments),this.isCurrentlyMounted=!1,this.ref=r.createRef(),this.handleChange=()=>{if(!this.isCurrentlyMounted)return;const e=this.getCurrentState();l(e,this.state)||this.setState(e)}}getDecoratedComponentInstance(){return u(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current}shouldComponentUpdate(e,t){return!a(e,this.props)||!l(t,this.state)}componentDidMount(){this.isCurrentlyMounted=!0,this.handleChange()}componentWillUnmount(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)}render(){return r.createElement(o.$6,null,(({dragDropManager:e})=>void 0===e?null:(this.receiveDragDropManager(e),this.isCurrentlyMounted?r.createElement(i,Object.assign({},this.props,this.state,{ref:(0,s.J)(i)?this.ref:null})):null)))}receiveDragDropManager(e){if(void 0!==this.manager){const e=this.manager.getMonitor();return void 0===this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange=e.subscribeToOffsetChange(this.handleChange)),void(void 0===this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange=e.subscribeToStateChange(this.handleChange)))}this.manager=e,u("object"==typeof e,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",f,f);const t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange)}getCurrentState(){if(!this.manager)return{};const t=this.manager.getMonitor();return e(t,this.props)}}return h.displayName=`DragLayer(${f})`,h.DecoratedComponent=n,c(h,n)}}},535550:(e,t,n)=>{"use strict";const r=n(667294).memo((({connect:e,src:t})=>{if("undefined"!=typeof Image){const n=new Image;n.src=t,n.onload=()=>e(n)}return null}));r.displayName="DragPreviewImage"},323130:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(538575),i=n(665024),o=n(764110),s=n(129915),a=n(964557),c=n(882210),u=n(211965),l=n(892836);const f=n(441143);function h(e,t,n,h={}){(0,r.Z)("DragSource","type, spec, collect[, options]",e,t,n,h);let d=e;"function"!=typeof e&&(f((0,u.Z)(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),d=()=>e),f((0,l.PO)(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);const p=(0,s.Z)(t);return f("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),f((0,l.PO)(h),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return(0,i.Z)({containerDisplayName:"DragSource",createHandler:p,registerHandler:o.Z,createConnector:e=>new c.Z(e),createMonitor:e=>new a.Z(e),DecoratedComponent:e,getType:d,collect:n,options:h})}}},964557:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const r=n(441143);let i=!1,o=!1;class s{constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){r(!i,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return i=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{i=!1}}isDragging(){if(!this.sourceId)return!1;r(!o,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return o=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{o=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}}},114546:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(538575),i=n(665024),o=n(208678),s=n(384592),a=n(211965),c=n(971930),u=n(106055),l=n(892836);const f=n(441143);function h(e,t,n,h={}){(0,r.Z)("DropTarget","type, spec, collect[, options]",e,t,n,h);let d=e;"function"!=typeof e&&(f((0,a.Z)(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),d=()=>e),f((0,l.PO)(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);const p=(0,s.Z)(t);return f("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),f((0,l.PO)(h),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return(0,i.Z)({containerDisplayName:"DropTarget",createHandler:p,registerHandler:o.Z,createMonitor:e=>new c.Z(e),createConnector:e=>new u.Z(e),DecoratedComponent:e,getType:d,collect:n,options:h})}}},971930:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const r=n(441143);let i=!1;class o{constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;r(!i,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return i=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{i=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}}},882210:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(116715),i=n(506253);const o=n(596774);class s{constructor(e){this.backend=e,this.hooks=(0,r.Z)({dragSource:(e,t)=>{this.dragSourceOptions=t||null,(0,i.d)(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,t)=>{this.dragPreviewOptions=t||null,(0,i.d)(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null}receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){this.reconnectDragSource(),this.reconnectDragPreview()}reconnectDragSource(){const e=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();e&&this.disconnectDragSource();const t=this.dragSource;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)):this.lastConnectedDragSource=t)}reconnectDragPreview(){const e=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();e&&this.disconnectDragPreview();const t=this.dragPreview;this.handlerId&&t&&e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!o(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!o(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}}},106055:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(116715),i=n(506253);const o=n(596774);class s{constructor(e){this.backend=e,this.hooks=(0,r.Z)({dropTarget:(e,t)=>{this.dropTargetOptions=t,(0,i.d)(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null}get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!o(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}},129915:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(313057);const i=n(441143),o=["canDrag","beginDrag","isDragging","endDrag"],s=["beginDrag"];class a{constructor(e,t,n){this.spec=e,this.monitor=t,this.ref=n,this.props=null,this.beginDrag=()=>{if(!this.props)return;return this.spec.beginDrag(this.props,this.monitor,this.ref.current)}}receiveProps(e){this.props=e}canDrag(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))}isDragging(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())}endDrag(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,(0,r.A)(this.ref))}}function c(e){return Object.keys(e).forEach((t=>{i(o.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',o.join(", "),t),i("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),s.forEach((t=>{i("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,n){return new a(e,t,n)}}},384592:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(313057);const i=n(441143),o=["canDrop","hover","drop"];class s{constructor(e,t,n){this.spec=e,this.monitor=t,this.ref=n,this.props=null}receiveProps(e){this.props=e}receiveMonitor(e){this.monitor=e}canDrop(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)}hover(){this.spec.hover&&this.spec.hover(this.props,this.monitor,(0,r.A)(this.ref))}drop(){if(!this.spec.drop)return;return this.spec.drop(this.props,this.monitor,this.ref.current)}}function a(e){return Object.keys(e).forEach((t=>{i(o.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',o.join(", "),t),i("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,n){return new s(e,t,n)}}},665024:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(667294),i=n(480270),o=n(92489),s=n(663151);const a=n(441143),c=n(108679),u=n(596774);function l({DecoratedComponent:e,createHandler:t,createMonitor:n,createConnector:l,registerHandler:f,containerDisplayName:h,getType:d,collect:p,options:g}){const{arePropsEqual:y=u}=g,m=e,b=e.displayName||e.name||"Component";class v extends r.Component{constructor(e){super(e),this.decoratedRef=r.createRef(),this.handleChange=()=>{const e=this.getCurrentState();u(e,this.state)||this.setState(e)},this.disposable=new o.M$,this.receiveProps(e),this.dispose()}getHandlerId(){return this.handlerId}getDecoratedComponentInstance(){return a(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current}shouldComponentUpdate(e,t){return!y(e,this.props)||!u(t,this.state)}componentDidMount(){this.disposable=new o.M$,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()}componentDidUpdate(e){y(this.props,e)||(this.receiveProps(this.props),this.handleChange())}componentWillUnmount(){this.dispose()}receiveProps(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(d(e)))}receiveType(e){if(!this.handlerMonitor||!this.manager||!this.handlerConnector)return;if(e===this.currentType)return;this.currentType=e;const[t,n]=f(e,this.handler,this.manager);this.handlerId=t,this.handlerMonitor.receiveHandlerId(t),this.handlerConnector.receiveHandlerId(t);const r=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[t]});this.disposable.setDisposable(new o.Xz(new o.JT(r),new o.JT(n)))}dispose(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)}getCurrentState(){if(!this.handlerConnector)return{};return p(this.handlerConnector.hooks,this.handlerMonitor,this.props)}render(){return r.createElement(i.$6,null,(({dragDropManager:e})=>(this.receiveDragDropManager(e),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((()=>this.handlerConnector.reconnect())),r.createElement(m,Object.assign({},this.props,this.getCurrentState(),{ref:(0,s.J)(m)?this.decoratedRef:null})))))}receiveDragDropManager(e){void 0===this.manager&&(a(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",b,b),void 0!==e&&(this.manager=e,this.handlerMonitor=n(e),this.handlerConnector=l(e.getBackend()),this.handler=t(this.handlerMonitor,this.decoratedRef)))}}return v.DecoratedComponent=e,v.displayName=`${h}(${b})`,c(v,e)}},954085:(e,t,n)=>{"use strict";n.d(t,{LW:()=>i.L,c0:()=>r.c});var r=n(989400),i=n(630769);n(103718)},251988:(e,t,n)=>{"use strict";n.d(t,{_:()=>u,z:()=>l});var r=n(667294),i=n(764110),o=n(667488),s=n(964557),a=n(882210);const c=n(441143);function u(){const e=(0,o.N)();return[(0,r.useMemo)((()=>new s.Z(e)),[e]),(0,r.useMemo)((()=>new a.Z(e.getBackend())),[e])]}function l(e,t,n){const s=(0,o.N)(),a=(0,r.useMemo)((()=>({beginDrag(){const{begin:n,item:r}=e.current;if(n){const e=n(t);return c(null==e||"object"==typeof e,"dragSpec.begin() must either return an object, undefined, or null"),e||r||{}}return r||{}},canDrag:()=>"boolean"==typeof e.current.canDrag?e.current.canDrag:"function"!=typeof e.current.canDrag||e.current.canDrag(t),isDragging(n,r){const{isDragging:i}=e.current;return i?i(t):r===n.getSourceId()},endDrag(){const{end:r}=e.current;r&&r(t.getItem(),t),n.reconnect()}})),[]);(0,r.useEffect)((function(){const[r,o]=(0,i.Z)(e.current.item.type,a,s);return t.receiveHandlerId(r),n.receiveHandlerId(r),o}),[])}},206552:(e,t,n)=>{"use strict";n.d(t,{V:()=>c,p:()=>u});var r=n(667294),i=n(208678),o=n(667488),s=n(106055),a=n(971930);function c(){const e=(0,o.N)();return[(0,r.useMemo)((()=>new a.Z(e)),[e]),(0,r.useMemo)((()=>new s.Z(e.getBackend())),[e])]}function u(e,t,n){const s=(0,o.N)(),a=(0,r.useMemo)((()=>({canDrop(){const{canDrop:n}=e.current;return!n||n(t.getItem(),t)},hover(){const{hover:n}=e.current;n&&n(t.getItem(),t)},drop(){const{drop:n}=e.current;if(n)return n(t.getItem(),t)}})),[t]);(0,r.useEffect)((function(){const[r,o]=(0,i.Z)(e.current.accept,a,s);return t.receiveHandlerId(r),n.receiveHandlerId(r),o}),[t,n])}},847711:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var r=n(667294);const i=n(596774);function o(e,t,n){const[o,s]=(0,r.useState)((()=>t(e))),a=(0,r.useCallback)((()=>{const r=t(e);i(o,r)||(s(r),n&&n())}),[o,e,n]);return[o,a]}},667488:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var r=n(667294),i=n(480270);const o=n(441143);function s(){const{dragDropManager:e}=(0,r.useContext)(i.Do);return o(null!=e,"Expected drag drop context"),e}},669713:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var r=n(667294),i=n(847711);function o(e,t,n){const[o,s]=(0,i.r)(e,t,n);return(0,r.useEffect)((function(){const t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(s,{handlerIds:[t]})}),[e,s]),o}},989400:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var r=n(669713),i=n(251988),o=n(667294);const s=n(441143);function a(e){const t=(0,o.useRef)(e);t.current=e,s(null!=e.item,"item must be defined"),s(null!=e.item.type,"item type must be defined");const[n,a]=(0,i._)();(0,i.z)(t,n,a);const c=(0,r.U)(n,t.current.collect||(()=>({})),(()=>a.reconnect())),u=(0,o.useMemo)((()=>a.hooks.dragSource()),[a]),l=(0,o.useMemo)((()=>a.hooks.dragPreview()),[a]);return(0,o.useEffect)((()=>{a.dragSourceOptions=t.current.options||null,a.reconnect()}),[a]),(0,o.useEffect)((()=>{a.dragPreviewOptions=t.current.previewOptions||null,a.reconnect()}),[a]),[c,u,l]}},103718:(e,t,n)=>{"use strict";n(667294),n(667488),n(847711)},630769:(e,t,n)=>{"use strict";n.d(t,{L:()=>a});var r=n(669713),i=n(206552),o=n(667294);const s=n(441143);function a(e){const t=(0,o.useRef)(e);t.current=e,s(null!=e.accept,"accept must be defined");const[n,a]=(0,i.V)();(0,i.p)(t,n,a);const c=(0,r.U)(n,t.current.collect||(()=>({})),(()=>a.reconnect())),u=(0,o.useMemo)((()=>a.hooks.dropTarget()),[a]);return(0,o.useEffect)((()=>{a.dropTargetOptions=e.options||null,a.reconnect()}),[e.options]),[c,u]}},897218:(e,t,n)=>{"use strict";n.d(t,{Ej:()=>o.Z,GR:()=>s.Z,LW:()=>a.LW,Z5:()=>r.Z5,c0:()=>a.c0,rE:()=>i.Z});var r=n(480270),i=n(540045),o=n(323130),s=n(114546),a=(n(535550),n(954085))},764110:(e,t,n)=>{"use strict";function r(e,t,n){const r=n.getRegistry(),i=r.addSource(e,t);return[i,()=>r.removeSource(i)]}n.d(t,{Z:()=>r})},208678:(e,t,n)=>{"use strict";function r(e,t,n){const r=n.getRegistry(),i=r.addTarget(e,t);return[i,()=>r.removeTarget(i)]}n.d(t,{Z:()=>r})},538575:(e,t,n)=>{"use strict";function r(e,t,...n){0}n.d(t,{Z:()=>r})},306504:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(667294);const i=n(441143);function o(e,t){"function"==typeof e?e(t):e.current=t}function s(e,t){const n=e.ref;return i("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n?(0,r.cloneElement)(e,{ref:e=>{o(t,e),n&&o(n,e)}}):(0,r.cloneElement)(e,{ref:t})}},892836:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}function i(){}function o(e){if(!function(e){return"object"==typeof e&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}n.d(t,{PO:()=>o,ZT:()=>i,mf:()=>r})},87528:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});class r{constructor(...e){this.isDisposed=!1,this.disposables=e}add(e){this.isDisposed?e.dispose():this.disposables.push(e)}remove(e){let t=!1;if(!this.isDisposed){const n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t}clear(){if(!this.isDisposed){const e=this.disposables.length,t=new Array(e);for(let n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(let n=0;n<e;n++)t[n].dispose()}}dispose(){if(!this.isDisposed){this.isDisposed=!0;const e=this.disposables.length,t=new Array(e);for(let n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(let n=0;n<e;n++)t[n].dispose()}}}},745875:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});var r=n(892836);class i{constructor(e){this.isDisposed=!1,this.action=(0,r.mf)(e)?e:r.ZT}static isDisposable(e){return e&&(0,r.mf)(e.dispose)}static _fixup(e){return i.isDisposable(e)?e:i.empty}static create(e){return new i(e)}dispose(){this.isDisposed||(this.action(),this.isDisposed=!0)}}i.empty={dispose:r.ZT}},783742:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});class r{constructor(){this.isDisposed=!1}getDisposable(){return this.current}setDisposable(e){const t=this.isDisposed;if(!t){const t=this.current;this.current=e,t&&t.dispose()}t&&e&&e.dispose()}dispose(){if(!this.isDisposed){this.isDisposed=!0;const e=this.current;this.current=void 0,e&&e.dispose()}}}},92489:(e,t,n)=>{"use strict";n.d(t,{JT:()=>r.J,M$:()=>i.M,Xz:()=>o.X});var r=n(745875),i=n(783742),o=n(87528)},313057:(e,t,n)=>{"use strict";function r(e){const t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}n.d(t,{A:()=>r})},506253:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e&&e.hasOwnProperty("current")}n.d(t,{d:()=>r})},663151:(e,t,n)=>{"use strict";function r(e){return(t=e)&&t.prototype&&"function"==typeof t.prototype.render||function(e){return e&&e.$$typeof&&"Symbol(react.forward_ref)"===e.$$typeof.toString()}(e);var t}n.d(t,{J:()=>r})},211965:(e,t,n)=>{"use strict";function r(e,t){return"string"==typeof e||"symbol"==typeof e||!!t&&Array.isArray(e)&&e.every((e=>r(e,!1)))}n.d(t,{Z:()=>r})},389420:()=>{"use strict";String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})},116715:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(667294),i=n(306504);n(389420);function o(e){return(t=null,n=null)=>{if(!(0,r.isValidElement)(t)){const r=t;return e(r,n),r}const o=t;!function(e){if("string"==typeof e.type)return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}(o);const s=n?t=>e(t,n):e;return(0,i.Z)(o,s)}}function s(e){const t={};return Object.keys(e).forEach((n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const e=o(r);t[n]=()=>e}})),t}},257761:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(667294),o=a(i),s=a(n(45697));function a(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scrollListener=n.scrollListener.bind(n),n.eventListenerOptions=n.eventListenerOptions.bind(n),n.mousewheelListener=n.mousewheelListener.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(n){}return e}},{key:"eventListenerOptions",value:function(){this.props.useCapture;return this.isPassiveSupported()?{useCapture:this.props.useCapture,passive:!0}:{passive:!1}}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,n=this.getParentElement(e),r=void 0;if(this.props.useWindow){var i=document.documentElement||document.body.parentNode||document.body,o=void 0!==t.pageYOffset?t.pageYOffset:i.scrollTop;r=this.props.isReverse?o:this.calculateOffset(e,o)}else r=this.props.isReverse?n.scrollTop:e.scrollHeight-n.scrollTop-n.clientHeight;r<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=n.scrollHeight,this.beforeScrollTop=n.scrollTop,"function"==typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),n=t.children,r=t.element,i=t.hasMore,s=(t.initialLoad,t.isReverse),a=t.loader,c=(t.loadMore,t.pageStart,t.ref),u=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));u.ref=function(t){e.scrollComponent=t,c&&c(t)};var l=[n];return i&&(a?s?l.unshift(a):l.push(a):this.defaultLoader&&(s?l.unshift(this.defaultLoader):l.push(this.defaultLoader))),o.default.createElement(r,u,l)}}]),t}(i.Component);c.propTypes={children:s.default.node.isRequired,element:s.default.node,hasMore:s.default.bool,initialLoad:s.default.bool,isReverse:s.default.bool,loader:s.default.node,loadMore:s.default.func.isRequired,pageStart:s.default.number,ref:s.default.func,getScrollParent:s.default.func,threshold:s.default.number,useCapture:s.default.bool,useWindow:s.default.bool},c.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=c,e.exports=t.default},200246:(e,t,n)=>{e.exports=n(257761)},869921:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,E=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case a:case s:case d:return e;default:switch(e=e&&e.$$typeof){case u:case h:case y:case g:case c:return e;default:return t}}case i:return t}}}function w(e){return _(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=y,t.Memo=g,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=d,t.isAsyncMode=function(e){return w(e)||_(e)===l},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===u},t.isContextProvider=function(e){return _(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===y},t.isMemo=function(e){return _(e)===g},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===a||e===s||e===d||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===h||e.$$typeof===b||e.$$typeof===v||e.$$typeof===E||e.$$typeof===m)},t.typeOf=_},659864:(e,t,n)=>{"use strict";e.exports=n(869921)},14890:(e,t,n)=>{"use strict";n.d(t,{MT:()=>c});n(601413);function r(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var i="function"==typeof Symbol&&Symbol.observable||"@@observable",o=function(){return Math.random().toString(36).substring(7).split("").join(".")},s={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function a(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function c(e,t,n){var o;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(r(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(r(1));return n(c)(e,t)}if("function"!=typeof e)throw new Error(r(2));var u=e,l=t,f=[],h=f,d=!1;function p(){h===f&&(h=f.slice())}function g(){if(d)throw new Error(r(3));return l}function y(e){if("function"!=typeof e)throw new Error(r(4));if(d)throw new Error(r(5));var t=!0;return p(),h.push(e),function(){if(t){if(d)throw new Error(r(6));t=!1,p();var n=h.indexOf(e);h.splice(n,1),f=null}}}function m(e){if(!a(e))throw new Error(r(7));if(void 0===e.type)throw new Error(r(8));if(d)throw new Error(r(9));try{d=!0,l=u(l,e)}finally{d=!1}for(var t=f=h,n=0;n<t.length;n++){(0,t[n])()}return e}return m({type:s.INIT}),(o={dispatch:m,subscribe:y,getState:g,replaceReducer:function(e){if("function"!=typeof e)throw new Error(r(10));u=e,m({type:s.REPLACE})}})[i]=function(){var e,t=y;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(r(11));function n(){e.next&&e.next(g())}return n(),{unsubscribe:t(n)}}})[i]=function(){return this},e},o}},772453:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeWellKnownAuthMetadata=function(e,t){if(e===o.UNPARSEABLE_AUTH_TYPE||e===o.UNKNOWN_RESERVED_AUTH_TYPE)throw new Error(`Illegal WellKnownAuthType[${e.toString()}]. Only allowed AuthType should be used`);const n=(0,i.createBuffer)(a);return n.writeUInt8(e.identifier|l),r.LiteBuffer.concat([n,t])},t.encodeCustomAuthMetadata=function(e,t){const n=(0,i.toBuffer)(e);if(n.byteLength!==e.length)throw new Error("Custom auth type must be US_ASCII characters only");if(n.byteLength<1||n.byteLength>128)throw new Error("Custom auth type must have a strictly positive length that fits on 7 unsigned bits, ie 1-128");const o=(0,i.createBuffer)(c+n.byteLength);return o.writeUInt8(n.byteLength-1),o.write(e,c),r.LiteBuffer.concat([o,t])},t.encodeSimpleAuthMetadata=function(e,t){const n=(0,i.toBuffer)(e),s=(0,i.toBuffer)(t),c=n.byteLength;if(c>65535)throw new Error(`Username should be shorter than or equal to 65535 bytes length in UTF-8 encoding but the given was ${c}`);const f=a+u,h=(0,i.createBuffer)(f);return h.writeUInt8(o.SIMPLE.identifier|l),h.writeUInt16BE(c,1),r.LiteBuffer.concat([h,n,s])},t.encodeBearerAuthMetadata=function(e){const t=(0,i.toBuffer)(e),n=(0,i.createBuffer)(a);return n.writeUInt8(o.BEARER.identifier|l),r.LiteBuffer.concat([n,t])},t.decodeAuthMetadata=function(e){if(e.byteLength<1)throw new Error("Unable to decode Auth metadata. Not enough readable bytes");const t=e.readUInt8(),n=t&f;if(n!==t){const t=o.default.fromIdentifier(n);return{payload:e.slice(1),type:{identifier:t.identifier,string:t.string}}}{const n=t+1;if(e.byteLength<n+c)throw new Error("Unable to decode custom Auth type. Malformed length or auth type string");const r=e.toString("utf8",c,c+n);return{payload:e.slice(n+c),type:{identifier:o.UNPARSEABLE_AUTH_TYPE.identifier,string:r}}}},t.decodeSimpleAuthPayload=function(e){if(e.byteLength<u)throw new Error("Unable to decode Simple Auth Payload. Not enough readable bytes");const t=e.readUInt16BE();if(e.byteLength<t+u)throw new Error("Unable to decode Simple Auth Payload. Not enough readable bytes");const n=e.slice(u,u+t);return{password:e.slice(u+t),username:n}};var r=n(167771),i=n(23502),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(948063));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}const a=1,c=1,u=2,l=128,f=127},126145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeCompositeMetadata=function(e){let t=(0,i.createBuffer)(0);for(const[n,r]of e){const e="function"==typeof r?r():r;t=n instanceof o.default||"number"==typeof n||"WellKnownMimeType"===n.constructor.name?u(t,n,e):c(t,n,e)}return t},t.encodeAndAddCustomMetadata=c,t.encodeAndAddWellKnownMetadata=u,t.decodeMimeAndContentBuffersSlices=l,t.decodeMimeTypeFromMimeBuffer=f,t.encodeCustomMetadataHeader=h,t.encodeWellKnownMetadataHeader=d,t.decodeCompositeMetadata=p,t.WellKnownMimeTypeEntry=t.ReservedMimeTypeEntry=t.ExplicitMimeTimeEntry=t.CompositeMetadata=void 0;var r=n(167771),i=n(23502),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(988369));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}class a{constructor(e){this._buffer=e}iterator(){return p(this._buffer)}[Symbol.iterator](){return p(this._buffer)}}function c(e,t,n){return r.LiteBuffer.concat([e,h(t,n.byteLength),n])}function u(e,t,n){let i;return i=Number.isInteger(t)?t:t.identifier,r.LiteBuffer.concat([e,d(i,n.byteLength),n])}function l(e,t){const n=e.readInt8(t);let r,o=t;if((n&E)===E)r=e.slice(o,o+1),o+=1;else{const t=1+(255&n);if(!(e.byteLength>o+t))throw new Error("Metadata is malformed. Inappropriately formed Mime Length");r=e.slice(o,o+t+1),o+=t+1}if(e.byteLength>=o+3){const t=(0,i.readUInt24BE)(e,o);if(o+=3,e.byteLength>=t+o){return[r,e.slice(o,o+t)]}throw new Error("Metadata is malformed. Inappropriately formed Metadata Length or malformed content")}throw new Error("Metadata is malformed. Metadata Length is absent or malformed")}function f(e){if(e.length<2)throw new Error("Unable to decode explicit MIME type");return e.toString("ascii",1)}function h(e,t){const n=(0,i.createBuffer)(4+e.length),r=n.write(e,1);if(!function(e,t){let n=!0;for(let r=t,i=e.length;r<i;r++)if(e[r]>127){n=!1;break}return n}(n,1))throw new Error("Custom mime type must be US_ASCII characters only");if(r<1||r>128)throw new Error("Custom mime type must have a strictly positive length that fits on 7 unsigned bits, ie 1-128");return n.writeUInt8(r-1),(0,i.writeUInt24BE)(n,t,r+1),n}function d(e,t){const n=r.LiteBuffer.alloc(4);return n.writeUInt8(e|E),(0,i.writeUInt24BE)(n,t,1),n}function*p(e){const t=e.byteLength;let n=0;for(;n<t;){const t=l(e,n),i=t[0],s=t[1];if(r=s,n=n+i.byteLength+3+r.byteLength,!v(i)){const e=f(i);if(!e)throw new Error("MIME type cannot be null");yield new g(s,e);continue}const a=b(i),c=o.default.fromIdentifier(a);o.UNKNOWN_RESERVED_MIME_TYPE!==c?yield new m(s,c):yield new y(s,a)}var r}t.CompositeMetadata=a;class g{constructor(e,t){this._content=e,this._type=t}get content(){return this._content}get mimeType(){return this._type}}t.ExplicitMimeTimeEntry=g;class y{constructor(e,t){this._content=e,this._type=t}get content(){return this._content}get mimeType(){}get type(){return this._type}}t.ReservedMimeTypeEntry=y;class m{constructor(e,t){this._content=e,this._type=t}get content(){return this._content}get mimeType(){return this._type.string}get type(){return this._type}}function b(e){return v(e)?e.readInt8()&_:o.UNPARSEABLE_MIME_TYPE.identifier}function v(e){return 1===e.byteLength}t.WellKnownMimeTypeEntry=m;const E=128,_=127},101482:e=>{"use strict";e.exports=function(e,t,...n){if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let r=0;e=new Error(t.replace(/%s/g,(()=>String(n[r++])))),e.name="Invariant Violation"}throw e.framesToPop=1,e}}},167771:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LiteBuffer=t.Buffer=void 0;var r,i=(r=n(485375))&&r.__esModule?r:{default:r};const o=void 0!==n.g&&n.g.hasOwnProperty("Buffer"),s=i.default.hasOwnProperty("Buffer");function a(e){return null==e||"utf8"===e||"utf-8"===e?"utf8":function(e){switch(e.length){case 4:if("UTF8"===e)return"utf8";if("ucs2"===e||"UCS2"===e)return"utf16le";if("utf8"===(e=`${e}`.toLowerCase()))return"utf8";if("ucs2"===e)return"utf16le";break;case 3:if("hex"===e||"HEX"===e||"hex"===`${e}`.toLowerCase())return"hex";break;case 5:if("ascii"===e)return"ascii";if("ucs-2"===e)return"utf16le";if("UTF-8"===e)return"utf8";if("ASCII"===e)return"ascii";if("UCS-2"===e)return"utf16le";if("utf-8"===(e=`${e}`.toLowerCase()))return"utf8";if("ascii"===e)return"ascii";if("ucs-2"===e)return"utf16le";break;case 6:if("base64"===e)return"base64";if("latin1"===e||"binary"===e)return"latin1";if("BASE64"===e)return"base64";if("LATIN1"===e||"BINARY"===e)return"latin1";if("base64"===(e=`${e}`.toLowerCase()))return"base64";if("latin1"===e||"binary"===e)return"latin1";break;case 7:if("utf16le"===e||"UTF16LE"===e||"utf16le"===`${e}`.toLowerCase())return"utf16le";break;case 8:if("utf-16le"===e||"UTF-16LE"===e||"utf-16le"===`${e}`.toLowerCase())return"utf16le";break;default:if(""===e)return"utf8"}}(e)}function c(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}const u=["base64","hex","ascii","binary","latin1","ucs2","utf16le"];function l(e="utf8",t=!0){if("string"!=typeof e||t&&""===e){if(!t)return"utf8";throw new TypeError(`Unknown encoding: ${e}`)}const n=a(e);if(void 0===n)throw new TypeError(`Unknown encoding: ${e}`);return u.includes(e)&&function(e){throw new Error(e?`Not implemented: ${e}`:"Not implemented")}(`"${e}" encoding`),n}const f={ascii:{byteLength:e=>e.length},base64:{byteLength:e=>function(e,t){61===e.charCodeAt(t-1)&&t--;t>1&&61===e.charCodeAt(t-1)&&t--;return 3*t>>>2}(e,e.length)},hex:{byteLength:e=>e.length>>>1},latin1:{byteLength:e=>e.length},ucs2:{byteLength:e=>2*e.length},utf16le:{byteLength:e=>2*e.length},utf8:{byteLength:e=>d(e).length}};const h=4096;function d(e,t=1/0){let n,r=t;const i=e.length;let o=null;const s=[];for(let a=0;a<i;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(r-=3)>-1&&s.push(239,191,189);continue}if(a+1===i){(r-=3)>-1&&s.push(239,191,189);continue}o=n;continue}if(n<56320){(r-=3)>-1&&s.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(r-=3)>-1&&s.push(239,191,189);if(o=null,n<128){if((r-=1)<0)break;s.push(n)}else if(n<2048){if((r-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((r-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function p(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,a,c;switch(s){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(o=c));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){const t=e.length;if(t<=h)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=h));return n}(r)}class g extends Uint8Array{constructor(e,t,n){if("number"==typeof e)super(e);else{super(e,t||0,n||(c(e,Array)?e.length:e.byteLength))}}static alloc(e,t=0,n="utf8"){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);const r=new g(e);if(0===e)return r;let i;if("string"==typeof t)n=l(n),1===t.length&&"utf8"===n?r.fill(t.charCodeAt(0)):i=g.from(t,n);else if("number"==typeof t)r.fill(t);else if(c(t,Uint8Array)){if(0===t.length)throw new TypeError(`The argument "value" is invalid. Received ${t.constructor.name} []`);i=t}if(i){i.length>r.length&&(i=i.subarray(0,r.length));let t=0;for(;t<e&&(r.set(i,t),t+=i.length,!(t+i.length>=e)););t!==e&&r.set(i.subarray(0,e-t),t)}return r}static allocUnsafe(e){return new g(e)}static byteLength(e,t="utf8"){return"string"!=typeof e?e.byteLength:(t=a(t)||"utf8",f[t].byteLength(e))}static concat(e,t){if(null==t){t=0;for(const n of e)t+=n.length}const n=new g(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}static from(e,t,n){const r="string"==typeof t?void 0:t;let i="string"==typeof t?t:void 0;if("string"==typeof e||"String"===e.constructor.name){if(e=e.toString(),i=l(i,!1),"utf8"===i)return"undefined"!=typeof TextEncoder?new g((new TextEncoder).encode(e).buffer):new g(d(e));throw new TypeError("Unknown encoding: "+i)}return new g(e,r,n)}static isBuffer(e){return c(e,g)||!o&&s&&c(e,Uint8Array)}static isEncoding(e){return"string"==typeof e&&0!==e.length&&void 0!==a(e)}copy(e,t=0,n=0,r=this.length){const i=this.subarray(n,r);return e.set(i,t),i.length}equals(e){if(!c(e,Uint8Array))throw new TypeError('The "otherBuffer" argument must be an instance of Buffer or Uint8Array. Received type '+typeof e);if(this===e)return!0;if(this.byteLength!==e.byteLength)return!1;for(let t=0;t<this.length;t++)if(this[t]!==e[t])return!1;return!0}readDoubleBE(e=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getFloat64(e)}readDoubleLE(e=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getFloat64(e,!0)}readFloatBE(e=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getFloat32(e)}readFloatLE(e=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getFloat32(e,!0)}readInt8(e=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getInt8(e)}readInt16BE(e=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getInt16(e)}readInt16LE(e=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getInt16(e,!0)}readInt32BE(e=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getInt32(e)}readInt32LE(e=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getInt32(e,!0)}readUInt8(e=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getUint8(e)}readUInt16BE(e=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getUint16(e)}readUInt16LE(e=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getUint16(e,!0)}readUInt32BE(e=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getUint32(e)}readUInt32LE(e=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).getUint32(e,!0)}slice(e=0,t=this.length){return this.subarray(e,t)}subarray(e=0,t=this.length){return new g(super.subarray(e,t))}toJSON(){return{data:Array.from(this),type:"Buffer"}}toString(e="utf8",t=0,n=this.length){if(e=l(e),"undefined"!=typeof TextDecoder){const e=this.subarray(t,n);return(new TextDecoder).decode(e)}return this.slowToString(e,t,n)}slowToString(e="utf8",t=0,n=this.length){if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";if("utf8"===(e=l(e)))return p(this,t,n);throw new TypeError("Unsupported encoding: "+e)}write(e,t=0,n=this.length,r="utf8"){if("utf8"===(r=l(r))){if("undefined"!=typeof TextEncoder){const r=(new TextEncoder).encode(e);return this.set(r,t),r.byteLength>n-t?n-t:r.byteLength}return function(e,t,n,r){return function(e,t,n,r){let i=0;for(;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}(d(t,e.length-n),e,n,r)}(this,e,t,n)}throw new TypeError("Unknown encoding: "+r)}writeDoubleBE(e,t=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setFloat64(t,e),t+8}writeDoubleLE(e,t=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setFloat64(t,e,!0),t+8}writeFloatBE(e,t=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setFloat32(t,e),t+4}writeFloatLE(e,t=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setFloat32(t,e,!0),t+4}writeInt8(e,t=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setInt8(t,e),t+1}writeInt16BE(e,t=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setInt16(t,e),t+2}writeInt16LE(e,t=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setInt16(t,e,!0),t+2}writeInt32BE(e,t=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setUint32(t,e),t+4}writeInt32LE(e,t=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setInt32(t,e,!0),t+4}writeUInt8(e,t=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setUint8(t,e),t+1}writeUInt16BE(e,t=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setUint16(t,e),t+2}writeUInt16LE(e,t=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setUint16(t,e,!0),t+2}writeUInt32BE(e,t=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setUint32(t,e),t+4}writeUInt32LE(e,t=0){return new DataView(this.buffer,this.byteOffset,this.byteLength).setUint32(t,e,!0),t+4}}t.Buffer=g,o||(s&&Object.defineProperty(i.default,"Buffer",{configurable:!0,enumerable:!1,value:g,writable:!0}),Object.defineProperty(window,"Buffer",{configurable:!0,enumerable:!1,value:g,writable:!0}));const y=o?n.g.Buffer:g;t.LiteBuffer=y},454776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeFrameWithLength=function(e,t){const n=(0,a.readUInt24BE)(e,0);return l(e.slice(u,u+n),t)},t.deserializeFrames=function(e,t){const n=[];let r=0;for(;r+u<e.length;){const i=(0,a.readUInt24BE)(e,r),o=r+u,s=o+i;if(s>e.length)break;const c=l(e.slice(o,s),t);n.push(c),r=s}return[n,e.slice(r,e.length)]},t.serializeFrameWithLength=function(e,t){const n=f(e,t),r=(0,a.createBuffer)(n.length+u);return(0,a.writeUInt24BE)(r,n.length,0),n.copy(r,u,0,n.length),r},t.deserializeFrame=l,t.serializeFrame=f,t.sizeOfFrame=function(e,t){switch(t=t||s.Utf8Encoders,e.type){case o.FRAME_TYPES.SETUP:return function(e,t){const n=null!=e.resumeToken?t.resumeToken.byteLength(e.resumeToken):0,r=null!=e.metadataMimeType?t.metadataMimeType.byteLength(e.metadataMimeType):0,i=null!=e.dataMimeType?t.dataMimeType.byteLength(e.dataMimeType):0,o=w(e,t);return c+h+(n?d+n:0)+r+i+o}(e,t);case o.FRAME_TYPES.PAYLOAD:return function(e,t){const n=w(e,t);return c+n}(e,t);case o.FRAME_TYPES.ERROR:return function(e,t){const n=null!=e.message?t.message.byteLength(e.message):0;return c+p+n}(e,t);case o.FRAME_TYPES.KEEPALIVE:return function(e,t){const n=null!=e.data?t.data.byteLength(e.data):0;return c+g+n}(e,t);case o.FRAME_TYPES.REQUEST_FNF:case o.FRAME_TYPES.REQUEST_RESPONSE:return function(e,t){const n=w(e,t);return c+n}(e,t);case o.FRAME_TYPES.REQUEST_STREAM:case o.FRAME_TYPES.REQUEST_CHANNEL:return function(e,t){const n=w(e,t);return c+m+n}(e,t);case o.FRAME_TYPES.METADATA_PUSH:return function(e,t){return c+(null!=e.metadata?t.metadata.byteLength(e.metadata):0)}(e,t);case o.FRAME_TYPES.REQUEST_N:return c+b;case o.FRAME_TYPES.RESUME:return function(e,t){const n=t.resumeToken.byteLength(e.resumeToken);return c+v+n}(e,t);case o.FRAME_TYPES.RESUME_OK:return c+E;case o.FRAME_TYPES.CANCEL:return c;case o.FRAME_TYPES.LEASE:return function(e,t){const n=null!=e.metadata?t.metadata.byteLength(e.metadata):0;return c+y+n}(e,t);default:(0,i.default)(!1,"RSocketBinaryFraming: Unsupported frame type `%s`.",(0,o.getFrameTypeName)(e.type))}};var r,i=(r=n(101482))&&r.__esModule?r:{default:r},o=n(941148),s=n(859882),a=n(23502);const c=6,u=3;function l(e,t){t=t||s.Utf8Encoders;let n=0;const r=e.readInt32BE(n);n+=4,(0,i.default)(r>=0,"RSocketBinaryFraming: Invalid frame, expected a positive stream id, got `%s.",r);const u=e.readUInt16BE(n);n+=2;const l=u>>>o.FRAME_TYPE_OFFFSET,f=u&o.FLAGS_MASK;switch(l){case o.FRAME_TYPES.SETUP:return function(e,t,n,r){(0,i.default)(0===t,"RSocketBinaryFraming: Invalid SETUP frame, expected stream id to be 0.");const s=e.length;let a=c;const u=e.readUInt16BE(a);a+=2;const l=e.readUInt16BE(a);a+=2;const f=e.readInt32BE(a);a+=4,(0,i.default)(f>=0&&f<=o.MAX_KEEPALIVE,"RSocketBinaryFraming: Invalid SETUP frame, expected keepAlive to be >= 0 and <= %s. Got `%s`.",o.MAX_KEEPALIVE,f);const h=e.readInt32BE(a);a+=4,(0,i.default)(h>=0&&h<=o.MAX_LIFETIME,"RSocketBinaryFraming: Invalid SETUP frame, expected lifetime to be >= 0 and <= %s. Got `%s`.",o.MAX_LIFETIME,h);let d=null;if(n&o.FLAGS.RESUME_ENABLE){const t=e.readInt16BE(a);a+=2,(0,i.default)(t>=0&&t<=o.MAX_RESUME_LENGTH,"RSocketBinaryFraming: Invalid SETUP frame, expected resumeToken length to be >= 0 and <= %s. Got `%s`.",o.MAX_RESUME_LENGTH,t),d=r.resumeToken.decode(e,a,a+t),a+=t}const p=e.readUInt8(a);a+=1;const g=r.metadataMimeType.decode(e,a,a+p);a+=p;const y=e.readUInt8(a);a+=1;const m=r.dataMimeType.decode(e,a,a+y);a+=y;const b={data:null,dataMimeType:m,flags:n,keepAlive:f,length:s,lifetime:h,majorVersion:u,metadata:null,metadataMimeType:g,minorVersion:l,resumeToken:d,streamId:t,type:o.FRAME_TYPES.SETUP};return O(e,b,r,a),b}(e,r,f,t);case o.FRAME_TYPES.PAYLOAD:return function(e,t,n,r){(0,i.default)(t>0,"RSocketBinaryFraming: Invalid PAYLOAD frame, expected stream id to be > 0.");const s=e.length,a={data:null,flags:n,length:s,metadata:null,streamId:t,type:o.FRAME_TYPES.PAYLOAD};return O(e,a,r,c),a}(e,r,f,t);case o.FRAME_TYPES.ERROR:return function(e,t,n,r){const s=e.length;let a=c;const u=e.readInt32BE(a);a+=4,(0,i.default)(u>=0&&u<=o.MAX_CODE,"RSocketBinaryFraming: Invalid ERROR frame, expected code to be >= 0 and <= %s. Got `%s`.",o.MAX_CODE,u);const l=e.length-a;let f="";l>0&&(f=r.message.decode(e,a,a+l),a+=l);return{code:u,flags:n,length:s,message:f,streamId:t,type:o.FRAME_TYPES.ERROR}}(e,r,f,t);case o.FRAME_TYPES.KEEPALIVE:return function(e,t,n,r){(0,i.default)(0===t,"RSocketBinaryFraming: Invalid KEEPALIVE frame, expected stream id to be 0.");const s=e.length;let u=c;const l=(0,a.readUInt64BE)(e,u);u+=8;let f=null;u<e.length&&(f=r.data.decode(e,u,e.length));return{data:f,flags:n,lastReceivedPosition:l,length:s,streamId:t,type:o.FRAME_TYPES.KEEPALIVE}}(e,r,f,t);case o.FRAME_TYPES.REQUEST_FNF:return function(e,t,n,r){(0,i.default)(t>0,"RSocketBinaryFraming: Invalid REQUEST_FNF frame, expected stream id to be > 0.");const s=e.length,a={data:null,flags:n,length:s,metadata:null,streamId:t,type:o.FRAME_TYPES.REQUEST_FNF};return O(e,a,r,c),a}(e,r,f,t);case o.FRAME_TYPES.REQUEST_RESPONSE:return function(e,t,n,r){(0,i.default)(t>0,"RSocketBinaryFraming: Invalid REQUEST_RESPONSE frame, expected stream id to be > 0.");const s=e.length,a={data:null,flags:n,length:s,metadata:null,streamId:t,type:o.FRAME_TYPES.REQUEST_RESPONSE};return O(e,a,r,c),a}(e,r,f,t);case o.FRAME_TYPES.REQUEST_STREAM:return function(e,t,n,r){(0,i.default)(t>0,"RSocketBinaryFraming: Invalid REQUEST_STREAM frame, expected stream id to be > 0.");const s=e.length;let a=c;const u=e.readInt32BE(a);a+=4,(0,i.default)(u>0,"RSocketBinaryFraming: Invalid REQUEST_STREAM frame, expected requestN to be > 0, got `%s`.",u);const l={data:null,flags:n,length:s,metadata:null,requestN:u,streamId:t,type:o.FRAME_TYPES.REQUEST_STREAM};return O(e,l,r,a),l}(e,r,f,t);case o.FRAME_TYPES.REQUEST_CHANNEL:return function(e,t,n,r){(0,i.default)(t>0,"RSocketBinaryFraming: Invalid REQUEST_CHANNEL frame, expected stream id to be > 0.");const s=e.length;let a=c;const u=e.readInt32BE(a);a+=4,(0,i.default)(u>0,"RSocketBinaryFraming: Invalid REQUEST_STREAM frame, expected requestN to be > 0, got `%s`.",u);const l={data:null,flags:n,length:s,metadata:null,requestN:u,streamId:t,type:o.FRAME_TYPES.REQUEST_CHANNEL};return O(e,l,r,a),l}(e,r,f,t);case o.FRAME_TYPES.METADATA_PUSH:return function(e,t,n,r){(0,i.default)(0===t,"RSocketBinaryFraming: Invalid METADATA_PUSH frame, expected stream id to be 0.");const s=e.length;return{flags:n,length:s,metadata:s===c?null:r.metadata.decode(e,c,s),streamId:t,type:o.FRAME_TYPES.METADATA_PUSH}}(e,r,f,t);case o.FRAME_TYPES.REQUEST_N:return function(e,t,n,r){(0,i.default)(t>0,"RSocketBinaryFraming: Invalid REQUEST_N frame, expected stream id to be > 0.");const s=e.length,a=e.readInt32BE(c);return(0,i.default)(a>0,"RSocketBinaryFraming: Invalid REQUEST_STREAM frame, expected requestN to be > 0, got `%s`.",a),{flags:n,length:s,requestN:a,streamId:t,type:o.FRAME_TYPES.REQUEST_N}}(e,r,f);case o.FRAME_TYPES.RESUME:return function(e,t,n,r){(0,i.default)(0===t,"RSocketBinaryFraming: Invalid RESUME frame, expected stream id to be 0.");const s=e.length;let u=c;const l=e.readUInt16BE(u);u+=2;const f=e.readUInt16BE(u);u+=2;const h=e.readInt16BE(u);u+=2,(0,i.default)(h>=0&&h<=o.MAX_RESUME_LENGTH,"RSocketBinaryFraming: Invalid SETUP frame, expected resumeToken length to be >= 0 and <= %s. Got `%s`.",o.MAX_RESUME_LENGTH,h);const d=r.resumeToken.decode(e,u,u+h);u+=h;const p=(0,a.readUInt64BE)(e,u);u+=8;const g=(0,a.readUInt64BE)(e,u);return u+=8,{clientPosition:g,flags:n,length:s,majorVersion:l,minorVersion:f,resumeToken:d,serverPosition:p,streamId:t,type:o.FRAME_TYPES.RESUME}}(e,r,f,t);case o.FRAME_TYPES.RESUME_OK:return function(e,t,n,r){(0,i.default)(0===t,"RSocketBinaryFraming: Invalid RESUME frame, expected stream id to be 0.");const s=e.length,u=(0,a.readUInt64BE)(e,c);return{clientPosition:u,flags:n,length:s,streamId:t,type:o.FRAME_TYPES.RESUME_OK}}(e,r,f);case o.FRAME_TYPES.CANCEL:return function(e,t,n,r){(0,i.default)(t>0,"RSocketBinaryFraming: Invalid CANCEL frame, expected stream id to be > 0.");const s=e.length;return{flags:n,length:s,streamId:t,type:o.FRAME_TYPES.CANCEL}}(e,r,f);case o.FRAME_TYPES.LEASE:return function(e,t,n,r){(0,i.default)(0===t,"RSocketBinaryFraming: Invalid LEASE frame, expected stream id to be 0.");const s=e.length;let a=c;const u=e.readUInt32BE(a);a+=4;const l=e.readUInt32BE(a);a+=4;let f=null;a<e.length&&(f=r.metadata.decode(e,a,e.length));return{flags:n,length:s,metadata:f,requestCount:l,streamId:t,ttl:u,type:o.FRAME_TYPES.LEASE}}(e,r,f,t);default:(0,i.default)(!1,"RSocketBinaryFraming: Unsupported frame type `%s`.",(0,o.getFrameTypeName)(l))}}function f(e,t){switch(t=t||s.Utf8Encoders,e.type){case o.FRAME_TYPES.SETUP:return function(e,t){const n=null!=e.resumeToken?t.resumeToken.byteLength(e.resumeToken):0,r=null!=e.metadataMimeType?t.metadataMimeType.byteLength(e.metadataMimeType):0,i=null!=e.dataMimeType?t.dataMimeType.byteLength(e.dataMimeType):0,s=w(e,t),u=(0,a.createBuffer)(c+h+(n?d+n:0)+r+i+s);let l=_(e,u);l=u.writeUInt16BE(e.majorVersion,l),l=u.writeUInt16BE(e.minorVersion,l),l=u.writeUInt32BE(e.keepAlive,l),l=u.writeUInt32BE(e.lifetime,l),e.flags&o.FLAGS.RESUME_ENABLE&&(l=u.writeUInt16BE(n,l),null!=e.resumeToken&&(l=t.resumeToken.encode(e.resumeToken,u,l,l+n)));l=u.writeUInt8(r,l),null!=e.metadataMimeType&&(l=t.metadataMimeType.encode(e.metadataMimeType,u,l,l+r));l=u.writeUInt8(i,l),null!=e.dataMimeType&&(l=t.dataMimeType.encode(e.dataMimeType,u,l,l+i));return S(e,u,t,l),u}(e,t);case o.FRAME_TYPES.PAYLOAD:return function(e,t){const n=w(e,t),r=(0,a.createBuffer)(c+n),i=_(e,r);return S(e,r,t,i),r}(e,t);case o.FRAME_TYPES.ERROR:return function(e,t){const n=null!=e.message?t.message.byteLength(e.message):0,r=(0,a.createBuffer)(c+p+n);let i=_(e,r);i=r.writeUInt32BE(e.code,i),null!=e.message&&t.message.encode(e.message,r,i,i+n);return r}(e,t);case o.FRAME_TYPES.KEEPALIVE:return function(e,t){const n=null!=e.data?t.data.byteLength(e.data):0,r=(0,a.createBuffer)(c+g+n);let i=_(e,r);i=(0,a.writeUInt64BE)(r,e.lastReceivedPosition,i),null!=e.data&&t.data.encode(e.data,r,i,i+n);return r}(e,t);case o.FRAME_TYPES.REQUEST_FNF:case o.FRAME_TYPES.REQUEST_RESPONSE:return function(e,t){const n=w(e,t),r=(0,a.createBuffer)(c+n),i=_(e,r);return S(e,r,t,i),r}(e,t);case o.FRAME_TYPES.REQUEST_STREAM:case o.FRAME_TYPES.REQUEST_CHANNEL:return function(e,t){const n=w(e,t),r=(0,a.createBuffer)(c+m+n);let i=_(e,r);return i=r.writeUInt32BE(e.requestN,i),S(e,r,t,i),r}(e,t);case o.FRAME_TYPES.METADATA_PUSH:return function(e,t){const n=e.metadata;if(null!=n){const r=(0,a.createBuffer)(c+t.metadata.byteLength(n)),i=_(e,r);return t.metadata.encode(n,r,i,r.length),r}{const t=(0,a.createBuffer)(c);return _(e,t),t}}(e,t);case o.FRAME_TYPES.REQUEST_N:return function(e,t){const n=(0,a.createBuffer)(c+b),r=_(e,n);return n.writeUInt32BE(e.requestN,r),n}(e);case o.FRAME_TYPES.RESUME:return function(e,t){const n=t.resumeToken.byteLength(e.resumeToken),r=(0,a.createBuffer)(c+v+n);let i=_(e,r);return i=r.writeUInt16BE(e.majorVersion,i),i=r.writeUInt16BE(e.minorVersion,i),i=r.writeUInt16BE(n,i),i=t.resumeToken.encode(e.resumeToken,r,i,i+n),i=(0,a.writeUInt64BE)(r,e.serverPosition,i),(0,a.writeUInt64BE)(r,e.clientPosition,i),r}(e,t);case o.FRAME_TYPES.RESUME_OK:return function(e,t){const n=(0,a.createBuffer)(c+E),r=_(e,n);return(0,a.writeUInt64BE)(n,e.clientPosition,r),n}(e);case o.FRAME_TYPES.CANCEL:return function(e,t){const n=(0,a.createBuffer)(c);return _(e,n),n}(e);case o.FRAME_TYPES.LEASE:return function(e,t){const n=null!=e.metadata?t.metadata.byteLength(e.metadata):0,r=(0,a.createBuffer)(c+y+n);let i=_(e,r);i=r.writeUInt32BE(e.ttl,i),i=r.writeUInt32BE(e.requestCount,i),null!=e.metadata&&t.metadata.encode(e.metadata,r,i,i+n);return r}(e,t);default:(0,i.default)(!1,"RSocketBinaryFraming: Unsupported frame type `%s`.",(0,o.getFrameTypeName)(e.type))}}const h=14,d=2;const p=4;const g=8;const y=8;const m=4;const b=4;const v=22;const E=8;function _(e,t){const n=t.writeInt32BE(e.streamId,0);return t.writeUInt16BE(e.type<<o.FRAME_TYPE_OFFFSET|e.flags&o.FLAGS_MASK,n)}function w(e,t){let n=0;return null!=e.data&&(n+=t.data.byteLength(e.data)),(0,o.isMetadata)(e.flags)&&(n+=u,null!=e.metadata&&(n+=t.metadata.byteLength(e.metadata))),n}function S(e,t,n,r){if((0,o.isMetadata)(e.flags))if(null!=e.metadata){const i=n.metadata.byteLength(e.metadata);r=(0,a.writeUInt24BE)(t,i,r),r=n.metadata.encode(e.metadata,t,r,r+i)}else r=(0,a.writeUInt24BE)(t,0,r);null!=e.data&&n.data.encode(e.data,t,r,t.length)}function O(e,t,n,r){if((0,o.isMetadata)(t.flags)){const i=(0,a.readUInt24BE)(e,r);r+=u,i>0&&(t.metadata=n.metadata.decode(e,r,r+i),r+=i)}r<e.length&&(t.data=n.data.decode(e,r,e.length))}},23502:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readUInt24BE=function(e,t){const n=e.readUInt8(t)<<16,r=e.readUInt8(t+1)<<8,i=e.readUInt8(t+2);return n|r|i},t.writeUInt24BE=function(e,t,n){return n=e.writeUInt8(t>>>16,n),n=e.writeUInt8(t>>>8&255,n),e.writeUInt8(255&t,n)},t.readUInt64BE=function(e,t){const n=e.readUInt32BE(t),r=e.readUInt32BE(t+4);return n*i+r},t.writeUInt64BE=function(e,t,n){const r=t/i|0,o=t%i;return n=e.writeUInt32BE(r,n),e.writeUInt32BE(o,n)},t.byteLength=function(e,t){if(null==e)return 0;return r.LiteBuffer.byteLength(e,t)},t.createBuffer=t.toBuffer=void 0;var r=n(167771);const i=4294967296;const o="function"==typeof r.LiteBuffer.from?(...e)=>e[0]instanceof r.LiteBuffer?e[0]:r.LiteBuffer.from.apply(r.LiteBuffer,e):(...e)=>e[0]instanceof r.LiteBuffer?e[0]:new(r.LiteBuffer.bind.apply(r.LiteBuffer,[r.LiteBuffer,...e]));t.toBuffer=o;const s="function"==typeof r.LiteBuffer.alloc?e=>r.LiteBuffer.alloc(e):e=>new r.LiteBuffer(e).fill(0);t.createBuffer=s},796694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(767956),o=(r=n(101482))&&r.__esModule?r:{default:r},s=n(941148),a=n(418605),c=n(528491),u=n(652307),l=n(832806),f=n(691357);t.default=class{constructor(e){this._checkConfig(e),this._cancel=null,this._config=e,this._connection=null,this._socket=null}close(){this._config.transport.close()}connect(){return(0,o.default)(!this._connection,"RSocketClient: Unexpected call to connect(), already connected."),this._connection=new i.Single((e=>{const t=this._config.transport;let n;t.connectionStatus().subscribe({onNext:r=>{"CONNECTED"===r.kind?(n&&n.cancel(),e.onComplete(new h(this._config,new f.ReassemblyDuplexConnection(t)))):"ERROR"===r.kind?(n&&n.cancel(),e.onError(r.error)):"CLOSED"===r.kind&&(n&&n.cancel(),e.onError(new Error("RSocketClient: Connection closed.")))},onSubscribe:r=>{n=r,e.onSubscribe((()=>{r.cancel(),t.close()})),n.request(Number.MAX_SAFE_INTEGER)}}),t.connect()})),this._connection}_checkConfig(e){const t=e.setup,n=t&&t.keepAlive;try{const e=window&&window.navigator;n>3e4&&e&&e.userAgent&&(e.userAgent.includes("Trident")||e.userAgent.includes("Edg"))&&console.warn("rsocket-js: Due to a browser bug, Internet Explorer and Edge users may experience WebSocket instability with keepAlive values longer than 30 seconds.")}catch(r){}}};class h{constructor(e,t){let n,r;const o=e.leases;if(o){const e=o();n=new u.RequesterLeaseHandler(e._receiver),r=new u.ResponderLeaseHandler(e._sender,e._stats)}const{keepAlive:a,lifetime:l}=e.setup;this._machine=(0,c.createClientMachine)(t,(e=>t.receive().subscribe(e)),l,e.serializers,e.responder,e.errorHandler,n,r),t.sendOne(this._buildSetupFrame(e));const f=(0,i.every)(a).map((()=>({data:null,flags:s.FLAGS.RESPOND,lastReceivedPosition:0,streamId:s.CONNECTION_STREAM_ID,type:s.FRAME_TYPES.KEEPALIVE})));t.send(f)}fireAndForget(e){this._machine.fireAndForget(e)}requestResponse(e){return this._machine.requestResponse(e)}requestStream(e){return this._machine.requestStream(e)}requestChannel(e){return this._machine.requestChannel(e)}metadataPush(e){return this._machine.metadataPush(e)}close(){this._machine.close()}connectionStatus(){return this._machine.connectionStatus()}availability(){return this._machine.availability()}_buildSetupFrame(e){const{dataMimeType:t,keepAlive:n,lifetime:r,metadataMimeType:i,payload:o}=e.setup,c=e.serializers||l.IdentitySerializers,u=o?c.data.serialize(o.data):void 0,f=o?c.metadata.serialize(o.metadata):void 0;let h=0;return void 0!==f&&(h|=s.FLAGS.METADATA),{data:u,dataMimeType:t,flags:h|(e.leases?s.FLAGS.LEASE:0),keepAlive:n,lifetime:r,majorVersion:a.MAJOR_VERSION,metadata:f,metadataMimeType:i,minorVersion:a.MINOR_VERSION,resumeToken:null,streamId:s.CONNECTION_STREAM_ID,type:s.FRAME_TYPES.SETUP}}}},859882:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BufferEncoders=t.Utf8Encoders=t.BufferEncoder=t.UTF8Encoder=void 0;var r,i=n(23502),o=(r=n(101482))&&r.__esModule?r:{default:r};const s={byteLength:e=>(0,i.byteLength)(e,"utf8"),decode:(e,t,n)=>e.toString("utf8",t,n),encode:(e,t,n,r)=>((0,o.default)("string"==typeof e,"RSocketEncoding: Expected value to be a string, got `%s`.",e),t.write(e,n,r-n,"utf8"),r)};t.UTF8Encoder=s;const a={byteLength:e=>((0,o.default)(Buffer.isBuffer(e),"RSocketEncoding: Expected value to be a buffer, got `%s`.",e),e.length),decode:(e,t,n)=>e.slice(t,n),encode:(e,t,n,r)=>((0,o.default)(Buffer.isBuffer(e),"RSocketEncoding: Expected value to be a buffer, got `%s`.",e),e.copy(t,n,0,e.length),r)};t.BufferEncoder=a;const c={data:s,dataMimeType:s,message:s,metadata:s,metadataMimeType:s,resumeToken:s};t.Utf8Encoders=c;const u={data:a,dataMimeType:s,message:s,metadata:a,metadataMimeType:s,resumeToken:a};t.BufferEncoders=u},992677:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class n extends Error{constructor(e,t){super(t),this.errorCode=e}}t.default=n},941148:(e,t)=>{"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.isIgnore=function(e){return(e&s.IGNORE)===s.IGNORE},t.isMetadata=function(e){return(e&s.METADATA)===s.METADATA},t.isComplete=function(e){return(e&s.COMPLETE)===s.COMPLETE},t.isNext=function(e){return(e&s.NEXT)===s.NEXT},t.isRespond=function(e){return(e&s.RESPOND)===s.RESPOND},t.isResumeEnable=function(e){return(e&s.RESUME_ENABLE)===s.RESUME_ENABLE},t.isLease=function(e){return(e&s.LEASE)===s.LEASE},t.isFollows=function(e){return(e&s.FOLLOWS)===s.FOLLOWS},t.isResumePositionFrameType=function(e){return e===i.CANCEL||e===i.ERROR||e===i.PAYLOAD||e===i.REQUEST_CHANNEL||e===i.REQUEST_FNF||e===i.REQUEST_RESPONSE||e===i.REQUEST_STREAM||e===i.REQUEST_N},t.getFrameTypeName=u,t.createErrorFromFrame=function(e){const{code:t,message:n}=e,r=l(t),i=new Error(function(e,...t){let n=0;return e.replace(/%s/g,(e=>t[n++]))}("RSocket error %s (%s): %s. See error `source` property for details.",f(t),r,n));return i.source={code:t,explanation:r,message:n},i},t.getErrorCodeExplanation=l,t.printFrame=function(e){const t=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},e);t.type=u(e.type)+` (${f(e.type)})`;const o=[];for(const n in s){const t=s[n];(e.flags&t)===t&&o.push(n)}o.length||o.push("NO FLAGS");t.flags=o.join(" | ")+` (${f(e.flags)})`,e.type===i.ERROR&&(t.code=l(e.code)+` (${f(e.code)})`);return JSON.stringify(t,null,2)},t.MAX_VERSION=t.MAX_TTL=t.MAX_STREAM_ID=t.MAX_RESUME_LENGTH=t.MAX_REQUEST_N=t.MAX_REQUEST_COUNT=t.MAX_MIME_LENGTH=t.MAX_METADATA_LENGTH=t.MAX_LIFETIME=t.MAX_KEEPALIVE=t.MAX_CODE=t.FRAME_TYPE_OFFFSET=t.FLAGS_MASK=t.ERROR_EXPLANATIONS=t.ERROR_CODES=t.FLAGS=t.FRAME_TYPE_NAMES=t.FRAME_TYPES=t.CONNECTION_STREAM_ID=void 0;t.CONNECTION_STREAM_ID=0;const i={CANCEL:9,ERROR:11,EXT:63,KEEPALIVE:3,LEASE:2,METADATA_PUSH:12,PAYLOAD:10,REQUEST_CHANNEL:7,REQUEST_FNF:5,REQUEST_N:8,REQUEST_RESPONSE:4,REQUEST_STREAM:6,RESERVED:0,RESUME:13,RESUME_OK:14,SETUP:1};t.FRAME_TYPES=i;const o={};t.FRAME_TYPE_NAMES=o;for(const h in i){const e=i[h];o[e]=h}const s={COMPLETE:64,FOLLOWS:128,IGNORE:512,LEASE:64,METADATA:256,NEXT:32,RESPOND:128,RESUME_ENABLE:128};t.FLAGS=s;const a={APPLICATION_ERROR:513,CANCELED:515,CONNECTION_CLOSE:258,CONNECTION_ERROR:257,INVALID:516,INVALID_SETUP:1,REJECTED:514,REJECTED_RESUME:4,REJECTED_SETUP:3,RESERVED:0,RESERVED_EXTENSION:4294967295,UNSUPPORTED_SETUP:2};t.ERROR_CODES=a;const c={};t.ERROR_EXPLANATIONS=c;for(const h in a){c[a[h]]=h}t.FLAGS_MASK=1023;t.FRAME_TYPE_OFFFSET=10;t.MAX_CODE=2147483647;t.MAX_KEEPALIVE=2147483647;t.MAX_LIFETIME=2147483647;t.MAX_METADATA_LENGTH=16777215;t.MAX_MIME_LENGTH=255;t.MAX_REQUEST_COUNT=2147483647;t.MAX_REQUEST_N=2147483647;t.MAX_RESUME_LENGTH=65535;t.MAX_STREAM_ID=2147483647;t.MAX_TTL=2147483647;function u(e){const t=o[e];return null!=t?t:f(e)}function l(e){const t=c[e];return null!=t?t:e<=768?"RESERVED (PROTOCOL)":"RESERVED (APPLICATION)"}function f(e){return"0x"+e.toString(16)}t.MAX_VERSION=65535},652307:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResponderLeaseHandler=t.RequesterLeaseHandler=t.Leases=t.Lease=void 0;var r,i=(r=n(101482))&&r.__esModule?r:{default:r},o=n(767956),s=n(941148);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c{constructor(e,t,n){(0,i.default)(e>0,"Lease time-to-live must be positive"),(0,i.default)(t>0,"Lease allowed requests must be positive"),this.timeToLiveMillis=e,this.allowedRequests=t,this.startingAllowedRequests=t,this.expiry=Date.now()+e,this.metadata=n}expired(){return Date.now()>this.expiry}valid(){return this.allowedRequests>0&&!this.expired()}_use(){if(this.expired())return!1;const e=this.allowedRequests,t=e>0;return t&&(this.allowedRequests=e-1),t}}t.Lease=c;t.Leases=class{constructor(){a(this,"_sender",(()=>o.Flowable.never())),a(this,"_receiver",(e=>{}))}sender(e){return this._sender=e,this}receiver(e){return this._receiver=e,this}stats(e){return this._stats=e,this}};t.RequesterLeaseHandler=class{constructor(e){a(this,"_requestN",-1),e(new o.Flowable((e=>{this._subscriber?e.onError(new Error("only 1 subscriber is allowed")):this.isDisposed()?e.onComplete():(this._subscriber=e,e.onSubscribe({cancel:()=>{this.dispose()},request:t=>{if(t<=0&&e.onError(new Error(`request demand must be positive: ${t}`)),!this.isDisposed()){const e=this._requestN;this._onRequestN(e),this._requestN=Math.min(Number.MAX_SAFE_INTEGER,Math.max(0,e)+t)}}}))})))}use(){const e=this._lease;return!!e&&e._use()}errorMessage(){return u(this._lease)}receive(e){if(!this.isDisposed()){const t=e.ttl,n=e.requestCount,r=e.metadata;this._onLease(new c(t,n,r))}}availability(){const e=this._lease;return e&&e.valid()?e.allowedRequests/e.startingAllowedRequests:0}dispose(){if(!this._isDisposed){this._isDisposed=!0;const e=this._subscriber;e&&e.onComplete()}}isDisposed(){return this._isDisposed}_onRequestN(e){const t=this._lease,n=this._subscriber;e<0&&t&&n&&n.onNext(t)}_onLease(e){const t=this._subscriber,n=this._requestN-1;n>=0&&t&&t.onNext(e),this._requestN=Math.max(-1,n),this._lease=e}};function u(e){if(!e)return"Lease was not received yet";if(e.valid())return"Missing leases";{const t=e.expired(),n=e.allowedRequests;return`Missing leases. Expired: ${t.toString()}, allowedRequests: ${n}`}}t.ResponderLeaseHandler=class{constructor(e,t,n){this._leaseSender=e,this._stats=t,this._errorConsumer=n}use(){const e=this._lease,t=!!e&&e._use();return this._onStatsEvent(t),t}errorMessage(){return u(this._lease)}send(e){let t,n;return this._leaseSender(this._stats).subscribe({onComplete:()=>this._onStatsEvent(),onError:e=>{this._onStatsEvent();const t=this._errorConsumer;t&&t(e)},onNext:t=>{this._lease=t,e(t)},onSubscribe:e=>{n?e.cancel():(e.request(s.MAX_REQUEST_N),t=e)}}),{dispose(){n||(n=!0,this._onStatsEvent(),t&&t.cancel())},isDisposed:()=>n}}_onStatsEvent(e){const t=this._stats;if(t){const n=void 0===e?"Terminate":e?"Accept":"Reject";t.onEvent(n)}}}},528491:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createServerMachine=function(e,t,n,r,i,o,s){return new h("SERVER",e,t,n,r,void 0,i,o,s)},t.createClientMachine=function(e,t,n,r,i,o,s,a){return new h("CLIENT",e,t,n,r,i,o,s,a)};var r,i=n(767956),o=n(941148),s=n(832806),a=(n(652307),(r=n(992677))&&r.__esModule?r:{default:r});function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f{constructor(e){this._responder=e||{}}setResponder(e){this._responder=e||{}}fireAndForget(e){if(this._responder.fireAndForget)try{this._responder.fireAndForget(e)}catch(t){console.error("fireAndForget threw an exception",t)}}requestResponse(e){let t;if(this._responder.requestResponse)try{return this._responder.requestResponse(e)}catch(n){console.error("requestResponse threw an exception",n),t=n}return i.Single.error(t||new Error("not implemented"))}requestStream(e){let t;if(this._responder.requestStream)try{return this._responder.requestStream(e)}catch(n){console.error("requestStream threw an exception",n),t=n}return i.Flowable.error(t||new Error("not implemented"))}requestChannel(e){let t;if(this._responder.requestChannel)try{return this._responder.requestChannel(e)}catch(n){console.error("requestChannel threw an exception",n),t=n}return i.Flowable.error(t||new Error("not implemented"))}metadataPush(e){let t;if(this._responder.metadataPush)try{return this._responder.metadataPush(e)}catch(n){console.error("metadataPush threw an exception",n),t=n}return i.Single.error(t||new Error("not implemented"))}}class h{constructor(e,t,n,r,i,a,c,u,h){l(this,"_connectionAvailability",1),l(this,"_handleTransportClose",(()=>{this._handleError(new Error("RSocket: The connection was closed."))})),l(this,"_handleError",(e=>{this._receivers.forEach((t=>{t.onError(e)})),this._receivers.clear(),this._subscriptions.forEach((e=>{e.cancel()})),this._subscriptions.clear(),this._connectionAvailability=0,this._dispose(this._requesterLeaseHandler,this._responderLeaseSenderDisposable);const t=this._keepAliveTimerHandle;t&&(clearTimeout(t),this._keepAliveTimerHandle=null)})),l(this,"_handleFrame",(e=>{const{streamId:t}=e;t===o.CONNECTION_STREAM_ID?this._handleConnectionFrame(e):this._handleStreamFrame(t,e)})),this._connection=t,this._requesterLeaseHandler=u,this._responderLeaseHandler=h,this._nextStreamId="CLIENT"===e?1:2,this._receivers=new Map,this._subscriptions=new Map,this._serializers=i||s.IdentitySerializers,this._requestHandler=new f(a),this._errorHandler=c,n({onComplete:this._handleTransportClose,onError:this._handleError,onNext:this._handleFrame,onSubscribe:e=>e.request(Number.MAX_SAFE_INTEGER)});const d=this._responderLeaseHandler;d&&(this._responderLeaseSenderDisposable=d.send(this._leaseFrameSender())),this._connection.connectionStatus().subscribe({onNext:e=>{"CLOSED"===e.kind?this._handleTransportClose():"ERROR"===e.kind&&this._handleError(e.error)},onSubscribe:e=>e.request(Number.MAX_SAFE_INTEGER)});this._keepAliveLastReceivedMillis=Date.now();const p=()=>{const e=Date.now()-this._keepAliveLastReceivedMillis;e>=r?this._handleConnectionError(new Error(`No keep-alive acks for ${r} millis`)):this._keepAliveTimerHandle=setTimeout(p,Math.max(100,r-e))};this._keepAliveTimerHandle=setTimeout(p,r)}setRequestHandler(e){this._requestHandler.setResponder(e)}close(){this._connection.close()}connectionStatus(){return this._connection.connectionStatus()}availability(){const e=this._requesterLeaseHandler,t=e?e.availability():1;return Math.min(this._connectionAvailability,t)}fireAndForget(e){if(this._useLeaseOrError(this._requesterLeaseHandler))return;const t=this._getNextStreamId(this._receivers),n=this._serializers.data.serialize(e.data),r=this._serializers.metadata.serialize(e.metadata),i={data:n,flags:void 0!==e.metadata?o.FLAGS.METADATA:0,metadata:r,streamId:t,type:o.FRAME_TYPES.REQUEST_FNF};this._connection.sendOne(i)}requestResponse(e){const t=this._useLeaseOrError(this._requesterLeaseHandler);if(t)return i.Single.error(new Error(t));const n=this._getNextStreamId(this._receivers);return new i.Single((t=>{this._receivers.set(n,{onComplete:()=>{},onError:e=>t.onError(e),onNext:e=>t.onComplete(e)});const r=this._serializers.data.serialize(e.data),i=this._serializers.metadata.serialize(e.metadata),s={data:r,flags:void 0!==e.metadata?o.FLAGS.METADATA:0,metadata:i,streamId:n,type:o.FRAME_TYPES.REQUEST_RESPONSE};this._connection.sendOne(s),t.onSubscribe((()=>{this._receivers.delete(n);const e={flags:0,streamId:n,type:o.FRAME_TYPES.CANCEL};this._connection.sendOne(e)}))}))}requestStream(e){const t=this._useLeaseOrError(this._requesterLeaseHandler);if(t)return i.Flowable.error(new Error(t));const n=this._getNextStreamId(this._receivers);return new i.Flowable((t=>{this._receivers.set(n,t);let r=!1;t.onSubscribe({cancel:()=>{if(this._receivers.delete(n),!r)return;const e={flags:0,streamId:n,type:o.FRAME_TYPES.CANCEL};this._connection.sendOne(e)},request:t=>{if(t>o.MAX_REQUEST_N&&(t=o.MAX_REQUEST_N),r){const e={flags:0,requestN:t,streamId:n,type:o.FRAME_TYPES.REQUEST_N};this._connection.sendOne(e)}else{r=!0;const i=this._serializers.data.serialize(e.data),s=this._serializers.metadata.serialize(e.metadata),a={data:i,flags:void 0!==e.metadata?o.FLAGS.METADATA:0,metadata:s,requestN:t,streamId:n,type:o.FRAME_TYPES.REQUEST_STREAM};this._connection.sendOne(a)}}})}),o.MAX_REQUEST_N)}requestChannel(e){const t=this._useLeaseOrError(this._requesterLeaseHandler);if(t)return i.Flowable.error(new Error(t));const n=this._getNextStreamId(this._receivers);let r=!1;return new i.Flowable((t=>{try{this._receivers.set(n,t);let i=!1;t.onSubscribe({cancel:()=>{if(this._receivers.delete(n),!i)return;const e={flags:0,streamId:n,type:o.FRAME_TYPES.CANCEL};this._connection.sendOne(e)},request:t=>{if(t>o.MAX_REQUEST_N&&(t=o.MAX_REQUEST_N),i){const e={flags:0,requestN:t,streamId:n,type:o.FRAME_TYPES.REQUEST_N};this._connection.sendOne(e)}else r?console.warn("RSocketClient: re-entrant call to request n before initial channel established."):(r=!0,e.subscribe({onComplete:()=>{this._sendStreamComplete(n)},onError:e=>{this._sendStreamError(n,e)},onNext:e=>{const r=this._serializers.data.serialize(e.data),s=this._serializers.metadata.serialize(e.metadata);if(i){const t={data:r,flags:o.FLAGS.NEXT|(void 0!==e.metadata?o.FLAGS.METADATA:0),metadata:s,streamId:n,type:o.FRAME_TYPES.PAYLOAD};this._connection.sendOne(t)}else{i=!0;const a={data:r,flags:void 0!==e.metadata?o.FLAGS.METADATA:0,metadata:s,requestN:t,streamId:n,type:o.FRAME_TYPES.REQUEST_CHANNEL};this._connection.sendOne(a)}},onSubscribe:e=>{this._subscriptions.set(n,e),e.request(1)}}))}})}catch(i){console.warn("Exception while subscribing to channel flowable:"+i)}}),o.MAX_REQUEST_N)}metadataPush(e){return new i.Single((t=>{const n={flags:0,metadata:this._serializers.metadata.serialize(e.metadata),streamId:0,type:o.FRAME_TYPES.METADATA_PUSH};this._connection.sendOne(n),t.onSubscribe((()=>{})),t.onComplete()}))}_getNextStreamId(e){const t=this._nextStreamId;do{this._nextStreamId=this._nextStreamId+2&o.MAX_STREAM_ID}while(0===this._nextStreamId||e.has(t));return t}_useLeaseOrError(e){if(e&&!e.use())return e.errorMessage()}_leaseFrameSender(){return e=>this._connection.sendOne({flags:0,metadata:e.metadata,requestCount:e.allowedRequests,streamId:o.CONNECTION_STREAM_ID,ttl:e.timeToLiveMillis,type:o.FRAME_TYPES.LEASE})}_dispose(...e){e.forEach((e=>{e&&e.dispose()}))}_isRequest(e){switch(e){case o.FRAME_TYPES.REQUEST_FNF:case o.FRAME_TYPES.REQUEST_RESPONSE:case o.FRAME_TYPES.REQUEST_STREAM:case o.FRAME_TYPES.REQUEST_CHANNEL:return!0;default:return!1}}_handleConnectionError(e){this._handleError(e),this._connection.close();const t=this._errorHandler;t&&t(e)}_handleConnectionFrame(e){switch(e.type){case o.FRAME_TYPES.ERROR:const t=(0,o.createErrorFromFrame)(e);this._handleConnectionError(t);break;case o.FRAME_TYPES.EXT:break;case o.FRAME_TYPES.KEEPALIVE:this._keepAliveLastReceivedMillis=Date.now(),(0,o.isRespond)(e.flags)&&this._connection.sendOne(u(u({},e),{},{flags:e.flags^o.FLAGS.RESPOND,lastReceivedPosition:0}));break;case o.FRAME_TYPES.LEASE:const n=this._requesterLeaseHandler;n&&n.receive(e);break;case o.FRAME_TYPES.METADATA_PUSH:this._handleMetadataPush(e);case o.FRAME_TYPES.REQUEST_CHANNEL:case o.FRAME_TYPES.REQUEST_FNF:case o.FRAME_TYPES.REQUEST_RESPONSE:case o.FRAME_TYPES.REQUEST_STREAM:case o.FRAME_TYPES.RESERVED:case o.FRAME_TYPES.RESUME:case o.FRAME_TYPES.RESUME_OK:}}_handleStreamFrame(e,t){if(this._isRequest(t.type)){const t=this._useLeaseOrError(this._responderLeaseHandler);if(t)return void this._sendStreamError(e,new Error(t))}switch(t.type){case o.FRAME_TYPES.CANCEL:this._handleCancel(e,t);break;case o.FRAME_TYPES.REQUEST_N:this._handleRequestN(e,t);break;case o.FRAME_TYPES.REQUEST_FNF:this._handleFireAndForget(e,t);break;case o.FRAME_TYPES.REQUEST_RESPONSE:this._handleRequestResponse(e,t);break;case o.FRAME_TYPES.REQUEST_STREAM:this._handleRequestStream(e,t);break;case o.FRAME_TYPES.REQUEST_CHANNEL:this._handleRequestChannel(e,t);break;case o.FRAME_TYPES.ERROR:const n=(0,o.createErrorFromFrame)(t);this._handleStreamError(e,n);break;case o.FRAME_TYPES.PAYLOAD:const r=this._receivers.get(e);if(null!=r){if((0,o.isNext)(t.flags)){const e={data:this._serializers.data.deserialize(t.data),metadata:this._serializers.metadata.deserialize(t.metadata)};r.onNext(e)}(0,o.isComplete)(t.flags)&&(this._receivers.delete(e),r.onComplete())}}}_handleCancel(e,t){const n=this._subscriptions.get(e);n&&(n.cancel(),this._subscriptions.delete(e))}_handleRequestN(e,t){const n=this._subscriptions.get(e);n&&n.request(t.requestN)}_handleFireAndForget(e,t){const n=this._deserializePayload(t);this._requestHandler.fireAndForget(n)}_handleRequestResponse(e,t){const n=this._deserializePayload(t);this._requestHandler.requestResponse(n).subscribe({onComplete:t=>{this._sendStreamPayload(e,t,!0)},onError:t=>this._sendStreamError(e,t),onSubscribe:t=>{const n={cancel:t,request:()=>{}};this._subscriptions.set(e,n)}})}_handleRequestStream(e,t){const n=this._deserializePayload(t);this._requestHandler.requestStream(n).subscribe({onComplete:()=>this._sendStreamComplete(e),onError:t=>this._sendStreamError(e,t),onNext:t=>this._sendStreamPayload(e,t),onSubscribe:n=>{this._subscriptions.set(e,n),n.request(t.requestN)}})}_handleRequestChannel(e,t){if(this._subscriptions.get(e))return;const n=new i.Flowable((n=>{let r=!0;n.onSubscribe({cancel:()=>{this._receivers.delete(e);const t={flags:0,streamId:e,type:o.FRAME_TYPES.CANCEL};this._connection.sendOne(t)},request:i=>{if(i>o.MAX_REQUEST_N&&(i=o.MAX_REQUEST_N),r&&i--,i>0){const t={flags:0,requestN:i,streamId:e,type:o.FRAME_TYPES.REQUEST_N};this._connection.sendOne(t)}r&&i>=0&&(r=!1,n.onNext(t))}})}),o.MAX_REQUEST_N),r=new i.FlowableProcessor(n,(e=>this._deserializePayload(e)));this._receivers.set(e,r),this._requestHandler.requestChannel(r).subscribe({onComplete:()=>this._sendStreamComplete(e),onError:t=>this._sendStreamError(e,t),onNext:t=>this._sendStreamPayload(e,t),onSubscribe:n=>{this._subscriptions.set(e,n),n.request(t.requestN)}})}_handleMetadataPush(e){const t=this._deserializeMetadataPushPayload(e);this._requestHandler.metadataPush(t).subscribe({onComplete:()=>{},onError:e=>{},onSubscribe:e=>{}})}_sendStreamComplete(e){this._subscriptions.delete(e),this._connection.sendOne({data:null,flags:o.FLAGS.COMPLETE,metadata:null,streamId:e,type:o.FRAME_TYPES.PAYLOAD})}_sendStreamError(e,t){this._subscriptions.delete(e),this._connection.sendOne({code:t instanceof a.default?t.errorCode:o.ERROR_CODES.APPLICATION_ERROR,flags:0,message:t.message,streamId:e,type:o.FRAME_TYPES.ERROR});const n=new Error(`terminated from the requester: ${t.message}`);this._handleStreamError(e,n)}_sendStreamPayload(e,t,n=!1){let r=o.FLAGS.NEXT;n&&(r|=o.FLAGS.COMPLETE,this._subscriptions.delete(e));const i=this._serializers.data.serialize(t.data),s=this._serializers.metadata.serialize(t.metadata);this._connection.sendOne({data:i,flags:r,metadata:s,streamId:e,type:o.FRAME_TYPES.PAYLOAD})}_deserializePayload(e){return function(e,t){return{data:e.data.deserialize(t.data),metadata:e.metadata.deserialize(t.metadata)}}(this._serializers,e)}_deserializeMetadataPushPayload(e){return function(e,t){return{data:null,metadata:e.metadata.deserialize(t.metadata)}}(this._serializers,e)}_handleStreamError(e,t){const n=this._receivers.get(e);null!=n&&(this._receivers.delete(e),n.onError(t))}}},629986:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(767956),o=(r=n(101482))&&r.__esModule?r:{default:r},s=n(941148),a=n(867833),c=n(454776);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=class{constructor(e,t,n){(0,o.default)(t.bufferSize>=0,"RSocketResumableTransport: bufferSize option must be >= 0, got `%s`.",t.bufferSize),this._encoders=n,this._bufferSize=t.bufferSize,this._sentFramesSize=0,this._position={client:0,server:0},this._currentConnection=null,this._statusSubscription=null,this._receiveSubscription=null,this._receivers=new Set,this._resumeToken=t.resumeToken,this._sessionTimeoutMillis=1e3*t.sessionDurationSeconds,this._sessionTimeoutHandle=null,this._senders=new Set,this._sentFrames=[],this._setupFrame=null,this._source=e,this._status=a.CONNECTION_STATUS.NOT_CONNECTED,this._statusSubscribers=new Set}close(){this._close()}connect(){(0,o.default)(!this._isTerminated(),"RSocketResumableTransport: Cannot connect(), connection terminated (%s: %s).",this._status.kind,"ERROR"===this._status.kind?this._status.error.message:"no message");try{this._disconnect(),this._currentConnection=null,this._receiveSubscription=null,this._statusSubscription=null,this._setConnectionStatus(a.CONNECTION_STATUS.CONNECTING);const e=this._source();e.connectionStatus().subscribe({onNext:t=>{t.kind!==this._status.kind&&("CONNECTED"===t.kind?(this._sessionTimeoutHandle&&(clearTimeout(this._sessionTimeoutHandle),this._sessionTimeoutHandle=null),null==this._setupFrame?this._handleConnected(e):this._handleResume(e)):this._isTerminationStatus(t)&&(this._sessionTimeoutHandle||(this._sessionTimeoutHandle=setTimeout((()=>this._close(this._resumeTimeoutError())),this._sessionTimeoutMillis)),this._disconnect(),this._setConnectionStatus(a.CONNECTION_STATUS.NOT_CONNECTED)))},onSubscribe:e=>{this._statusSubscription=e,e.request(Number.MAX_SAFE_INTEGER)}}),e.connect()}catch(e){this._close(e)}}connectionStatus(){return new i.Flowable((e=>{e.onSubscribe({cancel:()=>{this._statusSubscribers.delete(e)},request:()=>{this._statusSubscribers.add(e),e.onNext(this._status)}})}))}receive(){return new i.Flowable((e=>{let t=!1;e.onSubscribe({cancel:()=>{this._receivers.delete(e)},request:()=>{t||(t=!0,this._receivers.add(e))}})}))}sendOne(e){try{this._writeFrame(e)}catch(t){this._close(t)}}send(e){let t;e.subscribe({onComplete:()=>{t&&this._senders.delete(t)},onError:e=>{t&&this._senders.delete(t),this._close(e)},onNext:e=>this._writeFrame(e),onSubscribe:e=>{t=e,this._senders.add(t),t.request(Number.MAX_SAFE_INTEGER)}})}_close(e){if(this._isTerminated())return;e?this._setConnectionStatus({error:e,kind:"ERROR"}):this._setConnectionStatus(a.CONNECTION_STATUS.CLOSED);const t=this._receivers;t.forEach((e=>e.onComplete())),t.clear();const n=this._senders;n.forEach((e=>e.cancel())),n.clear(),this._sentFrames.length=0,this._disconnect()}_disconnect(){this._statusSubscription&&(this._statusSubscription.cancel(),this._statusSubscription=null),this._receiveSubscription&&(this._receiveSubscription.cancel(),this._receiveSubscription=null),this._currentConnection&&(this._currentConnection.close(),this._currentConnection=null)}_handleConnected(e){this._currentConnection=e,this._flushFrames(),this._setConnectionStatus(a.CONNECTION_STATUS.CONNECTED),e.receive().subscribe({onNext:e=>{try{this._receiveFrame(e)}catch(t){this._close(t)}},onSubscribe:e=>{this._receiveSubscription=e,e.request(Number.MAX_SAFE_INTEGER)}})}_handleResume(e){e.receive().take(1).subscribe({onNext:t=>{try{if(t.type===s.FRAME_TYPES.RESUME_OK){const{clientPosition:n}=t;if(n<this._position.client)return void this._close(this._nonResumableStateError());let r=n-this._position.client,i=0;for(;r>0;){const e=this._onReleasedTailFrame(this._sentFrames[i]);if(!e)return void this._close(this._absentLengthError(t));r-=e,i++}if(0!==r)return void this._close(this._inconsistentImpliedPositionError());i>0&&this._sentFrames.splice(0,i),this._handleConnected(e)}else{const e=t.type===s.FRAME_TYPES.ERROR?(0,s.createErrorFromFrame)(t):new Error("RSocketResumableTransport: Resumption failed for an unspecified reason.");this._close(e)}}catch(n){this._close(n)}},onSubscribe:e=>{this._receiveSubscription=e,e.request(1)}});const t=this._setupFrame;(0,o.default)(t,"RSocketResumableTransport: Cannot resume, setup frame has not been sent."),e.sendOne({clientPosition:this._position.client,flags:0,majorVersion:t.majorVersion,minorVersion:t.minorVersion,resumeToken:this._resumeToken,serverPosition:this._position.server,streamId:s.CONNECTION_STREAM_ID,type:s.FRAME_TYPES.RESUME})}_absentLengthError(e){return new Error("RSocketResumableTransport: absent frame.length for type "+e.type)}_inconsistentImpliedPositionError(){return new Error("RSocketResumableTransport: local frames are inconsistent with remote implied position")}_nonResumableStateError(){return new Error("RSocketResumableTransport: resumption failed, server is missing frames that are no longer in the client buffer.")}_resumeTimeoutError(){return new Error("RSocketResumableTransport: resumable session timed out")}_isTerminated(){return this._isTerminationStatus(this._status)}_isTerminationStatus(e){const t=e.kind;return"CLOSED"===t||"ERROR"===t}_setConnectionStatus(e){e.kind!==this._status.kind&&(this._status=e,this._statusSubscribers.forEach((t=>t.onNext(e))))}_receiveFrame(e){(0,s.isResumePositionFrameType)(e.type)&&e.length&&(this._position.server+=e.length),this._receivers.forEach((t=>t.onNext(e)))}_flushFrames(){this._sentFrames.forEach((e=>{const t=this._currentConnection;t&&t.sendOne(e)}))}_onReleasedTailFrame(e){const t=e.length;if(t)return this._sentFramesSize-=t,this._position.client+=t,t}_writeFrame(e){if(e.type===s.FRAME_TYPES.SETUP&&(e=l(l({},e),{},{flags:e.flags|s.FLAGS.RESUME_ENABLE,resumeToken:this._resumeToken}),this._setupFrame=e),e.length=(0,c.sizeOfFrame)(e,this._encoders),(0,s.isResumePositionFrameType)(e.type)){let t=this._bufferSize-this._sentFramesSize;const n=e.length;if(!n)return void this._close(this._absentLengthError(e));for(;t<n;){const n=this._sentFrames.shift();if(!n)break;{const r=this._onReleasedTailFrame(n);if(!r)return void this._close(this._absentLengthError(e));t+=r}}t>=n?(this._sentFrames.push(e),this._sentFramesSize+=n):this._position.client+=n}const t=this._currentConnection;t&&t.sendOne(e)}}},832806:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdentitySerializers=t.IdentitySerializer=t.JsonSerializers=t.JsonSerializer=void 0;var r,i=n(167771),o=(r=n(101482))&&r.__esModule?r:{default:r};const s={deserialize:e=>{let t;if(null==e)return null;if("string"==typeof e)t=e;else if(i.LiteBuffer.isBuffer(e)){t=e.toString("utf8")}else{t=i.LiteBuffer.from(e).toString("utf8")}return JSON.parse(t)},serialize:JSON.stringify};t.JsonSerializer=s;const a={data:s,metadata:s};t.JsonSerializers=a;const c={deserialize:e=>((0,o.default)(null==e||"string"==typeof e||i.LiteBuffer.isBuffer(e)||e instanceof Uint8Array,"RSocketSerialization: Expected data to be a string, Buffer, or Uint8Array. Got `%s`.",e),e),serialize:e=>e};t.IdentitySerializer=c;const u={data:c,metadata:c};t.IdentitySerializers=u},467268:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(767956);var r,i=(r=n(101482))&&r.__esModule?r:{default:r},o=n(941148),s=n(832806),a=n(528491),c=n(652307),u=n(691357);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=class{constructor(e){l(this,"_handleTransportComplete",(()=>{this._handleTransportError(new Error("RSocketServer: Connection closed unexpectedly."))})),l(this,"_handleTransportError",(e=>{this._connections.forEach((e=>{e.close()}))})),l(this,"_handleTransportConnection",(e=>{const t=new f;let n;(e=new u.ReassemblyDuplexConnection(e)).receive().subscribe(t.swap({onError:e=>console.error(e),onNext:n=>{switch(n.type){case o.FRAME_TYPES.RESUME:e.sendOne({code:o.ERROR_CODES.REJECTED_RESUME,flags:0,message:"RSocketServer: RESUME not supported.",streamId:o.CONNECTION_STREAM_ID,type:o.FRAME_TYPES.ERROR}),e.close();break;case o.FRAME_TYPES.SETUP:if(this._setupLeaseError(n)){e.sendOne({code:o.ERROR_CODES.INVALID_SETUP,flags:0,message:"RSocketServer: LEASE not supported.",streamId:o.CONNECTION_STREAM_ID,type:o.FRAME_TYPES.ERROR}),e.close();break}const s=this._getSerializers();let u,l;const f=this._config.leases;if(f){const e=f();u=new c.RequesterLeaseHandler(e._receiver),l=new c.ResponderLeaseHandler(e._sender,e._stats)}const h=(0,a.createServerMachine)(e,(e=>{t.swap(e)}),n.lifetime,s,this._config.errorHandler,u,l);try{const t=this._config.getRequestHandler(h,function(e,t){return{data:e.data.deserialize(t.data),metadata:e.metadata.deserialize(t.metadata)}}(s,n));h.setRequestHandler(t),this._connections.add(h),e.connectionStatus().subscribe({onNext:e=>{"CLOSED"!==e.kind&&"ERROR"!==e.kind||this._connections.delete(h)},onSubscribe:e=>e.request(Number.MAX_SAFE_INTEGER)})}catch(r){e.sendOne({code:o.ERROR_CODES.REJECTED_SETUP,flags:0,message:"Application rejected setup, reason: "+r.message,streamId:o.CONNECTION_STREAM_ID,type:o.FRAME_TYPES.ERROR}),e.close()}break;default:(0,i.default)(!1,"RSocketServer: Expected first frame to be SETUP or RESUME, got `%s`.",(0,o.getFrameTypeName)(n.type))}},onSubscribe:e=>{n=e,n.request(1)}}))})),this._config=e,this._connections=new Set,this._started=!1,this._subscription=null}start(){(0,i.default)(!this._started,"RSocketServer: Unexpected call to start(), already started."),this._started=!0,this._config.transport.start().subscribe({onComplete:this._handleTransportComplete,onError:this._handleTransportError,onNext:this._handleTransportConnection,onSubscribe:e=>{this._subscription=e,e.request(Number.MAX_SAFE_INTEGER)}})}stop(){this._subscription&&this._subscription.cancel(),this._config.transport.stop(),this._handleTransportError(new Error("RSocketServer: Connection terminated via stop()."))}_getSerializers(){return this._config.serializers||s.IdentitySerializers}_setupLeaseError(e){const t=(e.flags&o.FLAGS.LEASE)===o.FLAGS.LEASE,n=this._config.leases;return t&&!n}};class f{constructor(e){this._target=e}swap(e){return this._target=e,this._subscription&&this._target.onSubscribe&&this._target.onSubscribe(this._subscription),this}onComplete(){(0,i.default)(this._target,"must have target"),this._target.onComplete&&this._target.onComplete()}onError(e){(0,i.default)(this._target,"must have target"),this._target.onError&&this._target.onError(e)}onNext(e){(0,i.default)(this._target,"must have target"),this._target.onNext&&this._target.onNext(e)}onSubscribe(e){(0,i.default)(this._target,"must have target"),this._subscription=e,this._target.onSubscribe&&this._target.onSubscribe(e)}}},418605:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MINOR_VERSION=t.MAJOR_VERSION=void 0;t.MAJOR_VERSION=1;t.MINOR_VERSION=0},691357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReassemblyDuplexConnection=void 0;var r=n(167771),i=(n(767956),n(941148));t.ReassemblyDuplexConnection=class{constructor(e){this._source=e}sendOne(e){this._source.sendOne(e)}send(e){this._source.send(e)}receive(){return this._source.receive().lift((e=>new o(e)))}close(){this._source.close()}connect(){this._source.connect()}connectionStatus(){return this._source.connectionStatus()}};class o{constructor(e){var t,n,r;t=this,n="_framesReassemblyMap",r=new Map,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this._actual=e}request(e){this._subscription.request(e)}cancel(){this._subscription.cancel(),this._framesReassemblyMap.clear()}onSubscribe(e){null==this._subscription?(this._subscription=e,this._actual.onSubscribe(this)):e.cancel()}onComplete(){this._actual.onComplete()}onError(e){this._actual.onError(e)}onNext(e){const t=e.streamId;if(t!==i.CONNECTION_STREAM_ID){const n=(0,i.isFollows)(e.flags),r=(0,i.isComplete)(e.flags),o=e.type===i.FRAME_TYPES.ERROR||e.type===i.FRAME_TYPES.CANCEL,a=this._framesReassemblyMap.get(t);if(a){if(!o)return a.metadata&&e.metadata&&(a.metadata=s(a.metadata,e.metadata)),a.data&&e.data?a.data=s(a.data,e.data):!a.data&&e.data&&(a.data=e.data),void(n&&!r||(r&&(a.flags|=i.FLAGS.COMPLETE),this._framesReassemblyMap.delete(t),this._actual.onNext(a)));this._framesReassemblyMap.delete(t)}else if(n&&!r&&!o)return void this._framesReassemblyMap.set(t,e)}this._actual.onNext(e)}}const s=(e,t)=>{switch(e.constructor.name){case"String":return e+t;case"Uint8Array":const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n;default:return r.LiteBuffer.concat([e,t])}}},289794:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeRoutes=function(...e){if(e.length<1)throw new Error("routes should be non empty array");return r.LiteBuffer.concat(e.map((e=>s(e))))},t.encodeRoute=s,t.decodeRoutes=a,t.RoutingMetadata=void 0;var r=n(167771),i=n(23502);class o{constructor(e){this._buffer=e}iterator(){return a(this._buffer)}[Symbol.iterator](){return a(this._buffer)}}function s(e){const t=(0,i.toBuffer)(e,"utf8");if(t.length>255)throw new Error(`route length should fit into unsigned byte length but the given one is ${t.length}`);const n=(0,i.createBuffer)(1);return n.writeUInt8(t.length),r.LiteBuffer.concat([n,t])}function*a(e){const t=e.byteLength;let n=0;for(;n<t;){const r=e.readUInt8(n++);if(n+r>t)throw new Error(`Malformed RouteMetadata. Offset(${n}) + RouteLength(${r}) is greater than TotalLength`);const i=e.toString("utf8",n,n+r);n+=r,yield i}}t.RoutingMetadata=o},948063:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TYPES_BY_AUTH_STRING=t.TYPES_BY_AUTH_ID=t.BEARER=t.SIMPLE=t.UNKNOWN_RESERVED_AUTH_TYPE=t.UNPARSEABLE_AUTH_TYPE=t.default=void 0;class n{constructor(e,t){this._string=e,this._identifier=t}static fromIdentifier(e){return e<0||e>127?r:a[e]}static fromString(e){if(!e)throw new Error("type must be non-null");return e===i.string?r:c.get(e)||r}get identifier(){return this._identifier}get string(){return this._string}toString(){return this._string}}t.default=n;const r=new n("UNPARSEABLE_AUTH_TYPE_DO_NOT_USE",-2);t.UNPARSEABLE_AUTH_TYPE=r;const i=new n("UNKNOWN_YET_RESERVED_DO_NOT_USE",-1);t.UNKNOWN_RESERVED_AUTH_TYPE=i;const o=new n("simple",0);t.SIMPLE=o;const s=new n("bearer",1);t.BEARER=s;const a=new Array(128);t.TYPES_BY_AUTH_ID=a;const c=new Map;t.TYPES_BY_AUTH_STRING=c;const u=[r,i,o,s];a.fill(i);for(const l of u)l.identifier>=0&&(a[l.identifier]=l,c.set(l.string,l));Object.seal&&Object.seal(a)},988369:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TYPES_BY_MIME_STRING=t.TYPES_BY_MIME_ID=t.MESSAGE_RSOCKET_COMPOSITE_METADATA=t.MESSAGE_RSOCKET_ROUTING=t.MESSAGE_RSOCKET_TRACING_ZIPKIN=t.MESSAGE_RSOCKET_AUTHENTICATION=t.MESSAGE_RSOCKET_ACCEPT_MIMETYPES=t.MESSAGE_RSOCKET_MIMETYPE=t.APPLICATION_CLOUDEVENTS_JSON=t.APPLICATION_JAVA_OBJECT=t.APPLICATION_HESSIAN=t.VIDEO_VP8=t.VIDEO_H265=t.VIDEO_H264=t.TEXT_XML=t.TEXT_PLAIN=t.TEXT_HTML=t.TEXT_CSV=t.TEXT_CSS=t.MULTIPART_MIXED=t.IMAGE_TIFF=t.IMAGE_PNG=t.IMAGE_JPEG=t.IMAGE_HEIF=t.IMAGE_HEIF_SEQUENCE=t.IMAGE_HEIC=t.IMAGE_HEIC_SEQUENCE=t.IMAGE_GIG=t.IMAGE_BMP=t.AUDIO_VORBIS=t.AUDIO_OPUS=t.AUDIO_OGG=t.AUDIO_MPEG=t.AUDIO_MPEG3=t.AUDIO_MP4=t.AUDIO_MP3=t.AUDIO_AAC=t.APPLICATION_ZIP=t.APPLICATION_XML=t.APPLICATION_PROTOBUF=t.APPLICATION_THRIFT=t.APPLICATION_PDF=t.APPLICATION_OCTET_STREAM=t.APPLICATION_JSON=t.APPLICATION_JAVASCRIPT=t.APPLICATION_GZIP=t.APPLICATION_GRAPHQL=t.APPLICATION_CBOR=t.APPLICATION_AVRO=t.UNKNOWN_RESERVED_MIME_TYPE=t.UNPARSEABLE_MIME_TYPE=t.default=void 0;class n{constructor(e,t){this._string=e,this._identifier=t}static fromIdentifier(e){return e<0||e>127?r:$[e]}static fromString(e){if(!e)throw new Error("type must be non-null");return e===i.string?r:J.get(e)||r}get identifier(){return this._identifier}get string(){return this._string}toString(){return this._string}}t.default=n;const r=new n("UNPARSEABLE_MIME_TYPE_DO_NOT_USE",-2);t.UNPARSEABLE_MIME_TYPE=r;const i=new n("UNKNOWN_YET_RESERVED_DO_NOT_USE",-1);t.UNKNOWN_RESERVED_MIME_TYPE=i;const o=new n("application/avro",0);t.APPLICATION_AVRO=o;const s=new n("application/cbor",1);t.APPLICATION_CBOR=s;const a=new n("application/graphql",2);t.APPLICATION_GRAPHQL=a;const c=new n("application/gzip",3);t.APPLICATION_GZIP=c;const u=new n("application/javascript",4);t.APPLICATION_JAVASCRIPT=u;const l=new n("application/json",5);t.APPLICATION_JSON=l;const f=new n("application/octet-stream",6);t.APPLICATION_OCTET_STREAM=f;const h=new n("application/pdf",7);t.APPLICATION_PDF=h;const d=new n("application/vnd.apache.thrift.binary",8);t.APPLICATION_THRIFT=d;const p=new n("application/vnd.google.protobuf",9);t.APPLICATION_PROTOBUF=p;const g=new n("application/xml",10);t.APPLICATION_XML=g;const y=new n("application/zip",11);t.APPLICATION_ZIP=y;const m=new n("audio/aac",12);t.AUDIO_AAC=m;const b=new n("audio/mp3",13);t.AUDIO_MP3=b;const v=new n("audio/mp4",14);t.AUDIO_MP4=v;const E=new n("audio/mpeg3",15);t.AUDIO_MPEG3=E;const _=new n("audio/mpeg",16);t.AUDIO_MPEG=_;const w=new n("audio/ogg",17);t.AUDIO_OGG=w;const S=new n("audio/opus",18);t.AUDIO_OPUS=S;const O=new n("audio/vorbis",19);t.AUDIO_VORBIS=O;const T=new n("image/bmp",20);t.IMAGE_BMP=T;const A=new n("image/gif",21);t.IMAGE_GIG=A;const I=new n("image/heic-sequence",22);t.IMAGE_HEIC_SEQUENCE=I;const C=new n("image/heic",23);t.IMAGE_HEIC=C;const N=new n("image/heif-sequence",24);t.IMAGE_HEIF_SEQUENCE=N;const R=new n("image/heif",25);t.IMAGE_HEIF=R;const P=new n("image/jpeg",26);t.IMAGE_JPEG=P;const x=new n("image/png",27);t.IMAGE_PNG=x;const L=new n("image/tiff",28);t.IMAGE_TIFF=L;const M=new n("multipart/mixed",29);t.MULTIPART_MIXED=M;const D=new n("text/css",30);t.TEXT_CSS=D;const k=new n("text/csv",31);t.TEXT_CSV=k;const j=new n("text/html",32);t.TEXT_HTML=j;const U=new n("text/plain",33);t.TEXT_PLAIN=U;const F=new n("text/xml",34);t.TEXT_XML=F;const B=new n("video/H264",35);t.VIDEO_H264=B;const V=new n("video/H265",36);t.VIDEO_H265=V;const q=new n("video/VP8",37);t.VIDEO_VP8=q;const G=new n("application/x-hessian",38);t.APPLICATION_HESSIAN=G;const z=new n("application/x-java-object",39);t.APPLICATION_JAVA_OBJECT=z;const H=new n("application/cloudevents+json",40);t.APPLICATION_CLOUDEVENTS_JSON=H;const Y=new n("message/x.rsocket.mime-type.v0",122);t.MESSAGE_RSOCKET_MIMETYPE=Y;const K=new n("message/x.rsocket.accept-mime-types.v0",123);t.MESSAGE_RSOCKET_ACCEPT_MIMETYPES=K;const W=new n("message/x.rsocket.authentication.v0",124);t.MESSAGE_RSOCKET_AUTHENTICATION=W;const X=new n("message/x.rsocket.tracing-zipkin.v0",125);t.MESSAGE_RSOCKET_TRACING_ZIPKIN=X;const Z=new n("message/x.rsocket.routing.v0",126);t.MESSAGE_RSOCKET_ROUTING=Z;const Q=new n("message/x.rsocket.composite-metadata.v0",127);t.MESSAGE_RSOCKET_COMPOSITE_METADATA=Q;const $=new Array(128);t.TYPES_BY_MIME_ID=$;const J=new Map;t.TYPES_BY_MIME_STRING=J;const ee=[r,i,o,s,a,c,u,l,f,h,d,p,g,y,m,b,v,E,_,w,S,O,T,A,I,C,N,R,P,x,L,M,D,k,j,U,F,B,V,q,G,z,H,Y,K,W,X,Z,Q];$.fill(i);for(const te of ee)te.identifier>=0&&($[te.identifier]=te,J.set(te.string,te));Object.seal&&Object.seal($)},211269:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RSocketClient",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"RSocketServer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"RSocketError",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"RSocketResumableTransport",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"WellKnownMimeType",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"UNPARSEABLE_MIME_TYPE",{enumerable:!0,get:function(){return a.UNPARSEABLE_MIME_TYPE}}),Object.defineProperty(t,"UNKNOWN_RESERVED_MIME_TYPE",{enumerable:!0,get:function(){return a.UNKNOWN_RESERVED_MIME_TYPE}}),Object.defineProperty(t,"APPLICATION_AVRO",{enumerable:!0,get:function(){return a.APPLICATION_AVRO}}),Object.defineProperty(t,"APPLICATION_CBOR",{enumerable:!0,get:function(){return a.APPLICATION_CBOR}}),Object.defineProperty(t,"APPLICATION_GRAPHQL",{enumerable:!0,get:function(){return a.APPLICATION_GRAPHQL}}),Object.defineProperty(t,"APPLICATION_GZIP",{enumerable:!0,get:function(){return a.APPLICATION_GZIP}}),Object.defineProperty(t,"APPLICATION_JAVASCRIPT",{enumerable:!0,get:function(){return a.APPLICATION_JAVASCRIPT}}),Object.defineProperty(t,"APPLICATION_JSON",{enumerable:!0,get:function(){return a.APPLICATION_JSON}}),Object.defineProperty(t,"APPLICATION_OCTET_STREAM",{enumerable:!0,get:function(){return a.APPLICATION_OCTET_STREAM}}),Object.defineProperty(t,"APPLICATION_PDF",{enumerable:!0,get:function(){return a.APPLICATION_PDF}}),Object.defineProperty(t,"APPLICATION_THRIFT",{enumerable:!0,get:function(){return a.APPLICATION_THRIFT}}),Object.defineProperty(t,"APPLICATION_PROTOBUF",{enumerable:!0,get:function(){return a.APPLICATION_PROTOBUF}}),Object.defineProperty(t,"APPLICATION_XML",{enumerable:!0,get:function(){return a.APPLICATION_XML}}),Object.defineProperty(t,"APPLICATION_ZIP",{enumerable:!0,get:function(){return a.APPLICATION_ZIP}}),Object.defineProperty(t,"AUDIO_AAC",{enumerable:!0,get:function(){return a.AUDIO_AAC}}),Object.defineProperty(t,"AUDIO_MP3",{enumerable:!0,get:function(){return a.AUDIO_MP3}}),Object.defineProperty(t,"AUDIO_MP4",{enumerable:!0,get:function(){return a.AUDIO_MP4}}),Object.defineProperty(t,"AUDIO_MPEG3",{enumerable:!0,get:function(){return a.AUDIO_MPEG3}}),Object.defineProperty(t,"AUDIO_MPEG",{enumerable:!0,get:function(){return a.AUDIO_MPEG}}),Object.defineProperty(t,"AUDIO_OGG",{enumerable:!0,get:function(){return a.AUDIO_OGG}}),Object.defineProperty(t,"AUDIO_OPUS",{enumerable:!0,get:function(){return a.AUDIO_OPUS}}),Object.defineProperty(t,"AUDIO_VORBIS",{enumerable:!0,get:function(){return a.AUDIO_VORBIS}}),Object.defineProperty(t,"IMAGE_BMP",{enumerable:!0,get:function(){return a.IMAGE_BMP}}),Object.defineProperty(t,"IMAGE_GIG",{enumerable:!0,get:function(){return a.IMAGE_GIG}}),Object.defineProperty(t,"IMAGE_HEIC_SEQUENCE",{enumerable:!0,get:function(){return a.IMAGE_HEIC_SEQUENCE}}),Object.defineProperty(t,"IMAGE_HEIC",{enumerable:!0,get:function(){return a.IMAGE_HEIC}}),Object.defineProperty(t,"IMAGE_HEIF_SEQUENCE",{enumerable:!0,get:function(){return a.IMAGE_HEIF_SEQUENCE}}),Object.defineProperty(t,"IMAGE_HEIF",{enumerable:!0,get:function(){return a.IMAGE_HEIF}}),Object.defineProperty(t,"IMAGE_JPEG",{enumerable:!0,get:function(){return a.IMAGE_JPEG}}),Object.defineProperty(t,"IMAGE_PNG",{enumerable:!0,get:function(){return a.IMAGE_PNG}}),Object.defineProperty(t,"IMAGE_TIFF",{enumerable:!0,get:function(){return a.IMAGE_TIFF}}),Object.defineProperty(t,"MULTIPART_MIXED",{enumerable:!0,get:function(){return a.MULTIPART_MIXED}}),Object.defineProperty(t,"TEXT_CSS",{enumerable:!0,get:function(){return a.TEXT_CSS}}),Object.defineProperty(t,"TEXT_CSV",{enumerable:!0,get:function(){return a.TEXT_CSV}}),Object.defineProperty(t,"TEXT_HTML",{enumerable:!0,get:function(){return a.TEXT_HTML}}),Object.defineProperty(t,"TEXT_PLAIN",{enumerable:!0,get:function(){return a.TEXT_PLAIN}}),Object.defineProperty(t,"TEXT_XML",{enumerable:!0,get:function(){return a.TEXT_XML}}),Object.defineProperty(t,"VIDEO_H264",{enumerable:!0,get:function(){return a.VIDEO_H264}}),Object.defineProperty(t,"VIDEO_H265",{enumerable:!0,get:function(){return a.VIDEO_H265}}),Object.defineProperty(t,"VIDEO_VP8",{enumerable:!0,get:function(){return a.VIDEO_VP8}}),Object.defineProperty(t,"APPLICATION_HESSIAN",{enumerable:!0,get:function(){return a.APPLICATION_HESSIAN}}),Object.defineProperty(t,"APPLICATION_JAVA_OBJECT",{enumerable:!0,get:function(){return a.APPLICATION_JAVA_OBJECT}}),Object.defineProperty(t,"APPLICATION_CLOUDEVENTS_JSON",{enumerable:!0,get:function(){return a.APPLICATION_CLOUDEVENTS_JSON}}),Object.defineProperty(t,"MESSAGE_RSOCKET_MIMETYPE",{enumerable:!0,get:function(){return a.MESSAGE_RSOCKET_MIMETYPE}}),Object.defineProperty(t,"MESSAGE_RSOCKET_ACCEPT_MIMETYPES",{enumerable:!0,get:function(){return a.MESSAGE_RSOCKET_ACCEPT_MIMETYPES}}),Object.defineProperty(t,"MESSAGE_RSOCKET_AUTHENTICATION",{enumerable:!0,get:function(){return a.MESSAGE_RSOCKET_AUTHENTICATION}}),Object.defineProperty(t,"MESSAGE_RSOCKET_TRACING_ZIPKIN",{enumerable:!0,get:function(){return a.MESSAGE_RSOCKET_TRACING_ZIPKIN}}),Object.defineProperty(t,"MESSAGE_RSOCKET_ROUTING",{enumerable:!0,get:function(){return a.MESSAGE_RSOCKET_ROUTING}}),Object.defineProperty(t,"MESSAGE_RSOCKET_COMPOSITE_METADATA",{enumerable:!0,get:function(){return a.MESSAGE_RSOCKET_COMPOSITE_METADATA}}),Object.defineProperty(t,"WellKnownAuthType",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"UNPARSEABLE_AUTH_TYPE",{enumerable:!0,get:function(){return c.UNPARSEABLE_AUTH_TYPE}}),Object.defineProperty(t,"UNKNOWN_RESERVED_AUTH_TYPE",{enumerable:!0,get:function(){return c.UNKNOWN_RESERVED_AUTH_TYPE}}),Object.defineProperty(t,"SIMPLE",{enumerable:!0,get:function(){return c.SIMPLE}}),Object.defineProperty(t,"BEARER",{enumerable:!0,get:function(){return c.BEARER}}),Object.defineProperty(t,"CONNECTION_STREAM_ID",{enumerable:!0,get:function(){return u.CONNECTION_STREAM_ID}}),Object.defineProperty(t,"ERROR_CODES",{enumerable:!0,get:function(){return u.ERROR_CODES}}),Object.defineProperty(t,"ERROR_EXPLANATIONS",{enumerable:!0,get:function(){return u.ERROR_EXPLANATIONS}}),Object.defineProperty(t,"FLAGS_MASK",{enumerable:!0,get:function(){return u.FLAGS_MASK}}),Object.defineProperty(t,"FLAGS",{enumerable:!0,get:function(){return u.FLAGS}}),Object.defineProperty(t,"FRAME_TYPE_OFFFSET",{enumerable:!0,get:function(){return u.FRAME_TYPE_OFFFSET}}),Object.defineProperty(t,"FRAME_TYPES",{enumerable:!0,get:function(){return u.FRAME_TYPES}}),Object.defineProperty(t,"MAX_CODE",{enumerable:!0,get:function(){return u.MAX_CODE}}),Object.defineProperty(t,"MAX_KEEPALIVE",{enumerable:!0,get:function(){return u.MAX_KEEPALIVE}}),Object.defineProperty(t,"MAX_LIFETIME",{enumerable:!0,get:function(){return u.MAX_LIFETIME}}),Object.defineProperty(t,"MAX_MIME_LENGTH",{enumerable:!0,get:function(){return u.MAX_MIME_LENGTH}}),Object.defineProperty(t,"MAX_RESUME_LENGTH",{enumerable:!0,get:function(){return u.MAX_RESUME_LENGTH}}),Object.defineProperty(t,"MAX_STREAM_ID",{enumerable:!0,get:function(){return u.MAX_STREAM_ID}}),Object.defineProperty(t,"MAX_VERSION",{enumerable:!0,get:function(){return u.MAX_VERSION}}),Object.defineProperty(t,"createErrorFromFrame",{enumerable:!0,get:function(){return u.createErrorFromFrame}}),Object.defineProperty(t,"getErrorCodeExplanation",{enumerable:!0,get:function(){return u.getErrorCodeExplanation}}),Object.defineProperty(t,"isComplete",{enumerable:!0,get:function(){return u.isComplete}}),Object.defineProperty(t,"isIgnore",{enumerable:!0,get:function(){return u.isIgnore}}),Object.defineProperty(t,"isLease",{enumerable:!0,get:function(){return u.isLease}}),Object.defineProperty(t,"isMetadata",{enumerable:!0,get:function(){return u.isMetadata}}),Object.defineProperty(t,"isNext",{enumerable:!0,get:function(){return u.isNext}}),Object.defineProperty(t,"isRespond",{enumerable:!0,get:function(){return u.isRespond}}),Object.defineProperty(t,"isResumeEnable",{enumerable:!0,get:function(){return u.isResumeEnable}}),Object.defineProperty(t,"printFrame",{enumerable:!0,get:function(){return u.printFrame}}),Object.defineProperty(t,"deserializeFrame",{enumerable:!0,get:function(){return l.deserializeFrame}}),Object.defineProperty(t,"deserializeFrameWithLength",{enumerable:!0,get:function(){return l.deserializeFrameWithLength}}),Object.defineProperty(t,"deserializeFrames",{enumerable:!0,get:function(){return l.deserializeFrames}}),Object.defineProperty(t,"serializeFrame",{enumerable:!0,get:function(){return l.serializeFrame}}),Object.defineProperty(t,"serializeFrameWithLength",{enumerable:!0,get:function(){return l.serializeFrameWithLength}}),Object.defineProperty(t,"byteLength",{enumerable:!0,get:function(){return f.byteLength}}),Object.defineProperty(t,"createBuffer",{enumerable:!0,get:function(){return f.createBuffer}}),Object.defineProperty(t,"readUInt24BE",{enumerable:!0,get:function(){return f.readUInt24BE}}),Object.defineProperty(t,"toBuffer",{enumerable:!0,get:function(){return f.toBuffer}}),Object.defineProperty(t,"writeUInt24BE",{enumerable:!0,get:function(){return f.writeUInt24BE}}),Object.defineProperty(t,"BufferEncoders",{enumerable:!0,get:function(){return h.BufferEncoders}}),Object.defineProperty(t,"BufferEncoder",{enumerable:!0,get:function(){return h.BufferEncoder}}),Object.defineProperty(t,"Utf8Encoders",{enumerable:!0,get:function(){return h.Utf8Encoders}}),Object.defineProperty(t,"UTF8Encoder",{enumerable:!0,get:function(){return h.UTF8Encoder}}),Object.defineProperty(t,"IdentitySerializer",{enumerable:!0,get:function(){return d.IdentitySerializer}}),Object.defineProperty(t,"IdentitySerializers",{enumerable:!0,get:function(){return d.IdentitySerializers}}),Object.defineProperty(t,"JsonSerializer",{enumerable:!0,get:function(){return d.JsonSerializer}}),Object.defineProperty(t,"JsonSerializers",{enumerable:!0,get:function(){return d.JsonSerializers}}),Object.defineProperty(t,"Leases",{enumerable:!0,get:function(){return p.Leases}}),Object.defineProperty(t,"Lease",{enumerable:!0,get:function(){return p.Lease}}),Object.defineProperty(t,"CompositeMetadata",{enumerable:!0,get:function(){return g.CompositeMetadata}}),Object.defineProperty(t,"ReservedMimeTypeEntry",{enumerable:!0,get:function(){return g.ReservedMimeTypeEntry}}),Object.defineProperty(t,"WellKnownMimeTypeEntry",{enumerable:!0,get:function(){return g.WellKnownMimeTypeEntry}}),Object.defineProperty(t,"ExplicitMimeTimeEntry",{enumerable:!0,get:function(){return g.ExplicitMimeTimeEntry}}),Object.defineProperty(t,"encodeAndAddCustomMetadata",{enumerable:!0,get:function(){return g.encodeAndAddCustomMetadata}}),Object.defineProperty(t,"encodeAndAddWellKnownMetadata",{enumerable:!0,get:function(){return g.encodeAndAddWellKnownMetadata}}),Object.defineProperty(t,"encodeCompositeMetadata",{enumerable:!0,get:function(){return g.encodeCompositeMetadata}}),Object.defineProperty(t,"decodeCompositeMetadata",{enumerable:!0,get:function(){return g.decodeCompositeMetadata}}),Object.defineProperty(t,"RoutingMetadata",{enumerable:!0,get:function(){return y.RoutingMetadata}}),Object.defineProperty(t,"encodeRoute",{enumerable:!0,get:function(){return y.encodeRoute}}),Object.defineProperty(t,"encodeRoutes",{enumerable:!0,get:function(){return y.encodeRoutes}}),Object.defineProperty(t,"decodeRoutes",{enumerable:!0,get:function(){return y.decodeRoutes}}),Object.defineProperty(t,"encodeSimpleAuthMetadata",{enumerable:!0,get:function(){return m.encodeSimpleAuthMetadata}}),Object.defineProperty(t,"encodeBearerAuthMetadata",{enumerable:!0,get:function(){return m.encodeBearerAuthMetadata}}),Object.defineProperty(t,"encodeWellKnownAuthMetadata",{enumerable:!0,get:function(){return m.encodeWellKnownAuthMetadata}}),Object.defineProperty(t,"encodeCustomAuthMetadata",{enumerable:!0,get:function(){return m.encodeCustomAuthMetadata}}),Object.defineProperty(t,"decodeSimpleAuthPayload",{enumerable:!0,get:function(){return m.decodeSimpleAuthPayload}}),Object.defineProperty(t,"decodeAuthMetadata",{enumerable:!0,get:function(){return m.decodeAuthMetadata}});var r=E(n(796694)),i=E(n(467268)),o=E(n(992677)),s=E(n(629986)),a=v(n(988369)),c=v(n(948063)),u=n(941148),l=n(454776),f=n(23502),h=n(859882),d=n(832806),p=n(652307),g=n(126145),y=n(289794),m=n(772453);function b(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return b=function(){return e},e}function v(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=b();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function E(e){return e&&e.__esModule?e:{default:e}}},442046:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(445758)),i=s(n(552688)),o=s(n(177884));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c{static just(...e){return new c((t=>{let n=!1,r=0;t.onSubscribe({cancel:()=>{n=!0},request:i=>{for(;!n&&i>0&&r<e.length;)t.onNext(e[r++]),i--;n||r!=e.length||t.onComplete()}})}))}static error(e){return new c((t=>{t.onSubscribe({cancel:()=>{},request:()=>{t.onError(e)}})}))}static never(){return new c((e=>{e.onSubscribe({cancel:()=>{},request:()=>{}})}))}constructor(e,t=Number.MAX_SAFE_INTEGER){this._max=t,this._source=e}subscribe(e){let t;t="function"==typeof e?this._wrapCallback(e):e;const n=new u(t,this._max);this._source(n)}lift(e){return new c((t=>this._source(e(t))))}map(e){return this.lift((t=>new r.default(t,e)))}take(e){return this.lift((t=>new i.default(t,e)))}_wrapCallback(e){const t=this._max;return{onNext:e,onSubscribe(e){e.request(t)}}}}t.default=c;class u{constructor(e,t){a(this,"_cancel",(()=>{this._active&&(this._active=!1,this._subscription&&this._subscription.cancel())})),a(this,"_request",(e=>{(0,o.default)(Number.isInteger(e)&&e>=1&&e<=this._max,"Flowable: Expected request value to be an integer with a value greater than 0 and less than or equal to %s, got `%s`.",this._max,e),this._active&&(e===this._max?this._pending=this._max:(this._pending+=e,this._pending>=this._max&&(this._pending=this._max)),this._subscription&&this._subscription.request(e))})),this._active=!1,this._max=t,this._pending=0,this._started=!1,this._subscriber=e||{},this._subscription=null}onComplete(){if(this._active){this._active=!1,this._started=!0;try{this._subscriber.onComplete&&this._subscriber.onComplete()}catch(e){this._subscriber.onError&&this._subscriber.onError(e)}}else console.warn("Flowable: Invalid call to onComplete(): %s.",this._started?"onComplete/onError was already called":"onSubscribe has not been called")}onError(e){!this._started||this._active?(this._active=!1,this._started=!0,this._subscriber.onError&&this._subscriber.onError(e)):console.warn("Flowable: Invalid call to onError(): %s.",this._active?"onComplete/onError was already called":"onSubscribe has not been called")}onNext(e){if(this._active)if(0!==this._pending){this._pending!==this._max&&this._pending--;try{this._subscriber.onNext&&this._subscriber.onNext(e)}catch(t){this._subscription&&this._subscription.cancel(),this.onError(t)}}else console.warn("Flowable: Invalid call to onNext(), all request()ed values have been published.");else console.warn("Flowable: Invalid call to onNext(): %s.",this._active?"onComplete/onError was already called":"onSubscribe has not been called")}onSubscribe(e){if(this._started)console.warn("Flowable: Invalid call to onSubscribe(): already called.");else{this._active=!0,this._started=!0,this._subscription=e;try{this._subscriber.onSubscribe&&this._subscriber.onSubscribe({cancel:this._cancel,request:this._request})}catch(t){this.onError(t)}}}}},445758:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(e,t){this._fn=t,this._subscriber=e,this._subscription=null}onComplete(){this._subscriber.onComplete()}onError(e){this._subscriber.onError(e)}onNext(e){try{this._subscriber.onNext(this._fn(e))}catch(t){if(!this._subscription)throw new Error("subscription is null");this._subscription.cancel(),this._subscriber.onError(t)}}onSubscribe(e){this._subscription=e,this._subscriber.onSubscribe(e)}}},992827:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(e,t){this._source=e,this._transformer=t,this._done=!1,this._mappers=[]}onSubscribe(e){this._subscription=e}onNext(e){if(!this._sink)return void console.warn("premature onNext for processor, dropping value");let t=e;this._transformer&&(t=this._transformer(e));const n=this._mappers.reduce(((e,t)=>t(e)),t);this._sink.onNext(n)}onError(e){this._error=e,this._sink?this._sink.onError(e):console.warn("premature onError for processor, marking complete/errored")}onComplete(){this._done=!0,this._sink?this._sink.onComplete():console.warn("premature onError for processor, marking complete")}subscribe(e){this._source.subscribe&&this._source.subscribe(this),this._sink=e,this._sink.onSubscribe(this),this._error?this._sink.onError(this._error):this._done&&this._sink.onComplete()}map(e){return this._mappers.push(e),this}request(e){this._subscription&&this._subscription.request(e)}cancel(){this._subscription&&this._subscription.cancel()}}},552688:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(e,t){this._subscriber=e,this._subscription=null,this._toTake=t}onComplete(){this._subscriber.onComplete()}onError(e){this._subscriber.onError(e)}onNext(e){try{this._subscriber.onNext(e),0==--this._toTake&&this._cancelAndComplete()}catch(t){if(!this._subscription)throw new Error("subscription is null");this._subscription.cancel(),this._subscriber.onError(t)}}onSubscribe(e){this._subscription=e,this._subscriber.onSubscribe(e),this._toTake<=0&&this._cancelAndComplete()}_cancelAndComplete(){if(!this._subscription)throw new Error("subscription is null");this._subscription.cancel(),this._subscriber.onComplete()}}},922727:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.every=function(e){return new i.default((t=>{let n=null,r=0;t.onSubscribe({cancel:()=>{null!=n&&(clearInterval(n),n=null)},request:i=>{i<Number.MAX_SAFE_INTEGER?r+=i:r=Number.MAX_SAFE_INTEGER,null==n&&(n=setInterval((()=>{r>0&&(r!==Number.MAX_SAFE_INTEGER&&r--,t.onNext(Date.now()))}),e))}})}))};var r,i=(r=n(442046))&&r.__esModule?r:{default:r}},177884:e=>{"use strict";e.exports=function(e,t,...n){if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let r=0;e=new Error(t.replace(/%s/g,(()=>String(n[r++])))),e.name="Invariant Violation"}throw e.framesToPop=1,e}}},536941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class n{static of(e){return new n((t=>{t.onSubscribe(),t.onComplete(e)}))}static error(e){return new n((t=>{t.onSubscribe(),t.onError(e)}))}static never(){return new n((e=>{e.onSubscribe()}))}constructor(e){this._source=e}subscribe(e){const t=new r(e);try{this._source(t)}catch(n){t.onError(n)}}flatMap(e){return new n((t=>{let n;const r=()=>{n&&n(),n=null};this._source({onComplete:r=>{e(r).subscribe({onComplete:e=>{t.onComplete(e)},onError:e=>t.onError(e),onSubscribe:e=>{n=e}})},onError:e=>t.onError(e),onSubscribe:e=>{n=e,t.onSubscribe(r)}})}))}map(e){return new n((t=>this._source({onComplete:n=>t.onComplete(e(n)),onError:e=>t.onError(e),onSubscribe:e=>t.onSubscribe(e)})))}then(e,t){this.subscribe({onComplete:e||(()=>{}),onError:t||(()=>{})})}}t.default=n;class r{constructor(e){this._active=!1,this._started=!1,this._subscriber=e||{}}onComplete(e){if(this._active){this._active=!1,this._started=!0;try{this._subscriber.onComplete&&this._subscriber.onComplete(e)}catch(t){this._subscriber.onError&&this._subscriber.onError(t)}}else console.warn("Single: Invalid call to onComplete(): %s.",this._started?"onComplete/onError was already called":"onSubscribe has not been called")}onError(e){!this._started||this._active?(this._active=!1,this._started=!0,this._subscriber.onError&&this._subscriber.onError(e)):console.warn("Single: Invalid call to onError(): %s.",this._active?"onComplete/onError was already called":"onSubscribe has not been called")}onSubscribe(e){if(this._started)console.warn("Single: Invalid call to onSubscribe(): already called.");else{this._active=!0,this._started=!0;try{this._subscriber.onSubscribe&&this._subscriber.onSubscribe((()=>{this._active&&(this._active=!1,e&&e())}))}catch(t){this.onError(t)}}}}},767956:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Flowable",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Single",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"FlowableProcessor",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"every",{enumerable:!0,get:function(){return s.every}});var r=a(n(442046)),i=a(n(536941)),o=a(n(992827)),s=n(922727);function a(e){return e&&e.__esModule?e:{default:e}}},692628:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECTION_STATUS=void 0;const n={CLOSED:Object.freeze({kind:"CLOSED"}),CONNECTED:Object.freeze({kind:"CONNECTED"}),CONNECTING:Object.freeze({kind:"CONNECTING"}),NOT_CONNECTED:Object.freeze({kind:"NOT_CONNECTED"})};t.CONNECTION_STATUS=n},685717:()=>{},867833:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(692628);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var i=n(685717);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}))},988045:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(767956),i=n(211269),o=n(867833);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=class{constructor(e,t){s(this,"_handleClosed",(e=>{this._close(new Error(e.reason||"RSocketWebSocketClient: Socket closed unexpectedly."))})),s(this,"_handleError",(e=>{this._close(e.error)})),s(this,"_handleOpened",(()=>{this._setConnectionStatus(o.CONNECTION_STATUS.CONNECTED)})),s(this,"_handleMessage",(e=>{try{const t=this._readFrame(e);this._receivers.forEach((e=>e.onNext(t)))}catch(t){this._close(t)}})),this._encoders=t,this._options=e,this._receivers=new Set,this._senders=new Set,this._socket=null,this._status=o.CONNECTION_STATUS.NOT_CONNECTED,this._statusSubscribers=new Set}close(){this._close()}connect(){if("NOT_CONNECTED"!==this._status.kind)throw new Error("RSocketWebSocketClient: Cannot connect(), a connection is already established.");this._setConnectionStatus(o.CONNECTION_STATUS.CONNECTING);const e=this._options.wsCreator,t=this._options.url;this._socket=e?e(t):new WebSocket(t);const n=this._socket;n.binaryType="arraybuffer",n.addEventListener("close",this._handleClosed),n.addEventListener("error",this._handleError),n.addEventListener("open",this._handleOpened),n.addEventListener("message",this._handleMessage)}connectionStatus(){return new r.Flowable((e=>{e.onSubscribe({cancel:()=>{this._statusSubscribers.delete(e)},request:()=>{this._statusSubscribers.add(e),e.onNext(this._status)}})}))}receive(){return new r.Flowable((e=>{e.onSubscribe({cancel:()=>{this._receivers.delete(e)},request:()=>{this._receivers.add(e)}})}))}sendOne(e){this._writeFrame(e)}send(e){let t;e.subscribe({onComplete:()=>{t&&this._senders.delete(t)},onError:e=>{t&&this._senders.delete(t),this._close(e)},onNext:e=>this._writeFrame(e),onSubscribe:e=>{t=e,this._senders.add(t),t.request(Number.MAX_SAFE_INTEGER)}})}_close(e){if("CLOSED"===this._status.kind||"ERROR"===this._status.kind)return;const t=e?{error:e,kind:"ERROR"}:o.CONNECTION_STATUS.CLOSED;this._setConnectionStatus(t),this._receivers.forEach((t=>{e?t.onError(e):t.onComplete()})),this._receivers.clear(),this._senders.forEach((e=>e.cancel())),this._senders.clear();const n=this._socket;n&&(n.removeEventListener("close",this._handleClosed),n.removeEventListener("error",this._handleError),n.removeEventListener("open",this._handleOpened),n.removeEventListener("message",this._handleMessage),n.close(),this._socket=null)}_setConnectionStatus(e){this._status=e,this._statusSubscribers.forEach((t=>t.onNext(e)))}_readFrame(e){const t=(0,i.toBuffer)(e.data);return this._options.lengthPrefixedFrames?(0,i.deserializeFrameWithLength)(t,this._encoders):(0,i.deserializeFrame)(t,this._encoders)}_writeFrame(e){try{0;const t=this._options.lengthPrefixedFrames?(0,i.serializeFrameWithLength)(e,this._encoders):(0,i.serializeFrame)(e,this._encoders);if(!this._socket)throw new Error("RSocketWebSocketClient: Cannot send frame, not connected.");this._socket.send(t)}catch(t){this._close(t)}}}},484876:(e,t,n)=>{"use strict";var r;t.Z=void 0;var i=((r=n(988045))&&r.__esModule?r:{default:r}).default;t.Z=i},689233:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var r=n(35987),i=n(70211),o=n(341016),s=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r.ZT(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.N;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.xQ)},681112:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var r=n(35987),i=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.ZT(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(110979).L)},942632:(e,t,n)=>{"use strict";n.d(t,{P:()=>s});var r=n(405631),i=n(618170),o=n(964944),s=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return(0,o._)(this.error);case"C":return(0,r.cS)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},61244:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var r=n(893642),i=n(103680),o=n(815050),s=n(862561),a=n(530150),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=(0,i.Y)(e,t,n);if(r?r.call(o,this.source):o.add(this.source||a.v.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.v.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){a.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),(0,r._)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=u(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:(0,s.U)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=u(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function u(e){if(e||(e=a.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},132174:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(530150),i=n(571644),o={closed:!0,next:function(e){},error:function(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete:function(){}}},962039:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var r=n(35987),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(110979).L)},512630:(e,t,n)=>{"use strict";n.d(t,{t:()=>l});var r=n(35987),i=n(70211),o=n(338051),s=n(298760),a=n(489276),c=n(341016),u=n(18253),l=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.ZT(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new f(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new c.N;if(this.isStopped||this.hasError?t=s.w.EMPTY:(this.observers.push(e),t=new u.W(this,e)),i&&e.add(e=new a.ht(e,i)),n)for(var l=0;l<o&&!e.closed;l++)e.next(r[l]);else for(l=0;l<o&&!e.closed;l++)e.next(r[l].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.c).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i.xQ),f=function(){return function(e,t){this.time=e,this.value=t}}()},138725:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},70211:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>l,xQ:()=>f});var r=n(35987),i=n(61244),o=n(110979),s=n(298760),a=n(341016),c=n(18253),u=n(423142),l=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.ZT(t,e),t}(o.L),f=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.ZT(t,e),t.prototype[u.b]=function(){return new l(this)},t.prototype.lift=function(e){var t=new h(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.N;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.N;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.N;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new c.W(this,e))},t.prototype.asObservable=function(){var e=new i.y;return e.source=this,e},t.create=function(e,t){return new h(e,t)},t}(i.y),h=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.ZT(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.w.EMPTY},t}(f)},18253:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(35987),i=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.ZT(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(298760).w)},110979:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var r=n(35987),i=n(414156),o=n(132174),s=n(298760),a=n(423142),c=n(530150),u=n(571644),l=function(e){function t(n,r,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,s._parentSubscription=null,arguments.length){case 0:s.destination=o.c;break;case 1:if(!n){s.destination=o.c;break}if("object"==typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new f(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new f(s,n,r,i)}return s}return r.ZT(t,e),t.prototype[a.b]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this._parentSubscription=null,this},t}(s.w),f=function(e){function t(t,n,r,s){var a,c=e.call(this)||this;c._parentSubscriber=t;var u=c;return(0,i.m)(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o.c&&(u=Object.create(n),(0,i.m)(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=a,c._error=r,c._complete=s,c}return r.ZT(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,u.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,u.z)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),c.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return c.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)},298760:(e,t,n)=>{"use strict";n.d(t,{w:()=>u});var r=n(259026),i=n(192009),o=n(414156),s=n(125805),a=n(363754),c=n(228782),u=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this,u=n._parent,f=n._parents,h=n._unsubscribe,d=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,g=f?f.length:0;u;)u.remove(this),u=++p<g&&f[p]||null;if((0,o.m)(h))(0,s.Y)(h).call(this)===a.T&&(t=!0,e=e||(a.T.e instanceof c.B?l(a.T.e.errors):[a.T.e]));if((0,r.k)(d))for(p=-1,g=d.length;++p<g;){var y=d[p];if((0,i.K)(y))if((0,s.Y)(y.unsubscribe).call(y)===a.T){t=!0,e=e||[];var m=a.T.e;m instanceof c.B?e=e.concat(l(m.errors)):e.push(m)}}if(t)throw new c.B(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){return e.reduce((function(e,t){return e.concat(t instanceof c.B?t.errors:t)}),[])}},530150:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},149795:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var r=n(417507),i=n(618170),o=n(355760),s=n(452257);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length||2===e.length&&(0,r.K)(e[1])?(0,o.D)(e[0]):(0,s.u)()(i.of.apply(void 0,e))}},405631:(e,t,n)=>{"use strict";n.d(t,{E_:()=>i,cS:()=>o});var r=n(61244),i=new r.y((function(e){return e.complete()}));function o(e){return e?function(e){return new r.y((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},355760:(e,t,n)=>{"use strict";n.d(t,{D:()=>d});var r=n(61244),i=n(570336),o=n(239217),s=n(76208),a=n(606727),c=n(743375),u=n(407504),l=n(685940),f=n(222356),h=n(284551);function d(e,t){if(!t)return e instanceof r.y?e:new r.y((0,h.s)(e));if(null!=e){if((0,s.c)(e))return(0,f.u)(e,t);if((0,i.t)(e))return(0,u.p)(e,t);if((0,o.z)(e))return(0,c.n)(e,t);if((0,a.T)(e)||"string"==typeof e)return(0,l.E)(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},743375:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var r=n(61244),i=n(298760),o=n(356900);function s(e,t){return t?new r.y((function(n){var r=new i.w,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})):new r.y((0,o.V)(e))}},857027:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(61244),i=n(259026),o=n(414156),s=n(555709);Object.prototype.toString;function a(e,t,n,u){return(0,o.m)(n)&&(u=n,n=void 0),u?a(e,t,n).pipe((0,s.U)((function(e){return(0,i.k)(e)?u.apply(void 0,e):u(e)}))):new r.y((function(r){c(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function c(e,t,n,r,i){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var s=e;e.addEventListener(t,n,i),o=function(){return s.removeEventListener(t,n,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var a=e;e.on(t,n),o=function(){return a.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var u=e;e.addListener(t,n),o=function(){return u.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,f=e.length;l<f;l++)c(e[l],t,n,r,i)}r.add(o)}},685940:(e,t,n)=>{"use strict";n.d(t,{E:()=>a});var r=n(61244),i=n(298760),o=n(900999),s=n(152949);function a(e,t){if(!e)throw new Error("Iterable cannot be null");return t?new r.y((function(n){var r,s=new i.w;return s.add((function(){r&&"function"==typeof r.return&&r.return()})),s.add(t.schedule((function(){r=e[o.hZ](),s.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),s})):new r.y((0,s.u)(e))}},222356:(e,t,n)=>{"use strict";n.d(t,{u:()=>a});var r=n(61244),i=n(298760),o=n(815050),s=n(824105);function a(e,t){return t?new r.y((function(n){var r=new i.w;return r.add(t.schedule((function(){var i=e[o.L]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r})):new r.y((0,s.h)(e))}},407504:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var r=n(61244),i=n(298760),o=n(51203);function s(e,t){return t?new r.y((function(n){var r=new i.w;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r})):new r.y((0,o.A)(e))}},314370:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(61244),i=n(417507),o=n(322556),s=n(743375);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,a=null,c=e[e.length-1];return(0,i.K)(c)?(a=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof c&&(n=e.pop()),null===a&&1===e.length&&e[0]instanceof r.y?e[0]:(0,o.J)(n)((0,s.n)(e,a))}},383720:(e,t,n)=>{"use strict";n.d(t,{C:()=>o});var r=n(61244),i=n(433306),o=new r.y(i.Z)},618170:(e,t,n)=>{"use strict";n.d(t,{of:()=>a});var r=n(417507),i=n(743375),o=n(405631),s=n(947691);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];switch((0,r.K)(n)?e.pop():n=void 0,e.length){case 0:return(0,o.cS)(n);case 1:return n?(0,i.n)(e,n):(0,s.i)(e[0]);default:return(0,i.n)(e,n)}}},947691:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var r=n(61244);function i(e){var t=new r.y((function(t){t.next(e),t.complete()}));return t._isScalar=!0,t.value=e,t}},964944:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(61244);function i(e,t){return t?new r.y((function(n){return t.schedule(o,0,{error:e,subscriber:n})})):new r.y((function(t){return t.error(e)}))}function o(e){var t=e.error;e.subscriber.error(t)}},540486:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var r=n(35987),i=n(962039),o=n(681112),s=n(947407);function a(e){return function(t){var n=new c(e),r=t.lift(n);return n.caught=r}}var c=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.selector,this.caught))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.selector=n,i.caught=r,i}return r.ZT(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(i){return void e.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new o.d(this,void 0,void 0);this.add(r),(0,s.D)(this,n,void 0,void 0,r)}},t}(i.L)},452257:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var r=n(322556);function i(){return(0,r.J)(1)}},813251:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var r=n(847746);function i(e,t){return(0,r.zg)(e,t,1)}},203283:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(35987),i=n(110979),o=n(90964);function s(e,t){return void 0===t&&(t=o.P),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.dueTime,this.scheduler))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.ZT(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(i.L);function u(e){e.debouncedNext()}},592086:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var r=n(35987),i=n(110979);function o(e){return void 0===e&&(e=null),function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.defaultValue))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.ZT(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(i.L)},255022:(e,t,n)=>{"use strict";n.d(t,{g:()=>c});var r=n(35987),i=n(90964),o=n(469914),s=n(110979),a=n(942632);function c(e,t){void 0===t&&(t=i.P);var n=(0,o.J)(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new u(n,t))}}var u=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.delay,this.scheduler))},e}(),l=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return r.ZT(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new f(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(a.P.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(a.P.createComplete()),this.unsubscribe()},t}(s.L),f=function(){return function(e,t){this.time=e,this.notification=t}}()},166008:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var r=n(35987),i=n(110979);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(i.L)},449580:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});var r=n(35987),i=n(110979),o=n(298760);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.callback))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new o.w(n)),r}return r.ZT(t,e),t}(i.L)},925971:(e,t,n)=>{"use strict";n.d(t,{P:()=>u});var r=n(926929),i=n(166008),o=n(751015),s=n(592086),a=n(639266),c=n(343608);function u(e,t){var n=arguments.length>=2;return function(u){return u.pipe(e?(0,i.h)((function(t,n){return e(t,n,u)})):c.y,(0,o.q)(1),n?(0,s.d)(t):(0,a.T)((function(){return new r.K})))}}},555709:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var r=n(35987),i=n(110979);function o(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(i.L)},322556:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var r=n(847746),i=n(343608);function o(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),(0,r.zg)(i.y,e)}},847746:(e,t,n)=>{"use strict";n.d(t,{zg:()=>u});var r=n(35987),i=n(947407),o=n(962039),s=n(681112),a=n(555709),c=n(355760);function u(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(u((function(n,r){return(0,c.D)(e(n,r)).pipe((0,a.U)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new l(e,n))})}var l=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.project,this.concurrent))},e}(),f=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.ZT(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new s.d(this,void 0,void 0);this.destination.add(r),(0,i.D)(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.L)},489276:(e,t,n)=>{"use strict";n.d(t,{ht:()=>s});var r=n(35987),i=n(110979),o=n(942632);var s=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return r.ZT(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new a(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(o.P.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(o.P.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(o.P.createComplete()),this.unsubscribe()},t}(i.L),a=function(){return function(e,t){this.notification=e,this.destination=t}}()},267006:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var r=n(512630);function i(e,t,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===t&&(t=Number.POSITIVE_INFINITY),function(i){return i.lift(function(e,t,n){var i,o,s=0,a=!1,c=!1;return function(u){s++,i&&!a||(a=!1,i=new r.t(e,t,n),o=u.subscribe({next:function(e){i.next(e)},error:function(e){a=!0,i.error(e)},complete:function(){c=!0,i.complete()}}));var l=i.subscribe(this);return function(){s--,l.unsubscribe(),o&&0===s&&c&&o.unsubscribe()}}}(e,t,n))}}},751015:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});var r=n(35987),i=n(110979),o=n(576565),s=n(405631);function a(e){return function(t){return 0===e?(0,s.cS)():t.lift(new c(e))}}var c=function(){function e(e){if(this.total=e,this.total<0)throw new o.W}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.total))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.ZT(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(i.L)},513068:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});var r=n(35987),i=n(110979),o=n(433306),s=n(414156);function a(e,t,n){return function(r){return r.lift(new c(e,t,n))}}var c=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))},e}(),u=function(e){function t(t,n,r,i){var a=e.call(this,t)||this;return a._tapNext=o.Z,a._tapError=o.Z,a._tapComplete=o.Z,a._tapError=r||o.Z,a._tapComplete=i||o.Z,(0,s.m)(n)?(a._context=a,a._tapNext=n):n&&(a._context=n,a._tapNext=n.next||o.Z,a._tapError=n.error||o.Z,a._tapComplete=n.complete||o.Z),a}return r.ZT(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(i.L)},736277:(e,t,n)=>{"use strict";n.d(t,{P:()=>a,d:()=>s});var r=n(35987),i=n(962039),o=n(947407),s={leading:!0,trailing:!1};function a(e,t){return void 0===t&&(t=s),function(n){return n.lift(new c(e,t.leading,t.trailing))}}var c=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.durationSelector,this.leading,this.trailing))},e}(),u=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return r.ZT(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=null},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=(0,o.D)(this,t))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(t){return this.destination.error(t),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=null,t&&this.send()},t.prototype.notifyNext=function(e,t,n,r,i){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(i.L)},673316:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});var r=n(35987),i=n(110979),o=n(90964),s=n(736277);function a(e,t,n){return void 0===t&&(t=o.P),void 0===n&&(n=s.d),function(r){return r.lift(new c(e,t,n.leading,n.trailing))}}var c=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),u=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.duration=n,s.scheduler=r,s.leading=i,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return r.ZT(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(l,this.duration,{subscriber:this})),this.leading&&this.destination.next(e))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(i.L);function l(e){e.subscriber.clearThrottle()}},639266:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var r=n(513068),i=n(926929),o=function(e){return void 0===e&&(e=s),(0,r.b)({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw e()}})};function s(){return new i.K}},57735:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var r=n(35987),i=function(e){function t(t,n){return e.call(this)||this}return r.ZT(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(298760).w)},449126:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var r=n(35987),i=n(78147),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.ZT(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=i.H.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(i.H.clearImmediate(n),t.scheduled=void 0)},t}(n(135816).o)},222521:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var r=n(35987),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(878399).v)},135816:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(35987),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.ZT(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(n(57735).a)},878399:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var r=n(35987),i=n(138725),o=function(e){function t(n,r){void 0===r&&(r=i.b.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.ZT(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.b)},621092:(e,t,n)=>{"use strict";n.d(t,{F:()=>i});var r=n(35987),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.ZT(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(135816).o)},376381:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(35987),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t}(n(878399).v)},879885:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});var r=n(449126),i=new(n(222521).E)(r.t)},90964:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var r=n(135816),i=new(n(878399).v)(r.o)},338051:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(621092),i=new(n(376381).o)(r.F)},900999:(e,t,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,{hZ:()=>i});var i=r()},815050:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},423142:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},576565:(e,t,n)=>{"use strict";function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}n.d(t,{W:()=>i}),r.prototype=Object.create(Error.prototype);var i=r},926929:(e,t,n)=>{"use strict";function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}n.d(t,{K:()=>i}),r.prototype=Object.create(Error.prototype);var i=r},78147:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});var r=1,i={};var o={setImmediate:function(e){var t=r++;return i[t]=e,Promise.resolve().then((function(){return function(e){var t=i[e];t&&t()}(t)})),t},clearImmediate:function(e){delete i[e]}}},341016:(e,t,n)=>{"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(t,{N:()=>i}),r.prototype=Object.create(Error.prototype);var i=r},228782:(e,t,n)=>{"use strict";function r(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}n.d(t,{B:()=>i}),r.prototype=Object.create(Error.prototype);var i=r},893642:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(110979);function i(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.L?i:null}return!0}},363754:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});var r={e:{}}},571644:(e,t,n)=>{"use strict";function r(e){setTimeout((function(){throw e}))}n.d(t,{z:()=>r})},343608:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},259026:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},239217:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},469914:(e,t,n)=>{"use strict";function r(e){return e instanceof Date&&!isNaN(+e)}n.d(t,{J:()=>r})},414156:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},76208:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(815050);function i(e){return e&&"function"==typeof e[r.L]}},606727:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(900999);function i(e){return e&&"function"==typeof e[r.hZ]}},192009:(e,t,n)=>{"use strict";function r(e){return null!=e&&"object"==typeof e}n.d(t,{K:()=>r})},570336:(e,t,n)=>{"use strict";function r(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},417507:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},433306:(e,t,n)=>{"use strict";function r(){}n.d(t,{Z:()=>r})},862561:(e,t,n)=>{"use strict";n.d(t,{U:()=>o,z:()=>i});var r=n(433306);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:r.Z}},284551:(e,t,n)=>{"use strict";n.d(t,{s:()=>d});var r=n(61244),i=n(356900),o=n(51203),s=n(152949),a=n(824105),c=n(239217),u=n(570336),l=n(192009),f=n(900999),h=n(815050),d=function(e){if(e instanceof r.y)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[h.L])return(0,a.h)(e);if((0,c.z)(e))return(0,i.V)(e);if((0,u.t)(e))return(0,o.A)(e);if(e&&"function"==typeof e[f.hZ])return(0,s.u)(e);var t=(0,l.K)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},356900:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}}},152949:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var r=n(900999),i=function(e){return function(t){for(var n=e[r.hZ]();;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}}},824105:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(815050),i=function(e){return function(t){var n=e[r.L]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},51203:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(571644),i=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,r.z),t}}},947407:(e,t,n)=>{"use strict";n.d(t,{D:()=>o});var r=n(681112),i=n(284551);function o(e,t,n,o,s){if(void 0===s&&(s=new r.d(e,n,o)),!s.closed)return(0,i.s)(t)(s)}},103680:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var r=n(110979),i=n(423142),o=n(132174);function s(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(o.c)}},125805:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var r,i=n(363754);function o(){try{return r.apply(this,arguments)}catch(e){return i.T.e=e,i.T}}function s(e){return r=e,o}},35987:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},596774:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var u=o[c];if(!a(u))return!1;var l=e[u],f=t[u];if(!1===(i=n?n.call(r,l,f,u):void 0)||void 0===i&&l!==f)return!1}return!0}},730523:e=>{!function(){"use strict";e.exports={polyfill:function(){var e=window,t=document;if(!("scrollBehavior"in t.documentElement.style)||!0===e.__forceSmoothScrollPolyfill__){var n,r=e.HTMLElement||e.Element,i=468,o={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:r.prototype.scroll||c,scrollIntoView:r.prototype.scrollIntoView},s=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,a=(n=e.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);e.scroll=e.scrollTo=function(){void 0!==arguments[0]&&(!0!==u(arguments[0])?p.call(e,t.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset):o.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset))},e.scrollBy=function(){void 0!==arguments[0]&&(u(arguments[0])?o.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):p.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==u(arguments[0])){var e=arguments[0].left,t=arguments[0].top;p.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==u(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0!==u(arguments[0])){var n=function(e){for(;e!==t.body&&!1===h(e);)e=e.parentNode||e.host;return e}(this),r=n.getBoundingClientRect(),i=this.getBoundingClientRect();n!==t.body?(p.call(this,n,n.scrollLeft+i.left-r.left,n.scrollTop+i.top-r.top),"fixed"!==e.getComputedStyle(n).position&&e.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):e.scrollBy({left:i.left,top:i.top,behavior:"smooth"})}else o.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function c(e,t){this.scrollLeft=e,this.scrollTop=t}function u(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function l(e,t){return"Y"===t?e.clientHeight+a<e.scrollHeight:"X"===t?e.clientWidth+a<e.scrollWidth:void 0}function f(t,n){var r=e.getComputedStyle(t,null)["overflow"+n];return"auto"===r||"scroll"===r}function h(e){var t=l(e,"Y")&&f(e,"Y"),n=l(e,"X")&&f(e,"X");return t||n}function d(t){var n,r,o,a,c=(s()-t.startTime)/i;a=c=c>1?1:c,n=.5*(1-Math.cos(Math.PI*a)),r=t.startX+(t.x-t.startX)*n,o=t.startY+(t.y-t.startY)*n,t.method.call(t.scrollable,r,o),r===t.x&&o===t.y||e.requestAnimationFrame(d.bind(e,t))}function p(n,r,i){var a,u,l,f,h=s();n===t.body?(a=e,u=e.scrollX||e.pageXOffset,l=e.scrollY||e.pageYOffset,f=o.scroll):(a=n,u=n.scrollLeft,l=n.scrollTop,f=c),d({scrollable:a,method:f,startTime:h,startX:u,startY:l,x:r,y:i})}}}}()},388388:(e,t,n)=>{"use strict";n.d(t,{Wq:()=>S,ht:()=>w});var r=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],i=r.join(","),o="undefined"==typeof Element,s=o?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,a=!o&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},c=function e(t,n){var r;void 0===n&&(n=!0);var i=null==t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===i||"true"===i||n&&t&&e(t.parentNode)},u=function(e,t,n){if(c(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(i));return t&&s.call(e,i)&&r.unshift(e),r=r.filter(n)},l=function e(t,n,r){for(var o=[],a=Array.from(t);a.length;){var u=a.shift();if(!c(u,!1))if("SLOT"===u.tagName){var l=u.assignedElements(),f=e(l.length?l:u.children,!0,r);r.flatten?o.push.apply(o,f):o.push({scopeParent:u,candidates:f})}else{s.call(u,i)&&r.filter(u)&&(n||!t.includes(u))&&o.push(u);var h=u.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(u),d=!c(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(u));if(h&&d){var p=e(!0===h?u.children:h.children,!0,r);r.flatten?o.push.apply(o,p):o.push({scopeParent:u,candidates:p})}else a.unshift.apply(a,u.children)}}return o},f=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},h=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!f(e)?0:e.tabIndex},d=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},p=function(e){return"INPUT"===e.tagName},g=function(e){return function(e){return p(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||a(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)},y=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},m=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=s.call(e,"details>summary:first-of-type")?e.parentElement:e;if(s.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return y(e)}else{if("function"==typeof r){for(var o=e;e;){var c=e.parentElement,u=a(e);if(c&&!c.shadowRoot&&!0===r(c))return y(e);e=e.assignedSlot?e.assignedSlot:c||u===e.ownerDocument?c:u.host}e=o}if(function(e){var t,n,r,i,o=e&&a(e),s=null===(t=o)||void 0===t?void 0:t.host,c=!1;if(o&&o!==e)for(c=!!(null!==(n=s)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(s)||null!=e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!c&&s;){var u,l,f;c=!(null===(l=s=null===(u=o=a(s))||void 0===u?void 0:u.host)||void 0===l||null===(f=l.ownerDocument)||void 0===f||!f.contains(s))}return c}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},b=function(e,t){return!(t.disabled||c(t)||function(e){return p(e)&&"hidden"===e.type}(t)||m(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!s.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},v=function(e,t){return!(g(t)||h(t)<0||!b(e,t))},E=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},_=function e(t){var n=[],r=[];return t.forEach((function(t,i){var o=!!t.scopeParent,s=o?t.scopeParent:t,a=function(e,t){var n=h(e);return n<0&&t&&!f(e)?0:n}(s,o),c=o?e(t.candidates):s;0===a?o?n.push.apply(n,c):n.push(s):r.push({documentOrder:i,tabIndex:a,item:t,isScope:o,content:c})})),r.sort(d).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},w=function(e,t){var n;return n=(t=t||{}).getShadowRoot?l([e],t.includeContainer,{filter:v.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:E}):u(e,t.includeContainer,v.bind(null,t)),_(n)},S=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==s.call(e,i)&&v(t,e)}},375933:(e,t,n)=>{var r;!function(){function i(e,t,n){return e.call.apply(e.bind,arguments)}function o(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function s(e,t,n){return(s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:o).apply(null,arguments)}var a=Date.now||function(){return+new Date};function c(e,t){this.a=e,this.o=t||e,this.c=this.o.document}var u=!!window.FontFace;function l(e,t,n,r){if(t=e.c.createElement(t),n)for(var i in n)n.hasOwnProperty(i)&&("style"==i?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r&&t.appendChild(e.c.createTextNode(r)),t}function f(e,t,n){(e=e.c.getElementsByTagName(t)[0])||(e=document.documentElement),e.insertBefore(n,e.lastChild)}function h(e){e.parentNode&&e.parentNode.removeChild(e)}function d(e,t,n){t=t||[],n=n||[];for(var r=e.className.split(/\s+/),i=0;i<t.length;i+=1){for(var o=!1,s=0;s<r.length;s+=1)if(t[i]===r[s]){o=!0;break}o||r.push(t[i])}for(t=[],i=0;i<r.length;i+=1){for(o=!1,s=0;s<n.length;s+=1)if(r[i]===n[s]){o=!0;break}o||t.push(r[i])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function p(e,t){for(var n=e.className.split(/\s+/),r=0,i=n.length;r<i;r++)if(n[r]==t)return!0;return!1}function g(e,t,n){function r(){a&&i&&o&&(a(s),a=null)}t=l(e,"link",{rel:"stylesheet",href:t,media:"all"});var i=!1,o=!0,s=null,a=n||null;u?(t.onload=function(){i=!0,r()},t.onerror=function(){i=!0,s=Error("Stylesheet failed to load"),r()}):setTimeout((function(){i=!0,r()}),0),f(e,"head",t)}function y(e,t,n,r){var i=e.c.getElementsByTagName("head")[0];if(i){var o=l(e,"script",{src:t}),s=!1;return o.onload=o.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,n&&n(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&i.removeChild(o))},i.appendChild(o),setTimeout((function(){s||(s=!0,n&&n(Error("Script load timeout")))}),r||5e3),o}return null}function m(){this.a=0,this.c=null}function b(e){return e.a++,function(){e.a--,E(e)}}function v(e,t){e.c=t,E(e)}function E(e){0==e.a&&e.c&&(e.c(),e.c=null)}function _(e){this.a=e||"-"}function w(e,t){this.c=e,this.f=4,this.a="n";var n=(t||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function S(e){var t=[];e=e.split(/,\s*/);for(var n=0;n<e.length;n++){var r=e[n].replace(/['"]/g,"");-1!=r.indexOf(" ")||/^\d/.test(r)?t.push("'"+r+"'"):t.push(r)}return t.join(",")}function O(e){return e.a+e.f}function T(e){var t="normal";return"o"===e.a?t="oblique":"i"===e.a&&(t="italic"),t}function A(e){var t=4,n="n",r=null;return e&&((r=e.match(/(normal|oblique|italic)/i))&&r[1]&&(n=r[1].substr(0,1).toLowerCase()),(r=e.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?t=7:/[1-9]00/.test(r[1])&&(t=parseInt(r[1].substr(0,1),10)))),n+t}function I(e,t){this.c=e,this.f=e.o.document.documentElement,this.h=t,this.a=new _("-"),this.j=!1!==t.events,this.g=!1!==t.classes}function C(e){if(e.g){var t=p(e.f,e.a.c("wf","active")),n=[],r=[e.a.c("wf","loading")];t||n.push(e.a.c("wf","inactive")),d(e.f,n,r)}N(e,"inactive")}function N(e,t,n){e.j&&e.h[t]&&(n?e.h[t](n.c,O(n)):e.h[t]())}function R(){this.c={}}function P(e,t){this.c=e,this.f=t,this.a=l(this.c,"span",{"aria-hidden":"true"},this.f)}function x(e){f(e.c,"body",e.a)}function L(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+S(e.c)+";font-style:"+T(e)+";font-weight:"+e.f+"00;"}function M(e,t,n,r,i,o){this.g=e,this.j=t,this.a=r,this.c=n,this.f=i||3e3,this.h=o||void 0}function D(e,t,n,r,i,o,s){this.v=e,this.B=t,this.c=n,this.a=r,this.s=s||"BESbswy",this.f={},this.w=i||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new P(this.c,this.s),this.h=new P(this.c,this.s),this.j=new P(this.c,this.s),this.m=new P(this.c,this.s),e=L(e=new w(this.a.c+",serif",O(this.a))),this.g.a.style.cssText=e,e=L(e=new w(this.a.c+",sans-serif",O(this.a))),this.h.a.style.cssText=e,e=L(e=new w("serif",O(this.a))),this.j.a.style.cssText=e,e=L(e=new w("sans-serif",O(this.a))),this.m.a.style.cssText=e,x(this.g),x(this.h),x(this.j),x(this.m)}_.prototype.c=function(e){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)},M.prototype.start=function(){var e=this.c.o.document,t=this,n=a(),r=new Promise((function(r,i){!function o(){a()-n>=t.f?i():e.fonts.load(function(e){return T(e)+" "+e.f+"00 300px "+S(e.c)}(t.a),t.h).then((function(e){1<=e.length?r():setTimeout(o,25)}),(function(){i()}))}()})),i=null,o=new Promise((function(e,n){i=setTimeout(n,t.f)}));Promise.race([o,r]).then((function(){i&&(clearTimeout(i),i=null),t.g(t.a)}),(function(){t.j(t.a)}))};var k={D:"serif",C:"sans-serif"},j=null;function U(){if(null===j){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);j=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))}return j}function F(e,t,n){for(var r in k)if(k.hasOwnProperty(r)&&t===e.f[k[r]]&&n===e.f[k[r]])return!0;return!1}function B(e){var t,n=e.g.a.offsetWidth,r=e.h.a.offsetWidth;(t=n===e.f.serif&&r===e.f["sans-serif"])||(t=U()&&F(e,n,r)),t?a()-e.A>=e.w?U()&&F(e,n,r)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?V(e,e.v):V(e,e.B):function(e){setTimeout(s((function(){B(this)}),e),50)}(e):V(e,e.v)}function V(e,t){setTimeout(s((function(){h(this.g.a),h(this.h.a),h(this.j.a),h(this.m.a),t(this.a)}),e),0)}function q(e,t,n){this.c=e,this.a=t,this.f=0,this.m=this.j=!1,this.s=n}D.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=a(),B(this)};var G=null;function z(e){0==--e.f&&e.j&&(e.m?((e=e.a).g&&d(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),N(e,"active")):C(e.a))}function H(e){this.j=e,this.a=new R,this.h=0,this.f=this.g=!0}function Y(e,t,n,r,i){var o=0==--e.h;(e.f||e.g)&&setTimeout((function(){var e=i||null,a=r||{};if(0===n.length&&o)C(t.a);else{t.f+=n.length,o&&(t.j=o);var c,u=[];for(c=0;c<n.length;c++){var l=n[c],f=a[l.c],h=t.a,p=l;if(h.g&&d(h.f,[h.a.c("wf",p.c,O(p).toString(),"loading")]),N(h,"fontloading",p),h=null,null===G)if(window.FontFace){p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);G=p?42<parseInt(p[1],10):!g}else G=!1;h=G?new M(s(t.g,t),s(t.h,t),t.c,l,t.s,f):new D(s(t.g,t),s(t.h,t),t.c,l,t.s,e,f),u.push(h)}for(c=0;c<u.length;c++)u[c].start()}}),0)}function K(e,t){this.c=e,this.a=t}function W(e,t){this.c=e,this.a=t}function X(e,t){this.c=e||Z,this.a=[],this.f=[],this.g=t||""}q.prototype.g=function(e){var t=this.a;t.g&&d(t.f,[t.a.c("wf",e.c,O(e).toString(),"active")],[t.a.c("wf",e.c,O(e).toString(),"loading"),t.a.c("wf",e.c,O(e).toString(),"inactive")]),N(t,"fontactive",e),this.m=!0,z(this)},q.prototype.h=function(e){var t=this.a;if(t.g){var n=p(t.f,t.a.c("wf",e.c,O(e).toString(),"active")),r=[],i=[t.a.c("wf",e.c,O(e).toString(),"loading")];n||r.push(t.a.c("wf",e.c,O(e).toString(),"inactive")),d(t.f,r,i)}N(t,"fontinactive",e),z(this)},H.prototype.load=function(e){this.c=new c(this.j,e.context||this.j),this.g=!1!==e.events,this.f=!1!==e.classes,function(e,t,n){var r=[],i=n.timeout;!function(e){e.g&&d(e.f,[e.a.c("wf","loading")]),N(e,"loading")}(t);r=function(e,t,n){var r,i=[];for(r in t)if(t.hasOwnProperty(r)){var o=e.c[r];o&&i.push(o(t[r],n))}return i}(e.a,n,e.c);var o=new q(e.c,t,i);for(e.h=r.length,t=0,n=r.length;t<n;t++)r[t].load((function(t,n,r){Y(e,o,t,n,r)}))}(this,new I(this.c,e),e)},K.prototype.load=function(e){function t(){if(o["__mti_fntLst"+r]){var n,i=o["__mti_fntLst"+r](),s=[];if(i)for(var a=0;a<i.length;a++){var c=i[a].fontfamily;null!=i[a].fontStyle&&null!=i[a].fontWeight?(n=i[a].fontStyle+i[a].fontWeight,s.push(new w(c,n))):s.push(new w(c))}e(s)}else setTimeout((function(){t()}),50)}var n=this,r=n.a.projectId,i=n.a.version;if(r){var o=n.c.o;y(this.c,(n.a.api||"https://fast.fonts.net/jsapi")+"/"+r+".js"+(i?"?v="+i:""),(function(i){i?e([]):(o["__MonotypeConfiguration__"+r]=function(){return n.a},t())})).id="__MonotypeAPIScript__"+r}else e([])},W.prototype.load=function(e){var t,n,r=this.a.urls||[],i=this.a.families||[],o=this.a.testStrings||{},s=new m;for(t=0,n=r.length;t<n;t++)g(this.c,r[t],b(s));var a=[];for(t=0,n=i.length;t<n;t++)if((r=i[t].split(":"))[1])for(var c=r[1].split(","),u=0;u<c.length;u+=1)a.push(new w(r[0],c[u]));else a.push(new w(r[0]));v(s,(function(){e(a,o)}))};var Z="https://fonts.googleapis.com/css";function Q(e){this.f=e,this.a=[],this.c={}}var $={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},J={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ee={i:"i",italic:"i",n:"n",normal:"n"},te=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function ne(e,t){this.c=e,this.a=t}var re={Arimo:!0,Cousine:!0,Tinos:!0};function ie(e,t){this.c=e,this.a=t}function oe(e,t){this.c=e,this.f=t,this.a=[]}ne.prototype.load=function(e){var t=new m,n=this.c,r=new X(this.a.api,this.a.text),i=this.a.families;!function(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r].split(":");3==i.length&&e.f.push(i.pop());var o="";2==i.length&&""!=i[1]&&(o=":"),e.a.push(i.join(o))}}(r,i);var o=new Q(i);!function(e){for(var t=e.f.length,n=0;n<t;n++){var r=e.f[n].split(":"),i=r[0].replace(/\+/g," "),o=["n4"];if(2<=r.length){var s;if(s=[],a=r[1])for(var a,c=(a=a.split(",")).length,u=0;u<c;u++){var l;if((l=a[u]).match(/^[\w-]+$/))if(null==(f=te.exec(l.toLowerCase())))l="";else{if(l=null==(l=f[2])||""==l?"n":ee[l],null==(f=f[1])||""==f)f="4";else var f=J[f]||(isNaN(f)?"4":f.substr(0,1));l=[l,f].join("")}else l="";l&&s.push(l)}0<s.length&&(o=s),3==r.length&&(s=[],0<(r=(r=r[2])?r.split(","):s).length&&(r=$[r[0]])&&(e.c[i]=r))}for(e.c[i]||(r=$[i])&&(e.c[i]=r),r=0;r<o.length;r+=1)e.a.push(new w(i,o[r]))}}(o),g(n,function(e){if(0==e.a.length)throw Error("No fonts to load!");if(-1!=e.c.indexOf("kit="))return e.c;for(var t=e.a.length,n=[],r=0;r<t;r++)n.push(e.a[r].replace(/ /g,"+"));return t=e.c+"?family="+n.join("%7C"),0<e.f.length&&(t+="&subset="+e.f.join(",")),0<e.g.length&&(t+="&text="+encodeURIComponent(e.g)),t}(r),b(t)),v(t,(function(){e(o.a,o.c,re)}))},ie.prototype.load=function(e){var t=this.a.id,n=this.c.o;t?y(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",(function(t){if(t)e([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){t=n.Typekit.config.fn;for(var r=[],i=0;i<t.length;i+=2)for(var o=t[i],s=t[i+1],a=0;a<s.length;a++)r.push(new w(o,s[a]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(c){}e(r)}}),2e3):e([])},oe.prototype.load=function(e){var t=this.f.id,n=this.c.o,r=this;t?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[t]=function(t,n){for(var i=0,o=n.fonts.length;i<o;++i){var s=n.fonts[i];r.a.push(new w(s.name,A("font-weight:"+s.weight+";font-style:"+s.style)))}e(r.a)},y(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(e){return e.o.location.hostname||e.a.location.hostname}(this.c)+"/"+t+".js",(function(t){t&&e([])}))):e([])};var se=new H(window);se.a.c.custom=function(e,t){return new W(t,e)},se.a.c.fontdeck=function(e,t){return new oe(t,e)},se.a.c.monotype=function(e,t){return new K(t,e)},se.a.c.typekit=function(e,t){return new ie(t,e)},se.a.c.google=function(e,t){return new ne(t,e)};var ae={load:s(se.load,se)};void 0===(r=function(){return ae}.call(t,n,t,e))||(e.exports=r)}()},485375:()=>{},204942:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(367343);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},601413:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(204942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},235512:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(671002);function i(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}},367343:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(671002),i=n(235512);function o(e){var t=(0,i.Z)(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},671002:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:()=>r})},185983:(e,t,n)=>{"use strict";n.d(t,{Cp:()=>h,Qo:()=>p,RR:()=>u,US:()=>s,X5:()=>c,cv:()=>g,dp:()=>b,dr:()=>m,oo:()=>o,uY:()=>y,x7:()=>a});var r=n(71347);function i(e,t,n){let{reference:i,floating:o}=e;const s=(0,r.Qq)(t),a=(0,r.Wh)(t),c=(0,r.I4)(a),u=(0,r.k3)(t),l="y"===s,f=i.x+i.width/2-o.width/2,h=i.y+i.height/2-o.height/2,d=i[c]/2-o[c]/2;let p;switch(u){case"top":p={x:f,y:i.y-o.height};break;case"bottom":p={x:f,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:h};break;case"left":p={x:i.x-o.width,y:h};break;default:p={x:i.x,y:i.y}}switch((0,r.hp)(t)){case"start":p[a]-=d*(n&&l?-1:1);break;case"end":p[a]+=d*(n&&l?-1:1)}return p}const o=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:a}=n,c=s.filter(Boolean),u=await(null==a.isRTL?void 0:a.isRTL(t));let l=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:h}=i(l,r,u),d=r,p={},g=0;for(let y=0;y<c.length;y++){const{name:n,fn:s}=c[y],{x:m,y:b,data:v,reset:E}=await s({x:f,y:h,initialPlacement:r,placement:d,strategy:o,middlewareData:p,rects:l,platform:a,elements:{reference:e,floating:t}});f=null!=m?m:f,h=null!=b?b:h,p={...p,[n]:{...p[n],...v}},E&&g<=50&&(g++,"object"==typeof E&&(E.placement&&(d=E.placement),E.rects&&(l=!0===E.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):E.rects),({x:f,y:h}=i(l,d,u))),y=-1)}return{x:f,y:h,placement:d,strategy:o,middlewareData:p}};async function s(e,t){var n;void 0===t&&(t={});const{x:i,y:o,platform:s,rects:a,elements:c,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:d=!1,padding:p=0}=(0,r.ku)(t,e),g=(0,r.yd)(p),y=c[d?"floating"===h?"reference":"floating":h],m=(0,r.JB)(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(y)))||n?y:y.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(c.floating)),boundary:l,rootBoundary:f,strategy:u})),b="floating"===h?{x:i,y:o,width:a.floating.width,height:a.floating.height}:a.reference,v=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c.floating)),E=await(null==s.isElement?void 0:s.isElement(v))&&await(null==s.getScale?void 0:s.getScale(v))||{x:1,y:1},_=(0,r.JB)(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:b,offsetParent:v,strategy:u}):b);return{top:(m.top-_.top+g.top)/E.y,bottom:(_.bottom-m.bottom+g.bottom)/E.y,left:(m.left-_.left+g.left)/E.x,right:(_.right-m.right+g.right)/E.x}}const a=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:o,rects:s,platform:a,elements:c,middlewareData:u}=t,{element:l,padding:f=0}=(0,r.ku)(e,t)||{};if(null==l)return{};const h=(0,r.yd)(f),d={x:n,y:i},p=(0,r.Wh)(o),g=(0,r.I4)(p),y=await a.getDimensions(l),m="y"===p,b=m?"top":"left",v=m?"bottom":"right",E=m?"clientHeight":"clientWidth",_=s.reference[g]+s.reference[p]-d[p]-s.floating[g],w=d[p]-s.reference[p],S=await(null==a.getOffsetParent?void 0:a.getOffsetParent(l));let O=S?S[E]:0;O&&await(null==a.isElement?void 0:a.isElement(S))||(O=c.floating[E]||s.floating[g]);const T=_/2-w/2,A=O/2-y[g]/2-1,I=(0,r.VV)(h[b],A),C=(0,r.VV)(h[v],A),N=I,R=O-y[g]-C,P=O/2-y[g]/2+T,x=(0,r.uZ)(N,P,R),L=!u.arrow&&null!=(0,r.hp)(o)&&P!==x&&s.reference[g]/2-(P<N?I:C)-y[g]/2<0,M=L?P<N?P-N:P-R:0;return{[p]:d[p]+M,data:{[p]:x,centerOffset:P-x-M,...L&&{alignmentOffset:M}},reset:L}}});const c=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,i,o;const{rects:a,middlewareData:c,placement:u,platform:l,elements:f}=t,{crossAxis:h=!1,alignment:d,allowedPlacements:p=r.Ct,autoAlignment:g=!0,...y}=(0,r.ku)(e,t),m=void 0!==d||p===r.Ct?function(e,t,n){return(e?[...n.filter((t=>(0,r.hp)(t)===e)),...n.filter((t=>(0,r.hp)(t)!==e))]:n.filter((e=>(0,r.k3)(e)===e))).filter((n=>!e||(0,r.hp)(n)===e||!!t&&(0,r.Go)(n)!==n))}(d||null,g,p):p,b=await s(t,y),v=(null==(n=c.autoPlacement)?void 0:n.index)||0,E=m[v];if(null==E)return{};const _=(0,r.i8)(E,a,await(null==l.isRTL?void 0:l.isRTL(f.floating)));if(u!==E)return{reset:{placement:m[0]}};const w=[b[(0,r.k3)(E)],b[_[0]],b[_[1]]],S=[...(null==(i=c.autoPlacement)?void 0:i.overflows)||[],{placement:E,overflows:w}],O=m[v+1];if(O)return{data:{index:v+1,overflows:S},reset:{placement:O}};const T=S.map((e=>{const t=(0,r.hp)(e.placement);return[e.placement,t&&h?e.overflows.slice(0,2).reduce(((e,t)=>e+t),0):e.overflows[0],e.overflows]})).sort(((e,t)=>e[1]-t[1])),A=(null==(o=T.filter((e=>e[2].slice(0,(0,r.hp)(e[0])?2:3).every((e=>e<=0))))[0])?void 0:o[0])||T[0][0];return A!==u?{data:{index:v+1,overflows:S},reset:{placement:A}}:{}}}},u=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:o,middlewareData:a,rects:c,initialPlacement:u,platform:l,elements:f}=t,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:m=!0,...b}=(0,r.ku)(e,t);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const v=(0,r.k3)(o),E=(0,r.k3)(u)===u,_=await(null==l.isRTL?void 0:l.isRTL(f.floating)),w=p||(E||!m?[(0,r.pw)(u)]:(0,r.gy)(u));p||"none"===y||w.push(...(0,r.KX)(u,m,y,_));const S=[u,...w],O=await s(t,b),T=[];let A=(null==(i=a.flip)?void 0:i.overflows)||[];if(h&&T.push(O[v]),d){const e=(0,r.i8)(o,c,_);T.push(O[e[0]],O[e[1]])}if(A=[...A,{placement:o,overflows:T}],!T.every((e=>e<=0))){var I,C;const e=((null==(I=a.flip)?void 0:I.index)||0)+1,t=S[e];if(t)return{data:{index:e,overflows:A},reset:{placement:t}};let n=null==(C=A.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:C.placement;if(!n)switch(g){case"bestFit":{var N;const e=null==(N=A.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:N[0];e&&(n=e);break}case"initialPlacement":n=u}if(o!==n)return{reset:{placement:n}}}return{}}}};function l(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function f(e){return r.mA.some((t=>e[t]>=0))}const h=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:i="referenceHidden",...o}=(0,r.ku)(e,t);switch(i){case"referenceHidden":{const e=l(await s(t,{...o,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:f(e)}}}case"escaped":{const e=l(await s(t,{...o,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:f(e)}}}default:return{}}}}};function d(e){const t=(0,r.VV)(...e.map((e=>e.left))),n=(0,r.VV)(...e.map((e=>e.top)));return{x:t,y:n,width:(0,r.Fp)(...e.map((e=>e.right)))-t,height:(0,r.Fp)(...e.map((e=>e.bottom)))-n}}const p=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:i,rects:o,platform:s,strategy:a}=t,{padding:c=2,x:u,y:l}=(0,r.ku)(e,t),f=Array.from(await(null==s.getClientRects?void 0:s.getClientRects(i.reference))||[]),h=function(e){const t=e.slice().sort(((e,t)=>e.y-t.y)),n=[];let i=null;for(let r=0;r<t.length;r++){const e=t[r];!i||e.y-i.y>i.height/2?n.push([e]):n[n.length-1].push(e),i=e}return n.map((e=>(0,r.JB)(d(e))))}(f),p=(0,r.JB)(d(f)),g=(0,r.yd)(c);const y=await s.getElementRects({reference:{getBoundingClientRect:function(){if(2===h.length&&h[0].left>h[1].right&&null!=u&&null!=l)return h.find((e=>u>e.left-g.left&&u<e.right+g.right&&l>e.top-g.top&&l<e.bottom+g.bottom))||p;if(h.length>=2){if("y"===(0,r.Qq)(n)){const e=h[0],t=h[h.length-1],i="top"===(0,r.k3)(n),o=e.top,s=t.bottom,a=i?e.left:t.left,c=i?e.right:t.right;return{top:o,bottom:s,left:a,right:c,width:c-a,height:s-o,x:a,y:o}}const e="left"===(0,r.k3)(n),t=(0,r.Fp)(...h.map((e=>e.right))),i=(0,r.VV)(...h.map((e=>e.left))),o=h.filter((n=>e?n.left===i:n.right===t)),s=o[0].top,a=o[o.length-1].bottom;return{top:s,bottom:a,left:i,right:t,width:t-i,height:a-s,x:i,y:s}}return p}},floating:i.floating,strategy:a});return o.reference.x!==y.reference.x||o.reference.y!==y.reference.y||o.reference.width!==y.reference.width||o.reference.height!==y.reference.height?{reset:{rects:y}}:{}}}};const g=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:o,y:s,placement:a,middlewareData:c}=t,u=await async function(e,t){const{placement:n,platform:i,elements:o}=e,s=await(null==i.isRTL?void 0:i.isRTL(o.floating)),a=(0,r.k3)(n),c=(0,r.hp)(n),u="y"===(0,r.Qq)(n),l=["left","top"].includes(a)?-1:1,f=s&&u?-1:1,h=(0,r.ku)(t,e);let{mainAxis:d,crossAxis:p,alignmentAxis:g}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return c&&"number"==typeof g&&(p="end"===c?-1*g:g),u?{x:p*f,y:d*l}:{x:d*l,y:p*f}}(t,e);return a===(null==(n=c.offset)?void 0:n.placement)&&null!=(i=c.arrow)&&i.alignmentOffset?{}:{x:o+u.x,y:s+u.y,data:{...u,placement:a}}}}},y=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:o}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:u={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=(0,r.ku)(e,t),f={x:n,y:i},h=await s(t,l),d=(0,r.Qq)((0,r.k3)(o)),p=(0,r.Rn)(d);let g=f[p],y=f[d];if(a){const e="y"===p?"bottom":"right",t=g+h["y"===p?"top":"left"],n=g-h[e];g=(0,r.uZ)(t,g,n)}if(c){const e="y"===d?"bottom":"right",t=y+h["y"===d?"top":"left"],n=y-h[e];y=(0,r.uZ)(t,y,n)}const m=u.fn({...t,[p]:g,[d]:y});return{...m,data:{x:m.x-n,y:m.y-i}}}}},m=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:o,rects:s,middlewareData:a}=t,{offset:c=0,mainAxis:u=!0,crossAxis:l=!0}=(0,r.ku)(e,t),f={x:n,y:i},h=(0,r.Qq)(o),d=(0,r.Rn)(h);let p=f[d],g=f[h];const y=(0,r.ku)(c,t),m="number"==typeof y?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const e="y"===d?"height":"width",t=s.reference[d]-s.floating[e]+m.mainAxis,n=s.reference[d]+s.reference[e]-m.mainAxis;p<t?p=t:p>n&&(p=n)}if(l){var b,v;const e="y"===d?"width":"height",t=["top","left"].includes((0,r.k3)(o)),n=s.reference[h]-s.floating[e]+(t&&(null==(b=a.offset)?void 0:b[h])||0)+(t?0:m.crossAxis),i=s.reference[h]+s.reference[e]+(t?0:(null==(v=a.offset)?void 0:v[h])||0)-(t?m.crossAxis:0);g<n?g=n:g>i&&(g=i)}return{[d]:p,[h]:g}}}},b=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:i,platform:o,elements:a}=t,{apply:c=(()=>{}),...u}=(0,r.ku)(e,t),l=await s(t,u),f=(0,r.k3)(n),h=(0,r.hp)(n),d="y"===(0,r.Qq)(n),{width:p,height:g}=i.floating;let y,m;"top"===f||"bottom"===f?(y=f,m=h===(await(null==o.isRTL?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(m=f,y="end"===h?"top":"bottom");const b=g-l.top-l.bottom,v=p-l.left-l.right,E=(0,r.VV)(g-l[y],b),_=(0,r.VV)(p-l[m],v),w=!t.middlewareData.shift;let S=E,O=_;if(d?O=h||w?(0,r.VV)(_,v):v:S=h||w?(0,r.VV)(E,b):b,w&&!h){const e=(0,r.Fp)(l.left,0),t=(0,r.Fp)(l.right,0),n=(0,r.Fp)(l.top,0),i=(0,r.Fp)(l.bottom,0);d?O=p-2*(0!==e||0!==t?e+t:(0,r.Fp)(l.left,l.right)):S=g-2*(0!==n||0!==i?n+i:(0,r.Fp)(l.top,l.bottom))}await c({...t,availableWidth:O,availableHeight:S});const T=await o.getDimensions(a.floating);return p!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}}},66037:(e,t,n)=>{"use strict";n.d(t,{Cp:()=>N,Jv:()=>_,Me:()=>w,Qo:()=>P,RR:()=>I,US:()=>S,X5:()=>T,cv:()=>O,dp:()=>C,dr:()=>x,oo:()=>L,uY:()=>A,x7:()=>R});var r=n(71347),i=n(185983),o=n(137317);function s(e){const t=(0,o.Dx)(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=(0,o.Re)(e),a=s?e.offsetWidth:n,c=s?e.offsetHeight:i,u=(0,r.NM)(n)!==a||(0,r.NM)(i)!==c;return u&&(n=a,i=c),{width:n,height:i,$:u}}function a(e){return(0,o.kK)(e)?e:e.contextElement}function c(e){const t=a(e);if(!(0,o.Re)(t))return(0,r.ze)(1);const n=t.getBoundingClientRect(),{width:i,height:c,$:u}=s(t);let l=(u?(0,r.NM)(n.width):n.width)/i,f=(u?(0,r.NM)(n.height):n.height)/c;return l&&Number.isFinite(l)||(l=1),f&&Number.isFinite(f)||(f=1),{x:l,y:f}}const u=(0,r.ze)(0);function l(e){const t=(0,o.Jj)(e);return(0,o.Pf)()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:u}function f(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1);const s=e.getBoundingClientRect(),u=a(e);let f=(0,r.ze)(1);t&&(i?(0,o.kK)(i)&&(f=c(i)):f=c(e));const h=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==(0,o.Jj)(e))&&t}(u,n,i)?l(u):(0,r.ze)(0);let d=(s.left+h.x)/f.x,p=(s.top+h.y)/f.y,g=s.width/f.x,y=s.height/f.y;if(u){const e=(0,o.Jj)(u),t=i&&(0,o.kK)(i)?(0,o.Jj)(i):i;let n=e,r=n.frameElement;for(;r&&i&&t!==n;){const e=c(r),t=r.getBoundingClientRect(),i=(0,o.Dx)(r),s=t.left+(r.clientLeft+parseFloat(i.paddingLeft))*e.x,a=t.top+(r.clientTop+parseFloat(i.paddingTop))*e.y;d*=e.x,p*=e.y,g*=e.x,y*=e.y,d+=s,p+=a,n=(0,o.Jj)(r),r=n.frameElement}}return(0,r.JB)({width:g,height:y,x:d,y:p})}const h=[":popover-open",":modal"];function d(e){return h.some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function p(e){return f((0,o.tF)(e)).left+(0,o.Lw)(e).scrollLeft}function g(e,t,n){let i;if("viewport"===t)i=function(e,t){const n=(0,o.Jj)(e),r=(0,o.tF)(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,c=0,u=0;if(i){s=i.width,a=i.height;const e=(0,o.Pf)();(!e||e&&"fixed"===t)&&(c=i.offsetLeft,u=i.offsetTop)}return{width:s,height:a,x:c,y:u}}(e,n);else if("document"===t)i=function(e){const t=(0,o.tF)(e),n=(0,o.Lw)(e),i=e.ownerDocument.body,s=(0,r.Fp)(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=(0,r.Fp)(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let c=-n.scrollLeft+p(e);const u=-n.scrollTop;return"rtl"===(0,o.Dx)(i).direction&&(c+=(0,r.Fp)(t.clientWidth,i.clientWidth)-s),{width:s,height:a,x:c,y:u}}((0,o.tF)(e));else if((0,o.kK)(t))i=function(e,t){const n=f(e,!0,"fixed"===t),i=n.top+e.clientTop,s=n.left+e.clientLeft,a=(0,o.Re)(e)?c(e):(0,r.ze)(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:s*a.x,y:i*a.y}}(t,n);else{const n=l(e);i={...t,x:t.x-n.x,y:t.y-n.y}}return(0,r.JB)(i)}function y(e,t){const n=(0,o.Ow)(e);return!(n===t||!(0,o.kK)(n)||(0,o.Py)(n))&&("fixed"===(0,o.Dx)(n).position||y(n,t))}function m(e,t,n){const i=(0,o.Re)(t),s=(0,o.tF)(t),a="fixed"===n,c=f(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const l=(0,r.ze)(0);if(i||!i&&!a)if(("body"!==(0,o.wk)(t)||(0,o.ao)(s))&&(u=(0,o.Lw)(t)),i){const e=f(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else s&&(l.x=p(s));return{x:c.left+u.scrollLeft-l.x,y:c.top+u.scrollTop-l.y,width:c.width,height:c.height}}function b(e){return"static"===(0,o.Dx)(e).position}function v(e,t){return(0,o.Re)(e)&&"fixed"!==(0,o.Dx)(e).position?t?t(e):e.offsetParent:null}function E(e,t){const n=(0,o.Jj)(e);if(d(e))return n;if(!(0,o.Re)(e)){let t=(0,o.Ow)(e);for(;t&&!(0,o.Py)(t);){if((0,o.kK)(t)&&!b(t))return t;t=(0,o.Ow)(t)}return n}let r=v(e,t);for(;r&&(0,o.Ze)(r)&&b(r);)r=v(r,t);return r&&(0,o.Py)(r)&&b(r)&&!(0,o.hT)(r)?n:r||(0,o.gQ)(e)||n}const _={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const a="fixed"===s,u=(0,o.tF)(i),l=!!t&&d(t.floating);if(i===u||l&&a)return n;let h={scrollLeft:0,scrollTop:0},p=(0,r.ze)(1);const g=(0,r.ze)(0),y=(0,o.Re)(i);if((y||!y&&!a)&&(("body"!==(0,o.wk)(i)||(0,o.ao)(u))&&(h=(0,o.Lw)(i)),(0,o.Re)(i))){const e=f(i);p=c(i),g.x=e.x+i.clientLeft,g.y=e.y+i.clientTop}return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-h.scrollLeft*p.x+g.x,y:n.y*p.y-h.scrollTop*p.y+g.y}},getDocumentElement:o.tF,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const a=[..."clippingAncestors"===n?d(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=(0,o.Kx)(e,[],!1).filter((e=>(0,o.kK)(e)&&"body"!==(0,o.wk)(e))),i=null;const s="fixed"===(0,o.Dx)(e).position;let a=s?(0,o.Ow)(e):e;for(;(0,o.kK)(a)&&!(0,o.Py)(a);){const t=(0,o.Dx)(a),n=(0,o.hT)(a);n||"fixed"!==t.position||(i=null),(s?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||(0,o.ao)(a)&&!n&&y(e,a))?r=r.filter((e=>e!==a)):i=t,a=(0,o.Ow)(a)}return t.set(e,r),r}(t,this._c):[].concat(n),i],c=a[0],u=a.reduce(((e,n)=>{const i=g(t,n,s);return e.top=(0,r.Fp)(i.top,e.top),e.right=(0,r.VV)(i.right,e.right),e.bottom=(0,r.VV)(i.bottom,e.bottom),e.left=(0,r.Fp)(i.left,e.left),e}),g(t,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},getOffsetParent:E,getElementRects:async function(e){const t=this.getOffsetParent||E,n=this.getDimensions,r=await n(e.floating);return{reference:m(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=s(e);return{width:t,height:n}},getScale:c,isElement:o.kK,isRTL:function(e){return"rtl"===(0,o.Dx)(e).direction}};function w(e,t,n,i){void 0===i&&(i={});const{ancestorScroll:s=!0,ancestorResize:c=!0,elementResize:u="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:h=!1}=i,d=a(e),p=s||c?[...d?(0,o.Kx)(d):[],...(0,o.Kx)(t)]:[];p.forEach((e=>{s&&e.addEventListener("scroll",n,{passive:!0}),c&&e.addEventListener("resize",n)}));const g=d&&l?function(e,t){let n,i=null;const s=(0,o.tF)(e);function a(){var e;clearTimeout(n),null==(e=i)||e.disconnect(),i=null}return function o(c,u){void 0===c&&(c=!1),void 0===u&&(u=1),a();const{left:l,top:f,width:h,height:d}=e.getBoundingClientRect();if(c||t(),!h||!d)return;const p={rootMargin:-(0,r.GW)(f)+"px "+-(0,r.GW)(s.clientWidth-(l+h))+"px "+-(0,r.GW)(s.clientHeight-(f+d))+"px "+-(0,r.GW)(l)+"px",threshold:(0,r.Fp)(0,(0,r.VV)(1,u))||1};let g=!0;function y(e){const t=e[0].intersectionRatio;if(t!==u){if(!g)return o();t?o(!1,t):n=setTimeout((()=>{o(!1,1e-7)}),1e3)}g=!1}try{i=new IntersectionObserver(y,{...p,root:s.ownerDocument})}catch(m){i=new IntersectionObserver(y,p)}i.observe(e)}(!0),a}(d,n):null;let y,m=-1,b=null;u&&(b=new ResizeObserver((e=>{let[r]=e;r&&r.target===d&&b&&(b.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame((()=>{var e;null==(e=b)||e.observe(t)}))),n()})),d&&!h&&b.observe(d),b.observe(t));let v=h?f(e):null;return h&&function t(){const r=f(e);!v||r.x===v.x&&r.y===v.y&&r.width===v.width&&r.height===v.height||n();v=r,y=requestAnimationFrame(t)}(),n(),()=>{var e;p.forEach((e=>{s&&e.removeEventListener("scroll",n),c&&e.removeEventListener("resize",n)})),null==g||g(),null==(e=b)||e.disconnect(),b=null,h&&cancelAnimationFrame(y)}}const S=i.US,O=i.cv,T=i.X5,A=i.uY,I=i.RR,C=i.dp,N=i.Cp,R=i.x7,P=i.Qo,x=i.dr,L=(e,t,n)=>{const r=new Map,o={platform:_,...n},s={...o.platform,_c:r};return(0,i.oo)(e,t,{...o,platform:s})}},801371:(e,t,n)=>{"use strict";n.d(t,{Cp:()=>m,RR:()=>y,YF:()=>f,cv:()=>d,dr:()=>g,uY:()=>p,x7:()=>b});var r=n(66037),i=n(667294),o=n(973935),s="undefined"!=typeof document?i.useLayoutEffect:i.useEffect;function a(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!=r--;)if(!a(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!=r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!a(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function c(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function u(e,t){const n=c(e);return Math.round(t*n)/n}function l(e){const t=i.useRef(e);return s((()=>{t.current=e})),t}function f(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:f=[],platform:h,elements:{reference:d,floating:p}={},transform:g=!0,whileElementsMounted:y,open:m}=e,[b,v]=i.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[E,_]=i.useState(f);a(E,f)||_(f);const[w,S]=i.useState(null),[O,T]=i.useState(null),A=i.useCallback((e=>{e!==R.current&&(R.current=e,S(e))}),[]),I=i.useCallback((e=>{e!==P.current&&(P.current=e,T(e))}),[]),C=d||w,N=p||O,R=i.useRef(null),P=i.useRef(null),x=i.useRef(b),L=null!=y,M=l(y),D=l(h),k=i.useCallback((()=>{if(!R.current||!P.current)return;const e={placement:t,strategy:n,middleware:E};D.current&&(e.platform=D.current),(0,r.oo)(R.current,P.current,e).then((e=>{const t={...e,isPositioned:!0};j.current&&!a(x.current,t)&&(x.current=t,o.flushSync((()=>{v(t)})))}))}),[E,t,n,D]);s((()=>{!1===m&&x.current.isPositioned&&(x.current.isPositioned=!1,v((e=>({...e,isPositioned:!1}))))}),[m]);const j=i.useRef(!1);s((()=>(j.current=!0,()=>{j.current=!1})),[]),s((()=>{if(C&&(R.current=C),N&&(P.current=N),C&&N){if(M.current)return M.current(C,N,k);k()}}),[C,N,k,M,L]);const U=i.useMemo((()=>({reference:R,floating:P,setReference:A,setFloating:I})),[A,I]),F=i.useMemo((()=>({reference:C,floating:N})),[C,N]),B=i.useMemo((()=>{const e={position:n,left:0,top:0};if(!F.floating)return e;const t=u(F.floating,b.x),r=u(F.floating,b.y);return g?{...e,transform:"translate("+t+"px, "+r+"px)",...c(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,g,F.floating,b.x,b.y]);return i.useMemo((()=>({...b,update:k,refs:U,elements:F,floatingStyles:B})),[b,k,U,F,B])}const h=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:i}="function"==typeof e?e(t):e;return n&&(o=n,{}.hasOwnProperty.call(o,"current"))?null!=n.current?(0,r.x7)({element:n.current,padding:i}).fn(t):{}:n?(0,r.x7)({element:n,padding:i}).fn(t):{};var o}}),d=(e,t)=>({...(0,r.cv)(e),options:[e,t]}),p=(e,t)=>({...(0,r.uY)(e),options:[e,t]}),g=(e,t)=>({...(0,r.dr)(e),options:[e,t]}),y=(e,t)=>({...(0,r.RR)(e),options:[e,t]}),m=(e,t)=>({...(0,r.Cp)(e),options:[e,t]}),b=(e,t)=>({...h(e),options:[e,t]})},393075:(e,t,n)=>{"use strict";var r;n.d(t,{YF:()=>A});var i=n(667294),o=(n(697145),n(71347),n(66037),n(137317)),s=n(801371);n(388388),n(973935);const a={...r||(r=n.t(i,2))},c=a.useInsertionEffect||(e=>e());function u(e){const t=i.useRef((()=>{0}));return c((()=>{t.current=e})),i.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const l="ArrowUp",f="ArrowDown",h="ArrowLeft",d="ArrowRight";var p="undefined"!=typeof document?i.useLayoutEffect:i.useEffect;const g=[h,d],y=[l,f];let m=!1,b=0;const v=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+b++;const E=a.useId||function(){const[e,t]=i.useState((()=>m?v():void 0));return p((()=>{null==e&&t(v())}),[]),i.useEffect((()=>{m=!0}),[]),e};function _(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}const w=i.createContext(null),S=i.createContext(null),O=()=>{var e;return(null==(e=i.useContext(w))?void 0:e.id)||null},T=()=>i.useContext(S);function A(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=E(),s=i.useRef({}),[a]=i.useState((()=>_())),c=null!=O(),[l,f]=i.useState(r.reference),h=u(((e,t,r)=>{s.current.openEvent=e?t:void 0,a.emit("openchange",{open:e,event:t,reason:r,nested:c}),null==n||n(e,t,r)})),d=i.useMemo((()=>({setPositionReference:f})),[]),p=i.useMemo((()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference})),[l,r.reference,r.floating]);return i.useMemo((()=>({dataRef:s,open:t,onOpenChange:h,elements:p,events:a,floatingId:o,refs:d})),[t,h,p,a,o,d])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,a=r.elements,[c,l]=i.useState(null),[f,h]=i.useState(null),d=(null==a?void 0:a.reference)||c,g=i.useRef(null),y=T();p((()=>{d&&(g.current=d)}),[d]);const m=(0,s.YF)({...e,elements:{...a,...f&&{reference:f}}}),b=i.useCallback((e=>{const t=(0,o.kK)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;h(t),m.refs.setReference(t)}),[m.refs]),v=i.useCallback((e=>{((0,o.kK)(e)||null===e)&&(g.current=e,l(e)),((0,o.kK)(m.refs.reference.current)||null===m.refs.reference.current||null!==e&&!(0,o.kK)(e))&&m.refs.setReference(e)}),[m.refs]),w=i.useMemo((()=>({...m.refs,setReference:v,setPositionReference:b,domReference:g})),[m.refs,v,b]),S=i.useMemo((()=>({...m.elements,domReference:d})),[m.elements,d]),A=i.useMemo((()=>({...m,...r,refs:w,elements:S,nodeId:t})),[m,w,S,t,r]);return p((()=>{r.dataRef.current.floatingContext=A;const e=null==y?void 0:y.nodesRef.current.find((e=>e.id===t));e&&(e.context=A)})),i.useMemo((()=>({...m,context:A,refs:w,elements:S})),[m,w,S,A])}},697145:(e,t,n)=>{"use strict";n.d(t,{AW:()=>i,G6:()=>l,Ie:()=>w,MM:()=>p,Me:()=>y,Pe:()=>m,U9:()=>b,V5:()=>h,Xf:()=>s,Zj:()=>c,cr:()=>u,ex:()=>g,ij:()=>a,j7:()=>E,p7:()=>_,r:()=>d,r3:()=>o});var r=n(137317);function i(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function o(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&(0,r.Zq)(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function s(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function a(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function c(e){return!(0!==e.mozInputSource||!e.isTrusted)||(f()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function u(e){return!a().includes("jsdom/")&&(!f()&&0===e.width&&0===e.height||f()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function l(){return/apple/i.test(navigator.vendor)}function f(){const e=/android/i;return e.test(s())||e.test(a())}function h(){return s().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function d(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function p(e){return"nativeEvent"in e}function g(e){return e.matches("html,body")}function y(e){return(null==e?void 0:e.ownerDocument)||document}function m(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function b(e){return"composedPath"in e?e.composedPath()[0]:e.target}const v="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function E(e){return(0,r.Re)(e)&&e.matches(v)}function _(e){e.preventDefault(),e.stopPropagation()}function w(e){return!!e&&("combobox"===e.getAttribute("role")&&E(e))}},137317:(e,t,n)=>{"use strict";function r(e){return s(e)?(e.nodeName||"").toLowerCase():"#document"}function i(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function o(e){var t;return null==(t=(s(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function s(e){return e instanceof Node||e instanceof i(e).Node}function a(e){return e instanceof Element||e instanceof i(e).Element}function c(e){return e instanceof HTMLElement||e instanceof i(e).HTMLElement}function u(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof i(e).ShadowRoot)}function l(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=y(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function f(e){return["table","td","th"].includes(r(e))}function h(e){const t=p(),n=y(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function d(e){let t=b(e);for(;c(t)&&!g(t);){if(h(t))return t;t=b(t)}return null}function p(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function g(e){return["html","body","#document"].includes(r(e))}function y(e){return i(e).getComputedStyle(e)}function m(e){return a(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function b(e){if("html"===r(e))return e;const t=e.assignedSlot||e.parentNode||u(e)&&e.host||o(e);return u(t)?t.host:t}function v(e){const t=b(e);return g(t)?e.ownerDocument?e.ownerDocument.body:e.body:c(t)&&l(t)?t:v(t)}function E(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=v(e),s=o===(null==(r=e.ownerDocument)?void 0:r.body),a=i(o);return s?t.concat(a,a.visualViewport||[],l(o)?o:[],a.frameElement&&n?E(a.frameElement):[]):t.concat(o,E(o,[],n))}n.d(t,{Dx:()=>y,Jj:()=>i,Kx:()=>E,Lw:()=>m,Ow:()=>b,Pf:()=>p,Py:()=>g,Re:()=>c,Ze:()=>f,Zq:()=>u,ao:()=>l,gQ:()=>d,hT:()=>h,kK:()=>a,tF:()=>o,wk:()=>r})},71347:(e,t,n)=>{"use strict";n.d(t,{Ct:()=>o,Fp:()=>a,GW:()=>u,Go:()=>S,I4:()=>b,JB:()=>I,KX:()=>O,NM:()=>c,Qq:()=>v,Rn:()=>m,VV:()=>s,Wh:()=>E,gy:()=>w,hp:()=>y,i8:()=>_,k3:()=>g,ku:()=>p,mA:()=>r,pw:()=>T,uZ:()=>d,yd:()=>A,ze:()=>l});const r=["top","right","bottom","left"],i=["start","end"],o=r.reduce(((e,t)=>e.concat(t,t+"-"+i[0],t+"-"+i[1])),[]),s=Math.min,a=Math.max,c=Math.round,u=Math.floor,l=e=>({x:e,y:e}),f={left:"right",right:"left",bottom:"top",top:"bottom"},h={start:"end",end:"start"};function d(e,t,n){return a(e,s(t,n))}function p(e,t){return"function"==typeof e?e(t):e}function g(e){return e.split("-")[0]}function y(e){return e.split("-")[1]}function m(e){return"x"===e?"y":"x"}function b(e){return"y"===e?"height":"width"}function v(e){return["top","bottom"].includes(g(e))?"y":"x"}function E(e){return m(v(e))}function _(e,t,n){void 0===n&&(n=!1);const r=y(e),i=E(e),o=b(i);let s="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=T(s)),[s,T(s)]}function w(e){const t=T(e);return[S(e),t,S(t)]}function S(e){return e.replace(/start|end/g,(e=>h[e]))}function O(e,t,n,r){const i=y(e);let o=function(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}(g(e),"start"===n,r);return i&&(o=o.map((e=>e+"-"+i)),t&&(o=o.concat(o.map(S)))),o}function T(e){return e.replace(/left|right|bottom|top/g,(e=>f[e]))}function A(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function I(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}},399382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Exifr:()=>re,Options:()=>J,allFormatters:()=>W,chunkedProps:()=>V,createDictionary:()=>k,default:()=>wt,extendDictionary:()=>j,fetchUrlAsArrayBuffer:()=>L,fileParsers:()=>A,fileReaders:()=>C,gps:()=>ve,gpsOnlyOptions:()=>be,inheritables:()=>K,orientation:()=>Oe,orientationOnlyOptions:()=>Se,otherSegments:()=>q,parse:()=>ie,readBlobAsArrayBuffer:()=>M,rotateCanvas:()=>Ae,rotateCss:()=>Ie,rotation:()=>Ce,rotations:()=>Te,segmentParsers:()=>I,segments:()=>G,segmentsAndBlocks:()=>H,sidecar:()=>st,tagKeys:()=>U,tagRevivers:()=>B,tagValues:()=>F,thumbnail:()=>_e,thumbnailOnlyOptions:()=>Ee,thumbnailUrl:()=>we,tiffBlocks:()=>z,tiffExtractables:()=>Y});var r="undefined"!=typeof self?self:global;const i="undefined"!=typeof navigator,o=i&&"undefined"==typeof HTMLImageElement,s=!("undefined"==typeof global||"undefined"==typeof process||!process.versions||!process.versions.node),a=r.Buffer,c=r.BigInt,u=!!a,l=e=>e;function f(e,t=l){if(s)try{return"function"==typeof require?Promise.resolve(t(require(e))):import(e).then(t)}catch(t){console.warn(`Couldn't load ${e}`)}}let h=r.fetch;if(!r.fetch){const e=f("http",(e=>e)),t=f("https",(e=>e)),n=(r,{headers:i}={})=>new Promise((async(o,s)=>{let{port:a,hostname:c,pathname:u,protocol:l,search:f}=new URL(r);const h={method:"GET",hostname:c,path:encodeURI(u)+f,headers:i};""!==a&&(h.port=Number(a));const d=("https:"===l?await t:await e).request(h,(e=>{if(301===e.statusCode||302===e.statusCode){let t=new URL(e.headers.location,r).toString();return n(t,{headers:i}).then(o).catch(s)}o({status:e.statusCode,arrayBuffer:()=>new Promise((t=>{let n=[];e.on("data",(e=>n.push(e))),e.on("end",(()=>t(Buffer.concat(n))))}))})}));d.on("error",s),d.end()}));(e=>{h=e})(n)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=e=>y(e)?void 0:e,g=e=>void 0!==e;function y(e){return void 0===e||(e instanceof Map?0===e.size:0===Object.values(e).filter(g).length)}function m(e){let t=new Error(e);throw delete t.stack,t}function b(e){return""===(e=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(e).trim())?void 0:e}function v(e){let t=function(e){let t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const E=e=>String.fromCharCode.apply(null,e),_="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):void 0;function w(e){return _?_.decode(e):u?Buffer.from(e).toString("utf8"):decodeURIComponent(escape(E(e)))}class S{static from(e,t){return e instanceof this&&e.le===t?e:new S(e,void 0,void 0,t)}constructor(e,t=0,n,r){if("boolean"==typeof r&&(this.le=r),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===n&&(n=e.byteLength-t);let r=new DataView(e,t,n);this._swapDataView(r)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof S){void 0===n&&(n=e.byteLength-t),(t+=e.byteOffset)+n>e.byteOffset+e.byteLength&&m("Creating view outside of available memory in ArrayBuffer");let r=new DataView(e.buffer,t,n);this._swapDataView(r)}else if("number"==typeof e){let t=new DataView(new ArrayBuffer(e));this._swapDataView(t)}else m("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,n=S){return e instanceof DataView||e instanceof S?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||m("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new n(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new S(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){return w(this.getUint8Array(e,t))}getLatin1String(e=0,t=this.byteLength){let n=this.getUint8Array(e,t);return E(n)}getUnicodeString(e=0,t=this.byteLength){const n=[];for(let r=0;r<t&&e+r<this.byteLength;r+=2)n.push(this.getUint16(e+r));return E(n)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,n){switch(t){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}getUint(e,t,n){switch(t){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function O(e,t){m(`${e} '${t}' was not loaded, try using full build of exifr.`)}class T extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||O(this.kind,e),t&&(e in t||function(e,t){m(`Unknown ${e} '${t}'.`)}(this.kind,e),t[e].enabled||O(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var A=new T("file parser"),I=new T("segment parser"),C=new T("file reader");function N(e,t){return"string"==typeof e?R(e,t):i&&!o&&e instanceof HTMLImageElement?R(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new S(e):i&&e instanceof Blob?P(e,t,"blob",M):void m("Invalid input argument")}function R(e,t){return(n=e).startsWith("data:")||n.length>1e4?x(e,t,"base64"):s&&e.includes("://")?P(e,t,"url",L):s?x(e,t,"fs"):i?P(e,t,"url",L):void m("Invalid input argument");var n}async function P(e,t,n,r){return C.has(n)?x(e,t,n):r?async function(e,t){let n=await t(e);return new S(n)}(e,r):void m(`Parser ${n} is not loaded`)}async function x(e,t,n){let r=new(C.get(n))(e,t);return await r.read(),r}const L=e=>h(e).then((e=>e.arrayBuffer())),M=e=>new Promise(((t,n)=>{let r=new FileReader;r.onloadend=()=>t(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(e)}));class D extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function k(e,t,n){let r=new D;for(let[i,o]of n)r.set(i,o);if(Array.isArray(t))for(let i of t)e.set(i,r);else e.set(t,r);return r}function j(e,t,n){let r,i=e.get(t);for(r of n)i.set(r[0],r[1])}const U=new Map,F=new Map,B=new Map,V=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],q=["jfif","xmp","icc","iptc","ihdr"],G=["tiff",...q],z=["ifd0","ifd1","exif","gps","interop"],H=[...G,...z],Y=["makerNote","userComment"],K=["translateKeys","translateValues","reviveValues","multiSegment"],W=[...K,"sanitize","mergeOutput","silentErrors"];class X{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Z extends X{get needed(){return this.enabled||this.deps.size>0}constructor(e,t,n,r){if(super(),d(this,"enabled",!1),d(this,"skip",new Set),d(this,"pick",new Set),d(this,"deps",new Set),d(this,"translateKeys",!1),d(this,"translateValues",!1),d(this,"reviveValues",!1),this.key=e,this.enabled=t,this.parse=this.enabled,this.applyInheritables(r),this.canBeFiltered=z.includes(e),this.canBeFiltered&&(this.dict=U.get(e)),void 0!==n)if(Array.isArray(n))this.parse=this.enabled=!0,this.canBeFiltered&&n.length>0&&this.translateTagSet(n,this.pick);else if("object"==typeof n){if(this.enabled=!0,this.parse=!1!==n.parse,this.canBeFiltered){let{pick:e,skip:t}=n;e&&e.length>0&&this.translateTagSet(e,this.pick),t&&t.length>0&&this.translateTagSet(t,this.skip)}this.applyInheritables(n)}else!0===n||!1===n?this.parse=this.enabled=n:m(`Invalid options argument: ${n}`)}applyInheritables(e){let t,n;for(t of K)n=e[t],void 0!==n&&(this[t]=n)}translateTagSet(e,t){if(this.dict){let n,r,{tagKeys:i,tagValues:o}=this.dict;for(n of e)"string"==typeof n?(r=o.indexOf(n),-1===r&&(r=i.indexOf(Number(n))),-1!==r&&t.add(Number(i[r]))):t.add(n)}else for(let n of e)t.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,ne(this.pick,this.deps)):this.enabled&&this.pick.size>0&&ne(this.pick,this.deps)}}var Q={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},$=new Map;class J extends X{static useCached(e){let t=$.get(e);return void 0!==t||(t=new this(e),$.set(e,t)),t}constructor(e){super(),!0===e?this.setupFromTrue():void 0===e?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):"object"==typeof e?this.setupFromObject(e):m(`Invalid options argument ${e}`),void 0===this.firstChunkSize&&(this.firstChunkSize=i?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of V)this[e]=Q[e];for(e of W)this[e]=Q[e];for(e of Y)this[e]=Q[e];for(e of H)this[e]=new Z(e,Q[e],void 0,this)}setupFromTrue(){let e;for(e of V)this[e]=Q[e];for(e of W)this[e]=Q[e];for(e of Y)this[e]=!0;for(e of H)this[e]=new Z(e,!0,void 0,this)}setupFromArray(e){let t;for(t of V)this[t]=Q[t];for(t of W)this[t]=Q[t];for(t of Y)this[t]=Q[t];for(t of H)this[t]=new Z(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,z)}setupFromObject(e){let t;for(t of(z.ifd0=z.ifd0||z.image,z.ifd1=z.ifd1||z.thumbnail,Object.assign(this,e),V))this[t]=te(e[t],Q[t]);for(t of W)this[t]=te(e[t],Q[t]);for(t of Y)this[t]=te(e[t],Q[t]);for(t of G)this[t]=new Z(t,Q[t],e[t],this);for(t of z)this[t]=new Z(t,Q[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,z,H),!0===e.tiff?this.batchEnableWithBool(z,!0):!1===e.tiff?this.batchEnableWithUserValue(z,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,z):"object"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,z)}batchEnableWithBool(e,t){for(let n of e)this[n].enabled=t}batchEnableWithUserValue(e,t){for(let n of e){let e=t[n];this[n].enabled=!1!==e&&void 0!==e}}setupGlobalFilters(e,t,n,r=n){if(e&&e.length){for(let e of r)this[e].enabled=!1;let t=ee(e,n);for(let[e,n]of t)ne(this[e].pick,n),this[e].enabled=!0}else if(t&&t.length){let e=ee(t,n);for(let[t,n]of e)ne(this[t].skip,n)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:n,iptc:r,icc:i}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),n.enabled||e.skip.add(700),r.enabled||e.skip.add(33723),i.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:n,interop:r}=this;r.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),n.needed&&e.deps.add(34853),this.tiff.enabled=z.some((e=>!0===this[e].enabled))||this.makerNote||this.userComment;for(let i of z)this[i].finalizeFilters()}get onlyTiff(){return!q.map((e=>this[e].enabled)).some((e=>!0===e))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of G)this[e].enabled&&!I.has(e)&&O("segment parser",e)}}function ee(e,t){let n,r,i,o,s=[];for(i of t){for(o of(n=U.get(i),r=[],n))(e.includes(o[0])||e.includes(o[1]))&&r.push(o[0]);r.length&&s.push([i,r])}return s}function te(e,t){return void 0!==e?e:void 0!==t?t:void 0}function ne(e,t){for(let n of t)e.add(n)}d(J,"default",Q);class re{constructor(e){d(this,"parsers",{}),d(this,"output",{}),d(this,"errors",[]),d(this,"pushToErrors",(e=>this.errors.push(e))),this.options=J.useCached(e)}async read(e){this.file=await N(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[n,r]of A)if(r.canHandle(e,t))return this.fileParser=new r(this.options,this.file,this.parsers),e[n]=!0;this.file.close&&this.file.close(),m("Unknown file format")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),p(e)}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map((async t=>{let n=await t.parse();t.assignToOutput(e,n)}));this.options.silentErrors&&(t=t.map((e=>e.catch(this.pushToErrors)))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,n=I.get("tiff",e);var r;if(t.tiff?r={start:0,type:"tiff"}:t.jpeg&&(r=await this.fileParser.getOrFindSegment("tiff")),void 0===r)return;let i=await this.fileParser.ensureSegmentChunk(r),o=this.parsers.tiff=new n(i,e,t),s=await o.extractThumbnail();return t.close&&t.close(),s}}async function ie(e,t){let n=new re(t);return await n.read(e),n.parse()}var oe=Object.freeze({__proto__:null,parse:ie,Exifr:re,fileParsers:A,segmentParsers:I,fileReaders:C,tagKeys:U,tagValues:F,tagRevivers:B,createDictionary:k,extendDictionary:j,fetchUrlAsArrayBuffer:L,readBlobAsArrayBuffer:M,chunkedProps:V,otherSegments:q,segments:G,tiffBlocks:z,segmentsAndBlocks:H,tiffExtractables:Y,inheritables:K,allFormatters:W,Options:J});class se{constructor(e,t,n){d(this,"errors",[]),d(this,"ensureSegmentChunk",(async e=>{let t=e.start,n=e.size||65536;if(this.file.chunked)if(this.file.available(t,n))e.chunk=this.file.subarray(t,n);else try{e.chunk=await this.file.readChunk(t,n)}catch(t){m(`Couldn't read segment: ${JSON.stringify(e)}. ${t.message}`)}else this.file.byteLength>t+n?e.chunk=this.file.subarray(t,n):void 0===e.size?e.chunk=this.file.subarray(t):m("Segment unreachable: "+JSON.stringify(e));return e.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=t,this.parsers=n}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let n=new(I.get(e))(t,this.options,this.file);return this.parsers[e]=n}createParsers(e){for(let t of e){let{type:e,chunk:n}=t,r=this.options[e];if(r&&r.enabled){let t=this.parsers[e];t&&t.append||t||this.createParser(e,n)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}class ae{static findPosition(e,t){let n=e.getUint16(t+2)+2,r="function"==typeof this.headerLength?this.headerLength(e,t,n):this.headerLength,i=t+r,o=n-r;return{offset:t,length:n,headerLength:r,start:i,size:o,end:i+o}}static parse(e,t={}){return new this(e,new J({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof S?e:new S(e)}constructor(e,t={},n){d(this,"errors",[]),d(this,"raw",new Map),d(this,"handleError",(e=>{if(!this.options.silentErrors)throw e;this.errors.push(e.message)})),this.chunk=this.normalizeInput(e),this.file=n,this.type=this.constructor.type,this.globalOptions=this.options=t,this.localOptions=t[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let n=B.get(t),r=F.get(t),i=U.get(t),o=this.options[t],s=o.reviveValues&&!!n,a=o.translateValues&&!!r,c=o.translateKeys&&!!i,u={};for(let[l,f]of e)s&&n.has(l)?f=n.get(l)(f):a&&r.has(l)&&(f=this.translateValue(f,r.get(l))),c&&i.has(l)&&(l=i.get(l)||l),u[l]=f;return u}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,n){if(this.globalOptions.mergeOutput)return Object.assign(e,n);e[t]?Object.assign(e[t],n):e[t]=n}}function ce(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function ue(e){return e>=224&&e<=239}function le(e,t,n){for(let[r,i]of I)if(i.canHandle(e,t,n))return r}d(ae,"headerLength",4),d(ae,"type",void 0),d(ae,"multiSegment",!1),d(ae,"canHandle",(()=>!1));class fe extends se{constructor(...e){super(...e),d(this,"appSegments",[]),d(this,"jpegSegments",[]),d(this,"unknownSegments",[])}static canHandle(e,t){return 65496===t}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){!0===e?(this.findAll=!0,this.wanted=new Set(I.keyList())):(e=void 0===e?I.keyList().filter((e=>this.options[e].enabled)):e.filter((e=>this.options[e].enabled&&I.has(e))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:n,findAll:r,wanted:i,remaining:o}=this;if(!r&&this.file.chunked&&(r=Array.from(i).some((e=>{let t=I.get(e),n=this.options[e];return t.multiSegment&&n.multiSegment})),r&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,n.byteLength),!this.options.onlyTiff&&n.chunked){let t=!1;for(;o.size>0&&!t&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:r}=n,i=this.appSegments.some((e=>!this.file.available(e.offset||e.start,e.length||e.size)));if(t=e>r&&!i?!(await n.readNextChunk(e)):!(await n.readNextChunk(r)),void 0===(e=this.findAppSegmentsInRange(e,n.byteLength)))return}}}findAppSegmentsInRange(e,t){t-=2;let n,r,i,o,s,a,{file:c,findAll:u,wanted:l,remaining:f,options:h}=this;for(;e<t;e++)if(255===c.getUint8(e))if(n=c.getUint8(e+1),ue(n)){if(r=c.getUint16(e+2),i=le(c,e,r),i&&l.has(i)&&(o=I.get(i),s=o.findPosition(c,e),a=h[i],s.type=i,this.appSegments.push(s),!u&&(o.multiSegment&&a.multiSegment?(this.unfinishedMultiSegment=s.chunkNumber<s.chunkCount,this.unfinishedMultiSegment||f.delete(i)):f.delete(i),0===f.size)))break;h.recordUnknownSegments&&(s=ae.findPosition(c,e),s.marker=n,this.unknownSegments.push(s)),e+=r+1}else if(ce(n)){if(r=c.getUint16(e+2),218===n&&!1!==h.stopAfterSos)return;h.recordJpegSegments&&this.jpegSegments.push({offset:e,length:r,marker:n}),e+=r+1}return e}mergeMultiSegments(){if(!this.appSegments.some((e=>e.multiSegment)))return;let e=function(e,t){let n,r,i,o=new Map;for(let s=0;s<e.length;s++)n=e[s],r=n.type,o.has(r)?i=o.get(r):o.set(r,i=[]),i.push(n);return Array.from(o)}(this.appSegments);this.mergedAppSegments=e.map((([e,t])=>{let n=I.get(e,this.options);return n.handleMultiSegments?{type:e,chunk:n.handleMultiSegments(t)}:t[0]}))}getSegment(e){return this.appSegments.find((t=>t.type===e))}async getOrFindSegment(e){let t=this.getSegment(e);return void 0===t&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}d(fe,"type","jpeg"),A.set("jpeg",fe);const he=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class de extends ae{parseHeader(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,n=new Map){let{pick:r,skip:i}=this.options[t];r=new Set(r);let o=r.size>0,s=0===i.size,a=this.chunk.getUint16(e);e+=2;for(let c=0;c<a;c++){let a=this.chunk.getUint16(e);if(o){if(r.has(a)&&(n.set(a,this.parseTag(e,a,t)),r.delete(a),0===r.size))break}else!s&&i.has(a)||n.set(a,this.parseTag(e,a,t));e+=12}return n}parseTag(e,t,n){let{chunk:r}=this,i=r.getUint16(e+2),o=r.getUint32(e+4),s=he[i];if(s*o<=4?e+=8:e=r.getUint32(e+8),(i<1||i>13)&&m(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${t.toString(16)}, type: ${i}, offset ${e}`),e>r.byteLength&&m(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${t.toString(16)}, type: ${i}, offset ${e} is outside of chunk size ${r.byteLength}`),1===i)return r.getUint8Array(e,o);if(2===i)return b(r.getString(e,o));if(7===i)return r.getUint8Array(e,o);if(1===o)return this.parseTagValue(i,e);{let t=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(i))(o),n=s;for(let r=0;r<o;r++)t[r]=this.parseTagValue(i,e),e+=n;return t}}parseTagValue(e,t){let{chunk:n}=this;switch(e){case 1:return n.getUint8(t);case 3:return n.getUint16(t);case 4:case 13:return n.getUint32(t);case 5:return n.getUint32(t)/n.getUint32(t+4);case 6:return n.getInt8(t);case 8:return n.getInt16(t);case 9:return n.getInt32(t);case 10:return n.getInt32(t)/n.getInt32(t+4);case 11:return n.getFloat(t);case 12:return n.getDouble(t);default:m(`Invalid tiff type ${e}`)}}}class pe extends de{static canHandle(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let n=new Map;return this[t]=n,this.parseTags(e,t,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&m("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&m(`IFD0 offset points to outside of file.\nthis.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,v(this.options));let t=this.parseBlock(this.ifd0Offset,"ifd0");return 0!==t.size?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.exifOffset)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,v(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let n=e.get(t);n&&1===n.length&&e.set(t,n[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.gpsOffset)return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",ge(...e.get(2),e.get(1))),e.set("longitude",ge(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),void 0!==this.interopOffset||this.exif||await this.parseExifBlock(),void 0!==this.interopOffset))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),void 0===this.ifd1)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,n,r={};for(t of z)if(e=this[t],!y(e))if(n=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if("ifd1"===t)continue;Object.assign(r,n)}else r[t]=n;return this.makerNote&&(r.makerNote=this.makerNote),this.userComment&&(r.userComment=this.userComment),r}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[n,r]of Object.entries(t))this.assignObjectToOutput(e,n,r)}}function ge(e,t,n,r){var i=e+t/60+n/3600;return"S"!==r&&"W"!==r||(i*=-1),i}d(pe,"type","tiff"),d(pe,"headerLength",10),I.set("tiff",pe);var ye=Object.freeze({__proto__:null,default:oe,Exifr:re,fileParsers:A,segmentParsers:I,fileReaders:C,tagKeys:U,tagValues:F,tagRevivers:B,createDictionary:k,extendDictionary:j,fetchUrlAsArrayBuffer:L,readBlobAsArrayBuffer:M,chunkedProps:V,otherSegments:q,segments:G,tiffBlocks:z,segmentsAndBlocks:H,tiffExtractables:Y,inheritables:K,allFormatters:W,Options:J,parse:ie});const me={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},be=Object.assign({},me,{firstChunkSize:4e4,gps:[1,2,3,4]});async function ve(e){let t=new re(be);await t.read(e);let n=await t.parse();if(n&&n.gps){let{latitude:e,longitude:t}=n.gps;return{latitude:e,longitude:t}}}const Ee=Object.assign({},me,{tiff:!1,ifd1:!0,mergeOutput:!1});async function _e(e){let t=new re(Ee);await t.read(e);let n=await t.extractThumbnail();return n&&u?a.from(n):n}async function we(e){let t=await this.thumbnail(e);if(void 0!==t){let e=new Blob([t]);return URL.createObjectURL(e)}}const Se=Object.assign({},me,{firstChunkSize:4e4,ifd0:[274]});async function Oe(e){let t=new re(Se);await t.read(e);let n=await t.parse();if(n&&n.ifd0)return n.ifd0[274]}const Te=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Ae=!0,Ie=!0;if("object"==typeof navigator){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,e,n]=t,r=Number(e)+.1*Number(n);Ae=r<13.4,Ie=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);Ae=Ie=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);Ae=Ie=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);Ae=Ie=Number(t)<77}}async function Ce(e){let t=await Oe(e);return Object.assign({canvas:Ae,css:Ie},Te[t])}class Ne extends S{constructor(...e){super(...e),d(this,"ranges",new Re),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,n){if(0===e&&0===this.byteLength&&n){let e=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(e)}else{let n=e+t;if(n>this.byteLength){let{dataView:e}=this._extend(n);this._swapDataView(e)}}}_extend(e){let t;t=u?a.allocUnsafe(e):new Uint8Array(e);let n=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:n}}subarray(e,t,n=!1){return t=t||this._lengthToEnd(e),n&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,n=!1){n&&this._tryExtend(t,e.byteLength,e);let r=super.set(e,t);return this.ranges.add(t,r.byteLength),r}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class Re{constructor(){d(this,"list",[])}get length(){return this.list.length}add(e,t,n=0){let r=e+t,i=this.list.filter((t=>Pe(e,t.offset,r)||Pe(e,t.end,r)));if(i.length>0){e=Math.min(e,...i.map((e=>e.offset))),r=Math.max(r,...i.map((e=>e.end))),t=r-e;let n=i.shift();n.offset=e,n.length=t,n.end=r,this.list=this.list.filter((e=>!i.includes(e)))}else this.list.push({offset:e,length:t,end:r})}available(e,t){let n=e+t;return this.list.some((t=>t.offset<=e&&n<=t.end))}}function Pe(e,t,n){return e<=t&&t<=n}class xe extends Ne{constructor(e,t){super(0),d(this,"chunksRead",0),this.input=e,this.options=t}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,n=await this.readChunk(e,t);return!!n&&n.byteLength===t}async readChunk(e,t){if(this.chunksRead++,0!==(t=this.safeWrapAddress(e,t)))return this._readChunk(e,t)}safeWrapAddress(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}C.set("blob",class extends xe{async readWhole(){this.chunked=!1;let e=await M(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let n=t?e+t:void 0,r=this.input.slice(e,n),i=await M(r);return this.set(i,e,!0)}});var Le=Object.freeze({__proto__:null,default:ye,Exifr:re,fileParsers:A,segmentParsers:I,fileReaders:C,tagKeys:U,tagValues:F,tagRevivers:B,createDictionary:k,extendDictionary:j,fetchUrlAsArrayBuffer:L,readBlobAsArrayBuffer:M,chunkedProps:V,otherSegments:q,segments:G,tiffBlocks:z,segmentsAndBlocks:H,tiffExtractables:Y,inheritables:K,allFormatters:W,Options:J,parse:ie,gpsOnlyOptions:be,gps:ve,thumbnailOnlyOptions:Ee,thumbnail:_e,thumbnailUrl:we,orientationOnlyOptions:Se,orientation:Oe,rotations:Te,get rotateCanvas(){return Ae},get rotateCss(){return Ie},rotation:Ce});C.set("url",class extends xe{async readWhole(){this.chunked=!1;let e=await L(this.input);e instanceof ArrayBuffer?this._swapArrayBuffer(e):e instanceof Uint8Array&&this._swapBuffer(e)}async _readChunk(e,t){let n=t?e+t-1:void 0,r=this.options.httpHeaders||{};(e||n)&&(r.range=`bytes=${[e,n].join("-")}`);let i=await h(this.input,{headers:r}),o=await i.arrayBuffer(),s=o.byteLength;if(416!==i.status)return s!==t&&(this.size=e+s),this.set(o,e,!0)}}),S.prototype.getUint64=function(e){let t=this.getUint32(e),n=this.getUint32(e+4);return t<1048575?t<<32|n:void 0!==typeof c?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),c(t)<<c(32)|c(n)):void m("Trying to read 64b value but JS can only handle 53b numbers.")};class Me extends se{parseBoxes(e=0){let t=[];for(;e<this.file.byteLength-4;){let n=this.parseBoxHead(e);if(t.push(n),0===n.length)break;e+=n.length}return t}parseSubBoxes(e){e.boxes=this.parseBoxes(e.start)}findBox(e,t){return void 0===e.boxes&&this.parseSubBoxes(e),e.boxes.find((e=>e.kind===t))}parseBoxHead(e){let t=this.file.getUint32(e),n=this.file.getString(e+4,4),r=e+8;return 1===t&&(t=this.file.getUint64(e+8),r+=8),{offset:e,length:t,kind:n,start:r}}parseBoxFullHead(e){if(void 0!==e.version)return;let t=this.file.getUint32(e.start);e.version=t>>24,e.start+=4}}class De extends Me{static canHandle(e,t){if(0!==t)return!1;let n=e.getUint16(2);if(n>50)return!1;let r=16,i=[];for(;r<n;)i.push(e.getString(r,4)),r+=4;return i.includes(this.type)}async parse(){let e=this.file.getUint32(0),t=this.parseBoxHead(e);for(;"meta"!==t.kind;)e+=t.length,await this.file.ensureChunk(e,16),t=this.parseBoxHead(e);await this.file.ensureChunk(t.offset,t.length),this.parseBoxFullHead(t),this.parseSubBoxes(t),this.options.icc.enabled&&await this.findIcc(t),this.options.tiff.enabled&&await this.findExif(t)}async registerSegment(e,t,n){await this.file.ensureChunk(t,n);let r=this.file.subarray(t,n);this.createParser(e,r)}async findIcc(e){let t=this.findBox(e,"iprp");if(void 0===t)return;let n=this.findBox(t,"ipco");if(void 0===n)return;let r=this.findBox(n,"colr");void 0!==r&&await this.registerSegment("icc",r.offset+12,r.length)}async findExif(e){let t=this.findBox(e,"iinf");if(void 0===t)return;let n=this.findBox(e,"iloc");if(void 0===n)return;let r=this.findExifLocIdInIinf(t),i=this.findExtentInIloc(n,r);if(void 0===i)return;let[o,s]=i;await this.file.ensureChunk(o,s);let a=4+this.file.getUint32(o);o+=a,s-=a,await this.registerSegment("tiff",o,s)}findExifLocIdInIinf(e){this.parseBoxFullHead(e);let t,n,r,i,o=e.start,s=this.file.getUint16(o);for(o+=2;s--;){if(t=this.parseBoxHead(o),this.parseBoxFullHead(t),n=t.start,t.version>=2&&(r=3===t.version?4:2,i=this.file.getString(n+r+2,4),"Exif"===i))return this.file.getUintBytes(n,r);o+=t.length}}get8bits(e){let t=this.file.getUint8(e);return[t>>4,15&t]}findExtentInIloc(e,t){this.parseBoxFullHead(e);let n=e.start,[r,i]=this.get8bits(n++),[o,s]=this.get8bits(n++),a=2===e.version?4:2,c=1===e.version||2===e.version?2:0,u=s+r+i,l=2===e.version?4:2,f=this.file.getUintBytes(n,l);for(n+=l;f--;){let e=this.file.getUintBytes(n,a);n+=a+c+2+o;let l=this.file.getUint16(n);if(n+=2,e===t)return l>1&&console.warn("ILOC box has more than one extent but we're only processing one\nPlease create an issue at https://github.com/MikeKovarik/exifr with this file"),[this.file.getUintBytes(n+s,r),this.file.getUintBytes(n+s+r,i)];n+=l*u}}}class ke extends De{}d(ke,"type","heic");class je extends De{}d(je,"type","avif"),A.set("heic",ke),A.set("avif",je),k(U,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),k(U,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),k(U,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),k(F,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let Ue=k(F,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const Fe={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};Ue.set(37392,Fe),Ue.set(41488,Fe);const Be={0:"Normal",1:"Low",2:"High"};function Ve(e){return"object"==typeof e&&void 0!==e.length?e[0]:e}function qe(e){let t=Array.from(e).slice(1);return t[1]>15&&(t=t.map((e=>String.fromCharCode(e)))),"0"!==t[2]&&0!==t[2]||t.pop(),t.join(".")}function Ge(e){if("string"==typeof e){var[t,n,r,i,o,s]=e.trim().split(/[-: ]/g).map(Number),a=new Date(t,n-1,r);return Number.isNaN(i)||Number.isNaN(o)||Number.isNaN(s)||(a.setHours(i),a.setMinutes(o),a.setSeconds(s)),Number.isNaN(+a)?e:a}}function ze(e){if("string"==typeof e)return e;let t=[];if(0===e[1]&&0===e[e.length-1])for(let n=0;n<e.length;n+=2)t.push(He(e[n+1],e[n]));else for(let n=0;n<e.length;n+=2)t.push(He(e[n],e[n+1]));return b(String.fromCodePoint(...t))}function He(e,t){return e<<8|t}Ue.set(41992,Be),Ue.set(41993,Be),Ue.set(41994,Be),k(B,["ifd0","ifd1"],[[50827,function(e){return"string"!=typeof e?w(e):e}],[306,Ge],[40091,ze],[40092,ze],[40093,ze],[40094,ze],[40095,ze]]),k(B,"exif",[[40960,qe],[36864,qe],[36867,Ge],[36868,Ge],[40962,Ve],[40963,Ve]]),k(B,"gps",[[0,e=>Array.from(e).join(".")],[7,e=>Array.from(e).join(":")]]);class Ye extends ae{static canHandle(e,t){return 225===e.getUint8(t+1)&&1752462448===e.getUint32(t+4)&&"http://ns.adobe.com/"===e.getString(t+4,20)}static headerLength(e,t){return"http://ns.adobe.com/xmp/extension/"===e.getString(t+4,34)?79:33}static findPosition(e,t){let n=super.findPosition(e,t);return n.multiSegment=n.extended=79===n.headerLength,n.multiSegment?(n.chunkCount=e.getUint8(t+72),n.chunkNumber=e.getUint8(t+76),0!==e.getUint8(t+77)&&n.chunkNumber++):(n.chunkCount=1/0,n.chunkNumber=-1),n}static handleMultiSegments(e){return e.map((e=>e.chunk.getString())).join("")}normalizeInput(e){return"string"==typeof e?e:S.from(e).getString()}parse(e=this.chunk){if(!this.localOptions.parse)return e;e=function(e){let t={},n={};for(let r of tt)t[r]=[],n[r]=0;return e.replace(nt,((e,r,i)=>{if("<"===r){let r=++n[i];return t[i].push(r),`${e}#${r}`}return`${e}#${t[i].pop()}`}))}(e);let t=We.findAll(e,"rdf","Description");0===t.length&&t.push(new We("rdf","Description",void 0,e));let n,r={};for(let i of t)for(let e of i.properties)n=$e(e.ns,r),Xe(e,n);return function(e){let t;for(let n in e)t=e[n]=p(e[n]),void 0===t&&delete e[n];return p(e)}(r)}assignToOutput(e,t){if(this.localOptions.parse)for(let[n,r]of Object.entries(t))switch(n){case"tiff":this.assignObjectToOutput(e,"ifd0",r);break;case"exif":this.assignObjectToOutput(e,"exif",r);break;case"xmlns":break;default:this.assignObjectToOutput(e,n,r)}else e.xmp=t}}d(Ye,"type","xmp"),d(Ye,"multiSegment",!0),I.set("xmp",Ye);class Ke{static findAll(e){return Je(e,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(Ke.unpackMatch)}static unpackMatch(e){let t=e[1],n=e[2],r=e[3].slice(1,-1);return r=et(r),new Ke(t,n,r)}constructor(e,t,n){this.ns=e,this.name=t,this.value=n}serialize(){return this.value}}class We{static findAll(e,t,n){if(void 0!==t||void 0!==n){t=t||"[\\w\\d-]+",n=n||"[\\w\\d-]+";var r=new RegExp(`<(${t}):(${n})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else r=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return Je(e,r).map(We.unpackMatch)}static unpackMatch(e){let t=e[1],n=e[2],r=e[4],i=e[8];return new We(t,n,r,i)}constructor(e,t,n,r){this.ns=e,this.name=t,this.attrString=n,this.innerXml=r,this.attrs=Ke.findAll(n),this.children=We.findAll(r),this.value=0===this.children.length?et(r):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return void 0!==this.value&&0===this.attrs.length&&0===this.children.length}get isListContainer(){return 1===this.children.length&&this.children[0].isList}get isList(){let{ns:e,name:t}=this;return"rdf"===e&&("Seq"===t||"Bag"===t||"Alt"===t)}get isListItem(){return"rdf"===this.ns&&"li"===this.name}serialize(){if(0===this.properties.length&&void 0===this.value)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return Qe(this.children.map(Ze));if(this.isListItem&&1===this.children.length&&0===this.attrs.length)return this.children[0].serialize();let e={};for(let t of this.properties)Xe(t,e);return void 0!==this.value&&(e.value=this.value),p(e)}}function Xe(e,t){let n=e.serialize();void 0!==n&&(t[e.name]=n)}var Ze=e=>e.serialize(),Qe=e=>1===e.length?e[0]:e,$e=(e,t)=>t[e]?t[e]:t[e]={};function Je(e,t){let n,r=[];if(!e)return r;for(;null!==(n=t.exec(e));)r.push(n);return r}function et(e){if(function(e){return null==e||"null"===e||"undefined"===e||""===e||""===e.trim()}(e))return;let t=Number(e);if(!Number.isNaN(t))return t;let n=e.toLowerCase();return"true"===n||"false"!==n&&e.trim()}const tt=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],nt=new RegExp(`(<|\\/)(${tt.join("|")})`,"g");var rt=Object.freeze({__proto__:null,default:Le,Exifr:re,fileParsers:A,segmentParsers:I,fileReaders:C,tagKeys:U,tagValues:F,tagRevivers:B,createDictionary:k,extendDictionary:j,fetchUrlAsArrayBuffer:L,readBlobAsArrayBuffer:M,chunkedProps:V,otherSegments:q,segments:G,tiffBlocks:z,segmentsAndBlocks:H,tiffExtractables:Y,inheritables:K,allFormatters:W,Options:J,parse:ie,gpsOnlyOptions:be,gps:ve,thumbnailOnlyOptions:Ee,thumbnail:_e,thumbnailUrl:we,orientationOnlyOptions:Se,orientation:Oe,rotations:Te,get rotateCanvas(){return Ae},get rotateCss(){return Ie},rotation:Ce});const it=["xmp","icc","iptc","tiff"],ot=()=>{};async function st(e,t,n){let r=new J(t);r.chunked=!1,void 0===n&&"string"==typeof e&&(n=function(e){let t=e.toLowerCase().split(".").pop();return function(e){return"exif"===e||"tiff"===e||"tif"===e}(t)?"tiff":it.includes(t)?t:void 0}(e));let i=await N(e,r);if(n){if(it.includes(n))return at(n,i,r);m("Invalid segment type")}else{if(function(e){let t=e.getString(0,50).trim();return t.includes("<?xpacket")||t.includes("<x:")}(i))return at("xmp",i,r);for(let[e]of I){if(!it.includes(e))continue;let t=await at(e,i,r).catch(ot);if(t)return t}m("Unknown file format")}}async function at(e,t,n){let r=n[e];return r.enabled=!0,r.parse=!0,I.get(e).parse(t,r)}let ct=f("fs",(e=>e.promises));C.set("fs",class extends xe{async readWhole(){this.chunked=!1,this.fs=await ct;let e=await this.fs.readFile(this.input);this._swapBuffer(e)}async readChunked(){this.chunked=!0,this.fs=await ct,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){void 0===this.fh&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(e,t){void 0===this.fh&&await this.open(),e+t>this.size&&(t=this.size-e);var n=this.subarray(e,t,!0);return await this.fh.read(n.dataView,0,t,e),n}async close(){if(this.fh){let e=this.fh;this.fh=void 0,await e.close()}}}),C.set("base64",class extends xe{constructor(...e){super(...e),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(e,t){let n,r,i=this.input;void 0===e?(e=0,n=0,r=0):(n=4*Math.floor(e/3),r=e-n/4*3),void 0===t&&(t=this.size);let o=e+t,s=n+4*Math.ceil(o/3);i=i.slice(n,s);let c=Math.min(t,this.size-e);if(u){let t=a.from(i,"base64").slice(r,r+c);return this.set(t,e,!0)}{let t=this.subarray(e,c,!0),n=atob(i),o=t.toUint8();for(let e=0;e<c;e++)o[e]=n.charCodeAt(r+e);return t}}});class ut extends se{static canHandle(e,t){return 18761===t||19789===t}extendOptions(e){let{ifd0:t,xmp:n,iptc:r,icc:i}=e;n.enabled&&t.deps.add(700),r.enabled&&t.deps.add(33723),i.enabled&&t.deps.add(34675),t.finalizeFilters()}async parse(){let{tiff:e,xmp:t,iptc:n,icc:r}=this.options;if(e.enabled||t.enabled||n.enabled||r.enabled){let e=Math.max(v(this.options),this.options.chunkSize);await this.file.ensureChunk(0,e),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(e){if(this.parsers.tiff[e]){let t=this.parsers.tiff[e];this.injectSegment(e,t)}}}d(ut,"type","tiff"),A.set("tiff",ut);let lt=f("zlib");const ft=["ihdr","iccp","text","itxt","exif"];class ht extends se{constructor(...e){super(...e),d(this,"catchError",(e=>this.errors.push(e))),d(this,"metaChunks",[]),d(this,"unknownChunks",[])}static canHandle(e,t){return 35152===t&&2303741511===e.getUint32(0)&&218765834===e.getUint32(4)}async parse(){let{file:e}=this;await this.findPngChunksInRange(8,e.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(e,t){let{file:n}=this;for(;e<t;){let t=n.getUint32(e),r=n.getUint32(e+4),i=n.getString(e+4,4).toLowerCase(),o=t+4+4+4,s={type:i,offset:e,length:o,start:e+4+4,size:t,marker:r};ft.includes(i)?this.metaChunks.push(s):this.unknownChunks.push(s),e+=o}}parseTextChunks(){let e=this.metaChunks.filter((e=>"text"===e.type));for(let t of e){let[e,n]=this.file.getString(t.start,t.size).split("\0");this.injectKeyValToIhdr(e,n)}}injectKeyValToIhdr(e,t){let n=this.parsers.ihdr;n&&n.raw.set(e,t)}findIhdr(){let e=this.metaChunks.find((e=>"ihdr"===e.type));e&&!1!==this.options.ihdr.enabled&&this.createParser("ihdr",e.chunk)}async findExif(){let e=this.metaChunks.find((e=>"exif"===e.type));e&&this.injectSegment("tiff",e.chunk)}async findXmp(){let e=this.metaChunks.filter((e=>"itxt"===e.type));for(let t of e)"XML:com.adobe.xmp"===t.chunk.getString(0,17)&&this.injectSegment("xmp",t.chunk)}async findIcc(){let e=this.metaChunks.find((e=>"iccp"===e.type));if(!e)return;let{chunk:t}=e,n=t.getUint8Array(0,81),r=0;for(;r<80&&0!==n[r];)r++;let i=r+2,o=t.getString(0,r);if(this.injectKeyValToIhdr("ProfileName",o),s){let e=await lt,n=t.getUint8Array(i);n=e.inflateSync(n),this.injectSegment("icc",n)}}}d(ht,"type","png"),A.set("png",ht),k(U,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),j(U,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let dt=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];j(U,"ifd0",dt),j(U,"exif",dt),k(F,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class pt extends ae{static canHandle(e,t){return 224===e.getUint8(t+1)&&1246120262===e.getUint32(t+4)&&0===e.getUint8(t+8)}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}d(pt,"type","jfif"),d(pt,"headerLength",9),I.set("jfif",pt),k(U,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class gt extends ae{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}d(gt,"type","ihdr"),I.set("ihdr",gt),k(U,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),k(F,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class yt extends ae{static canHandle(e,t){return 226===e.getUint8(t+1)&&1229144927===e.getUint32(t+4)}static findPosition(e,t){let n=super.findPosition(e,t);return n.chunkNumber=e.getUint8(t+16),n.chunkCount=e.getUint8(t+17),n.multiSegment=n.chunkCount>1,n}static handleMultiSegments(e){return function(e){let t=function(e){let t=e[0].constructor,n=0;for(let o of e)n+=o.length;let r=new t(n),i=0;for(let o of e)r.set(o,i),i+=o.length;return r}(e.map((e=>e.chunk.toUint8())));return new S(t)}(e)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:e}=this;this.chunk.byteLength<84&&m("ICC header is too short");for(let[t,n]of Object.entries(mt)){t=parseInt(t,10);let r=n(this.chunk,t);"\0\0\0\0"!==r&&e.set(t,r)}}parseTags(){let e,t,n,r,i,{raw:o}=this,s=this.chunk.getUint32(128),a=132,c=this.chunk.byteLength;for(;s--;){if(e=this.chunk.getString(a,4),t=this.chunk.getUint32(a+4),n=this.chunk.getUint32(a+8),r=this.chunk.getString(t,4),t+n>c)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");i=this.parseTag(r,t,n),void 0!==i&&"\0\0\0\0"!==i&&o.set(e,i),a+=12}}parseTag(e,t,n){switch(e){case"desc":return this.parseDesc(t);case"mluc":return this.parseMluc(t);case"text":return this.parseText(t,n);case"sig ":return this.parseSig(t)}if(!(t+n>this.chunk.byteLength))return this.chunk.getUint8Array(t,n)}parseDesc(e){let t=this.chunk.getUint32(e+8)-1;return b(this.chunk.getString(e+12,t))}parseText(e,t){return b(this.chunk.getString(e+8,t-8))}parseSig(e){return b(this.chunk.getString(e+8,4))}parseMluc(e){let{chunk:t}=this,n=t.getUint32(e+8),r=t.getUint32(e+12),i=e+16,o=[];for(let s=0;s<n;s++){let n=t.getString(i+0,2),s=t.getString(i+2,2),a=t.getUint32(i+4),c=t.getUint32(i+8)+e,u=b(t.getUnicodeString(c,a));o.push({lang:n,country:s,text:u}),i+=r}return 1===n?o[0].text:o}translateValue(e,t){return"string"==typeof e?t[e]||t[e.toLowerCase()]||e:t[e]||e}}d(yt,"type","icc"),d(yt,"multiSegment",!0),d(yt,"headerLength",18);const mt={4:bt,8:function(e,t){return[e.getUint8(t),e.getUint8(t+1)>>4,e.getUint8(t+1)%16].map((e=>e.toString(10))).join(".")},12:bt,16:bt,20:bt,24:function(e,t){const n=e.getUint16(t),r=e.getUint16(t+2)-1,i=e.getUint16(t+4),o=e.getUint16(t+6),s=e.getUint16(t+8),a=e.getUint16(t+10);return new Date(Date.UTC(n,r,i,o,s,a))},36:bt,40:bt,48:bt,52:bt,64:(e,t)=>e.getUint32(t),80:bt};function bt(e,t){return b(e.getString(t,4))}I.set("icc",yt),k(U,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const vt={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},Et={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};k(F,"icc",[[4,vt],[12,Et],[40,Object.assign({},vt,Et)],[48,vt],[80,vt],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class _t extends ae{static canHandle(e,t,n){return 237===e.getUint8(t+1)&&"Photoshop"===e.getString(t+4,9)&&void 0!==this.containsIptc8bim(e,t,n)}static headerLength(e,t,n){let r,i=this.containsIptc8bim(e,t,n);if(void 0!==i)return r=e.getUint8(t+i+7),r%2!=0&&(r+=1),0===r&&(r=4),i+8+r}static containsIptc8bim(e,t,n){for(let r=0;r<n;r++)if(this.isIptcSegmentHead(e,t+r))return r}static isIptcSegmentHead(e,t){return 56===e.getUint8(t)&&943868237===e.getUint32(t)&&1028===e.getUint16(t+4)}parse(){let{raw:e}=this,t=this.chunk.byteLength-1,n=!1;for(let r=0;r<t;r++)if(28===this.chunk.getUint8(r)&&2===this.chunk.getUint8(r+1)){n=!0;let t=this.chunk.getUint16(r+3),i=this.chunk.getUint8(r+2),o=this.chunk.getLatin1String(r+5,t);e.set(i,this.pluralizeValue(e.get(i),o)),r+=4+t}else if(n)break;return this.translate(),this.output}pluralizeValue(e,t){return void 0!==e?e instanceof Array?(e.push(t),e):[e,t]:t}}d(_t,"type","iptc"),d(_t,"translateValues",!1),d(_t,"reviveValues",!1),I.set("iptc",_t),k(U,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),k(F,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);const wt=rt},45528:(e,t,n)=>{"use strict";n.d(t,{Yn:()=>C});var r,i=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},o=function(e){if("loading"===document.readyState)return"loading";var t=i();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},s=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},a=function(e,t){var n="";try{for(;e&&9!==e.nodeType;){var r=e,i=r.id?"#"+r.id:s(r)+(r.className&&r.className.length?"."+r.className.replace(/\s+/g,"."):"");if(n.length+i.length>(t||100)-1)return n||i;if(n=n?i+">"+n:i,r.id)break;e=r.parentNode}}catch(e){}return n},c=-1,u=function(){return c},l=function(e){addEventListener("pageshow",(function(t){t.persisted&&(c=t.timeStamp,e(t))}),!0)},f=function(){var e=i();return e&&e.activationStart||0},h=function(e,t){var n=i(),r="navigate";return u()>=0?r="back-forward-cache":n&&(r=document.prerendering||f()>0?"prerender":document.wasDiscarded?"restore":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},d=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},p=function(e,t,n,r){var i,o;return function(s){t.value>=0&&(s||r)&&((o=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=o,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},g=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},y=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},m=(new Date,0),b=1/0,v=0,E=function(e){e.forEach((function(e){e.interactionId&&(b=Math.min(b,e.interactionId),v=Math.max(v,e.interactionId),m=v?(v-b)/7+1:0)}))},_=function(){return r?m:performance.interactionCount||0},w=function(){"interactionCount"in performance||r||(r=d("event",E,{type:"event",buffered:!0,durationThreshold:0}))},S=0,O=function(){return _()-S},T=[],A={},I=function(e){var t=T[T.length-1],n=A[e.interactionId];if(n||T.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};A[r.id]=r,T.push(r)}T.sort((function(e,t){return t.latency-e.latency})),T.splice(10).forEach((function(e){delete A[e.id]}))}},C=function(e,t){!function(e,t){t=t||{},y((function(){var n=[200,500];w();var r,i=h("INP"),o=function(e){e.forEach((function(e){e.interactionId&&I(e),"first-input"===e.entryType&&!T.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&I(e)}));var t,n=(t=Math.min(T.length-1,Math.floor(O()/50)),T[t]);n&&n.latency!==i.value&&(i.value=n.latency,i.entries=n.entries,r())},s=d("event",o,{durationThreshold:t.durationThreshold||40});r=p(e,i,n,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),g((function(){o(s.takeRecords()),i.value<0&&O()>0&&(i.value=0,i.entries=[]),r(!0)})),l((function(){T=[],S=_(),i=h("INP"),r=p(e,i,n,t.reportAllChanges)})))}))}((function(t){!function(e){if(e.entries.length){var t=e.entries.sort((function(e,t){return t.duration-e.duration||t.processingEnd-t.processingStart-(e.processingEnd-e.processingStart)}))[0];e.attribution={eventTarget:a(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:o(t.startTime)}}else e.attribution={}}(t),e(t)}),t)}}}]);
//# sourceMappingURL=sourcemaps/1c0c20ccb604ced3.vendor.js.map